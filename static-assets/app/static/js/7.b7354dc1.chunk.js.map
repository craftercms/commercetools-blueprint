{"version":3,"sources":["components/shared/range_slider/Range.js","components/app/Facets.js","components/app/ProductsListing.js"],"names":["Range","createSliderWithTooltip","Slider","RangeTheme","_PureComponent","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","_this$props","this","props","min","max","marks","tipFormatter","tipOptions","onChange","onAfterChange","_jsxs","className","children","_jsx","defaultValue","tipProps","PureComponent","defaultProps","visible","MultipleSelectionFacet","title","facets","checked","onSelection","map","facet","CheckBox","name","label","includes","e","target","SingleSelectionFacet","renderRadioButtonField","radioValue","input","RangeFacet","HierarchicalFacets","Fragment","concat","onClick","length","_objectSpread","cardigans_n_sweaters","ProductListing","dispatch","useDispatch","history","_useSelector","useSelector","state","products","byId","query","loading","errors","Object","values","inputRef","useRef","queryString","qs","location","search","facetMeta","list","types","forEach","_ref","type","push","entries","_ref2","_ref3","_slicedToArray","split","reduce","obj","index","_defineProperty","parseInt","fetch","fetchProducts","useEffect","locale","currency","current","keywords","Layout","Container","FETCH_PRODUCTS","Alert","color","icon","dismiss","Button","outline","Spinner","contained","_Fragment","Row","Col","md","Link","to","ReactPaginate","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","pageRangeDisplayed","marginPagesDisplayed","activeClassName","initialPage","offset","limit","pageCount","Math","ceil","total","onPageChange","_ref9","nextPage","newQS","nextPageIndex","nextOffset","q","price","rating","categories","colors","join","onOffsetChanged","selected","disableInitialCallback","previousLabel","ChevronLeftIcon","nextLabel","ChevronRightIcon","product","Product","id","style","background","marginBottom","border","SearchIcon","ref","placeholder","onKeyPress","onKeywordsChange","Component","facetItem","which","_ref6","collection","_toConsumableArray","filter","_value","_ref7","_ref8","val","onMultipleValueChange","items","_facet_","_ref4","_ref5","onRangeChange"],"mappings":"uUA+BMA,GAAQC,EADkBC,IAAOD,yBACDC,IAAOF,OAExBG,EAAU,SAAAC,GAAAC,YAAAF,EAAAC,GAAA,IAAAE,EAAAC,YAAAJ,GAAA,SAAAA,IAAA,OAAAK,YAAA,KAAAL,GAAAG,EAAAG,MAAA,KAAAC,UAAA,CA+C5B,OA/C4BC,YAAAR,EAAA,EAAAS,IAAA,SAAAC,MAe7B,WACE,IAAAC,EASIC,KAAKC,MARPC,EAAGH,EAAHG,IACAC,EAAGJ,EAAHI,IACAC,EAAKL,EAALK,MACAN,EAAKC,EAALD,MACAO,EAAYN,EAAZM,aACAC,EAAUP,EAAVO,WACAC,EAAQR,EAARQ,SACAC,EAAaT,EAAbS,cAGF,OACEC,eAAA,OAAKC,UAAU,SAAQC,SAAA,CACrBC,cAAA,OAAKF,UAAU,cAAaC,SAC1BC,cAAA,KAAAD,SAAIN,EAAeA,EAAaH,GAAOA,MAEzCU,cAAA,OAAKF,UAAU,cAAaC,SAC1BC,cAAA,KAAAD,SAAIN,EAAeA,EAAaF,GAAOA,MAEzCS,cAAC3B,EAAK,CACJiB,IAAKA,EACLC,IAAKA,EACLU,aAAcf,EACdO,aAAcA,EACdD,MAAOA,EACPU,SAAUR,EACVE,cAAeA,EACfD,SAAUA,MAIlB,KAACnB,CAAA,CA/C4B,CAAS2B,iBAAnB3B,EASZ4B,aAAe,CACpBZ,MAAO,CAAC,EACRC,aAAc,SAAAP,GAAK,OAAIA,CAAK,EAC5BQ,WAAY,CAACW,SAAS,ICkCnB,SAASC,EAAuBjB,GACrC,IACEkB,EAIElB,EAJFkB,MACAC,EAGEnB,EAHFmB,OACAC,EAEEpB,EAFFoB,QACAC,EACErB,EADFqB,YAEF,OACEb,eAAA,OAAKC,UAAU,4BAA2BC,SAAA,CACvCQ,GAASP,cAAA,MAAIF,UAAU,mBAAkBC,SAAEQ,IAC5CP,cAAA,OAAKF,UAAU,mBAAkBC,SAE7BS,EAAOG,KAAI,SAACC,GAAK,OACfZ,cAAA,OAAuBF,UAAU,yBAAwBC,SACvDC,cAACa,IAAQ,CACPC,KAAK,aACLC,MAAOH,EAAMG,MACb7B,MAAO0B,EAAM1B,MACbuB,QAASA,EAAQO,SAASJ,EAAM1B,OAChCS,SAAU,SAACsB,GAAC,OAAKP,EAAYO,EAAEC,OAAOT,QAASG,EAAM,KAN/CA,EAAM1B,MAQV,QAMlB,CAEO,SAASiC,EAAqB9B,GACnC,IACEkB,EAEElB,EAFFkB,MACAC,EACEnB,EADFmB,OAEF,OACEX,eAAA,OAAKC,UAAU,0BAAyBC,SAAA,CACrCQ,GAASP,cAAA,MAAIF,UAAU,mBAAkBC,SAAEQ,IAC5CP,cAAA,OAAKF,UAAU,mBAAkBC,SAE7BS,EAAOG,KAAI,SAACC,GAAK,OACfZ,cAAA,OAAuBF,UAAU,yBAAwBC,SAErDqB,YAAuB,CACrBL,MAAOH,EAAMG,MACbM,WAAYT,EAAM1B,MAClBoC,MAAO,CACLpC,MAAOsB,EAAO,GAAGtB,MACjB4B,KAAM,kBACNnB,SAAU,WAAe,MARvBiB,EAAM1B,MAYV,QAMlB,CAEO,SAASqC,EAAWlC,GACzB,IACEC,EAMED,EANFC,IACAC,EAKEF,EALFE,IACAL,EAIEG,EAJFH,MACAqB,EAGElB,EAHFkB,MACAZ,EAEEN,EAFFM,SACAF,EACEJ,EADFI,aAEF,OACEI,eAAA,OAAKC,UAAU,wBAAuBC,SAAA,CACpCC,cAAA,MAAIF,UAAU,mBAAkBC,SAAEQ,IAClCP,cAAC3B,EAAK,CACJiB,IAAKA,EACLC,IAAKA,EACLL,MAAOA,EACPQ,WAAY,CAAEW,SAAS,GACvBT,cAAeD,EACfF,aAAcA,MAItB,CAEA0B,EAAqBf,aACnBE,EAAuBF,aAvHlB,SAASoB,EAAmBnC,GACjC,IACEkB,EAIElB,EAJFkB,MACAC,EAGEnB,EAHFmB,OACAC,EAEEpB,EAFFoB,QACAC,EACErB,EADFqB,YAEF,OACEb,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CACjCQ,GAASP,cAAA,MAAIF,UAAU,mBAAkBC,SAAC,aAEzCS,EAAOG,KAAI,SAACC,GAAK,OACff,eAAC4B,WAAQ,CAAA1B,SAAA,CACPC,cAAA,UACEF,UAAS,6BAAA4B,OAA+BjB,EAAQG,EAAM1B,OAAS,qCAAuC,IACtGyC,QAAS,kBAAMjB,EAAYE,EAAM,EAACb,SAClCa,EAAMG,QAENH,EAAMb,UACNa,EAAMb,SAAS6B,QACfnB,EAAQG,EAAM1B,QACdc,cAACwB,EAAkBK,wBAAA,GACbxC,GAAK,IACTkB,MAAO,KACPC,OAAQI,EAAMb,cAZLa,EAAM1B,MAeV,MAKrB,EAwFuBkB,aAAe,CAChCG,MAAO,WACPC,OA1IS,CACb,CAAEO,MAAO,UAAW7B,MAAO,WAC3B,CACE6B,MAAO,uBACP7B,MAAO,uBACPa,SAAU,CACR,CAAEgB,MAAO,WAAY7B,MAAO,YAC5B,CAAE6B,MAAO,YAAa7B,MAAO,aAC7B,CAAE6B,MAAO,cAAe7B,MAAO,iBAGnC,CAAE6B,MAAO,YAAa7B,MAAO,aAC7B,CAAE6B,MAAO,WAAY7B,MAAO,YAC5B,CAAE6B,MAAO,UAAW7B,MAAO,YA8HvBuB,QAAS,CAAEqB,sBAAsB,GACjCpB,YAAa,SAACE,GAAmB,G,oIC9HxB,SAASmB,EAAe1C,GAErC,IAAM2C,EAAWC,cACTC,EAAY7C,EAAZ6C,QACRC,EAAiDC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAQ,IAA5EC,EAAIJ,EAAJI,KAAM/B,EAAM2B,EAAN3B,OAAQgC,EAAKL,EAALK,MAAOC,EAAON,EAAPM,QAASC,EAAMP,EAANO,OAChCJ,EAAWC,EAAOI,OAAOC,OAAOL,GAAQ,KACxCM,EAAWC,mBAEXC,EAAcC,QAAS3D,EAAM4D,SAASC,QACtCC,EAAY,CAAEC,KAAM,GAAIC,MAAO,CAAC,EAAGhB,MAAO,CAAC,GAE7C7B,GACFA,EAAO8C,SAAQ,SAAAC,GAAsB,IAAnBC,EAAID,EAAJC,KAAMtE,EAAKqE,EAALrE,MAGtB,OAFAiE,EAAUC,KAAKK,KAAKvE,GACpBiE,EAAUE,MAAMnE,GAASsE,EACjBA,GACN,IAAK,WACHL,EAAUd,MAAMnD,GAAS,GACzB,MACF,IAAK,SACHiE,EAAUd,MAAMnD,GAAS,GACzB,MACF,IAAK,QACHiE,EAAUd,MAAMnD,GAAS,KAK/B,IAMFyD,OAAOe,QAAQX,GAAaO,SAAQ,SAAAK,GAAmB,IAADC,EAAAC,YAAAF,EAAA,GAAhB1E,EAAG2E,EAAA,GAAE1E,EAAK0E,EAAA,GAClC,MAAR3E,GACFA,EAAM,WACNkE,EAAUd,MAAMpD,GAAOC,GAEvBiE,EAAUd,MAAMpD,GADC,WAARA,GAA4B,UAARA,EACNC,EAEC,CAAC,SAAU,SAAS8B,SAAS/B,GAEjDC,EAAM4E,MAAM,KAAKC,QACf,SAACC,EAAK9E,EAAO+E,GAAK,OAAApC,wBAAA,GACbmC,GAAGE,YAAA,GACU,IAAVD,EAAc,MAAQ,MAAQE,SAASjF,IAAM,GAErD,CAAC,GAIHiE,EAAUd,MAAMpD,GAAOC,EAAM4E,MAAM,IAG3C,IAEA,IAAMM,EAAQ,WACZpC,EAASqC,YAAclB,EAAUd,OACnC,EA4EA,OAxEAiC,oBAAUF,EAAO,CAAClC,EAAQe,SAASC,OAAQV,EAAM+B,OAAQ/B,EAAMgC,SAAUxC,IAEzEsC,qBACE,YACGzB,EAAS4B,SAAW,CAAEvF,MAAO,KAAMA,MAAQsD,EAAMkC,QACpD,GACA,CAAClC,EAAMkC,WAmEP1E,cAAC2E,IAAM,CAAA5E,SACLF,eAAC+E,IAAS,CAAA7E,SAAA,CAEL2C,EAAOmC,MACR7E,cAAC8E,IAAK,CAACC,MAAM,SAASjF,UAAU,kBAAkBkF,MAAI,EAACC,SAAS,EAAMlF,SACpEF,eAAA,QAAAE,SAAA,CAAM,kDAEJC,cAACkF,IAAM,CAACC,SAAO,EACPxD,QAASyC,EACTtE,UAAU,mBAAkBC,SACnC,eAOJ0C,EAAQoC,MACT7E,cAACoF,IAAO,CAACC,WAAS,KAGW,IAA5B5C,EAAQoC,MACT7E,cAAAsF,WAAA,CAAAvF,SACEF,eAAC0F,IAAG,CAAAxF,SAAA,CAEAoD,EAAUd,MAAMqC,UAChB7E,eAAC2F,IAAG,CAACC,GAAI,GAAG1F,SAAA,CACVF,eAAA,MAAIC,UAAU,aAAYC,SAAA,CAAC,uBAAqBoD,EAAUd,MAAMqC,SAAS,OACzE1E,cAAC0F,IAAI,CAAC5F,UAAU,eAAe6F,GAAG,WAAU5F,SAAC,qBAGjDC,cAACwF,IAAG,CAACC,GAAI,EAAE1F,SACTF,eAAA,OAAKC,UAAU,sBAAqBC,SAAA,CAClCC,cAAA,OAAKF,UAAU,wBAAuBC,SACpCC,cAAC4F,IAAa,CACZC,mBAAmB,aACnBC,cAAc,mBACdC,kBAAkB,mBAClBC,kBAAkB,mBAClBC,sBAAsB,2CACtBC,cAAc,mBACdC,kBAAkB,2CAClBC,mBAAoB,EACpBC,qBAAsB,EACtBC,gBAAgB,SAChBC,YAAc/D,EAAMgE,OAAShE,EAAMiE,MACnCC,UAAWC,KAAKC,KAAKpE,EAAMqE,MAAQrE,EAAMiE,OACzCK,aAAc,SAAAC,GAAW,OAhE7C,SAAyBC,GACvB,IAAMC,EAAQ,GACRC,EAAgBF,EAAW,EAE3BG,EAAa3E,EAAMiE,MAAQS,EAElB,MAAdC,GAAuBF,EAAMxD,KAAK,UAAD/B,OAAWyF,IAC7CpE,EAAYqE,GAAKH,EAAMxD,KAAK,KAAD/B,OAAMqB,EAAYqE,IAC7CrE,EAAYsE,OAASJ,EAAMxD,KAAK,SAAD/B,OAAUqB,EAAYsE,QACrDtE,EAAYuE,QAAUL,EAAMxD,KAAK,UAAD/B,OAAWqB,EAAYuE,SACvDvE,EAAYwE,YAAcN,EAAMxD,KAAK,cAAD/B,OAAeqB,EAAYwE,aAC/DxE,EAAYyE,QAAUP,EAAMxD,KAAK,UAAD/B,OAAWqB,EAAYyE,SAEvDtF,EAAQuB,KAAK,WAAD/B,OAAYuF,EAAMrF,OAAM,IAAAF,OAAOuF,EAAMQ,KAAK,MAAS,IACjE,CAkD2DC,CAAPX,EAAfY,SAA8C,EAAE,EACjEC,wBAAwB,EACxBC,cAAe7H,cAAC8H,IAAe,CAAChI,UAAU,0BAC1CiI,UAAW/H,cAACgI,IAAgB,CAAClI,UAAU,8BAG3CD,eAAA,OAAKC,UAAU,gBAAeC,SAAA,CAC3BuC,EAAS3B,KAAI,SAAAsH,GAAO,OACnBjI,cAACkI,IAAO,CAAkBD,QAASA,GAArBA,EAAQE,GAAuB,IAGxB,IAApB7F,EAASV,QACR5B,cAAC8E,IAAK,CAACC,MAAM,OAAOjF,UAAU,kBAAkBkF,MAAI,EAACC,SAAS,EAAMlF,SAClEF,eAAA,QAAAE,SAAA,CAAM,2BACJC,cAAC0F,IAAI,CAACC,GAAG,WAAU5F,SAAC,kBAAoB,iBAQtDF,eAAC2F,IAAG,CAACC,GAAI,EAAE1F,SAAA,CAETC,cAAA,OAAKF,UAAU,OAAOsI,MAAO,CAAEC,WAAY,QAASC,aAAc,GAAIC,OAAQ,kBAAmBxI,SAC/FF,eAAA,OAAKC,UAAU,yBAAwBC,SAAA,CACrCC,cAAA,OAAKF,UAAU,wBAAuBC,SACpCC,cAACwI,IAAU,MAEbxI,cAAA,SACEyI,IAAK5F,EACLW,KAAK,OACL1C,KAAK,WACL4H,YAAY,cACZzI,aAAcuC,EAAMkC,SACpBiE,WACE,SAAC1H,GAAC,MACU,UAAVA,EAAEhC,KAjH1B,SAA0BC,GACxB,IAAM+H,EAAQ,GAEdA,EAAMxD,KAAK,KAAD/B,OAAMxC,GAAS,KACzB6D,EAAYsE,OAASJ,EAAMxD,KAAK,SAAD/B,OAAUqB,EAAYsE,QACrDtE,EAAYuE,QAAUL,EAAMxD,KAAK,UAAD/B,OAAWqB,EAAYuE,SACvDvE,EAAYwE,YAAcN,EAAMxD,KAAK,cAAD/B,OAAeqB,EAAYwE,aAC/DxE,EAAYyE,QAAUP,EAAMxD,KAAK,UAAD/B,OAAWqB,EAAYyE,SAEvDtF,EAAQuB,KAAK,WAAD/B,OAAYuF,EAAMrF,OAAM,IAAAF,OAAOuF,EAAMQ,KAAK,MAAS,IACjE,CAwGwBmB,CAAiB3H,EAAEC,OAAOhC,MAAM,SAOxCsB,GAAUA,EAAOG,KAAI,SAACC,GACpB,OAAQA,EAAM4C,MACZ,IAAK,SACL,IAAK,WACH,IAAMqF,EAA2B,aAAfjI,EAAM4C,KACpBlD,EACAa,EACJ,OAAOnB,cAAC6I,EAAS,CAEftI,MAAOK,EAAME,KACbL,QAAS0C,EAAUd,MAAMzB,EAAM1B,OAC/BwB,YAAa,SAACD,EAASqI,GAAS,OA5JxD,SAA+BC,EAAOtI,EAAOuI,GAAc,IAAV9J,EAAK8J,EAAL9J,MAE3C+J,EAAazG,EAAMuG,IAAU,GAE/BE,EADExI,EACQ,GAAAiB,OAAAwH,YAAOD,GAAU,CAAE/J,IAEhB+J,EAAWE,QAAO,SAACC,GAAM,OAAKA,IAAWlK,CAAK,IAG7D,IAAM+H,EAAQ,GAEdlE,EAAYqE,GAAKH,EAAMxD,KAAK,KAAD/B,OAAMqB,EAAYqE,IAC7CzE,OAAOe,QAAQX,GAAaO,SAAQ,SAAA+F,GAAiB,IAADC,EAAAzF,YAAAwF,EAAA,GAAdpK,EAAGqK,EAAA,GAAEC,EAAGD,EAAA,GAChC,WAARrK,EACFgI,EAAMxD,KAAK,GAAD/B,OAAIzC,EAAG,OACRA,IAAQ8J,GACjB9B,EAAMxD,KAAK,GAAD/B,OAAIzC,EAAG,KAAAyC,OAAI6H,GACzB,IACCN,EAAWrH,OAAS,GAAMqF,EAAMxD,KAAK,GAAD/B,OAAIqH,EAAK,KAAArH,OAAIuH,EAAWxB,KAAK,OAElEvF,EAAQuB,KAAK,WAAD/B,OAAYuF,EAAMrF,OAAM,IAAAF,OAAOuF,EAAMQ,KAAK,MAAS,IAEjE,CAsI6D+B,CAAsB5I,EAAM1B,MAAOuB,EAASqI,EAAU,EAC3FtI,OACEI,EAAM6I,MAAM9I,KAAI,SAAC+I,GAAO,MAAM,CAC5BxK,MAAOwK,EAAQxK,MACf6B,MAAO2I,EAAQ5I,KAChB,KAREF,EAAM1B,OAYf,IAAK,QACH,OAAOc,cAACuB,EAAU,CAChB5B,SAAU,SAACT,GAAK,OAlLxC,SAAuB6J,EAAO7J,GAC5B,IAAM+H,EAAQ,GAEdlE,EAAYqE,GAAKH,EAAMxD,KAAK,KAAD/B,OAAMqB,EAAYqE,IAC7CzE,OAAOe,QAAQX,GAAaO,SAAQ,SAAAqG,GAAA,IAAAC,EAAA/F,YAAA8F,EAAA,GAAE1K,EAAG2K,EAAA,GAAEL,EAAGK,EAAA,UAAM3K,IAAQ8J,GAAS9B,EAAMxD,KAAK,GAAD/B,OAAIzC,EAAG,KAAAyC,OAAI6H,GAAM,IAChGtC,EAAMxD,KAAK,GAAD/B,OAAIqH,EAAK,KAAArH,OAAIxC,EAAMuI,KAAK,OAElCvF,EAAQuB,KAAK,WAAD/B,OAAYuF,EAAMrF,OAAM,IAAAF,OAAOuF,EAAMQ,KAAK,MAAS,IAEjE,CAyK6CoC,CAAcjJ,EAAM1B,MAAOA,EAAM,EAEtDqB,MAAOK,EAAME,KACbxB,IAAKsB,EAAMtB,IACXC,IAAKqB,EAAMrB,IACXE,aAA8B,UAAhBmB,EAAM1B,MAAoB,SAAAA,GAAK,UAAAwC,OAAQxC,EAAK,EAAK,SAAAA,GAAK,OAAIA,CAAK,EAC7EA,MACEiE,EAAUd,MAAMzB,EAAM1B,OAClB,CAACiE,EAAUd,MAAMzB,EAAM1B,OAAOI,IAAK6D,EAAUd,MAAMzB,EAAM1B,OAAOK,KAChE,CAACqB,EAAMtB,IAAKsB,EAAMrB,MARnBqB,EAAM1B,OAYf,QACE,OAAO,KAEb,gBAUlB,C","file":"static/js/7.b7354dc1.chunk.js","sourcesContent":["/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable prefer-destructuring */\nimport 'rc-slider/assets/index.css';\nimport React, { PureComponent } from 'react';\nimport Slider from 'rc-slider';\nimport PropTypes from 'prop-types';\n\nconst createSliderWithTooltip = Slider.createSliderWithTooltip;\nconst Range = createSliderWithTooltip(Slider.Range);\n\nexport default class RangeTheme extends PureComponent {\n  static propTypes = {\n    marks: PropTypes.shape(),\n    value: PropTypes.arrayOf(PropTypes.number).isRequired,\n    min: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    tipFormatter: PropTypes.func,\n  };\n\n  static defaultProps = {\n    marks: {},\n    tipFormatter: value => value,\n    tipOptions: {visible: true}\n  };\n\n  render() {\n    const {\n      min,\n      max,\n      marks,\n      value,\n      tipFormatter,\n      tipOptions,\n      onChange,\n      onAfterChange\n    } = this.props;\n\n    return (\n      <div className=\"slider\">\n        <div className=\"slider__min\">\n          <p>{tipFormatter ? tipFormatter(min) : min}</p>\n        </div>\n        <div className=\"slider__max\">\n          <p>{tipFormatter ? tipFormatter(max) : max}</p>\n        </div>\n        <Range\n          min={min}\n          max={max}\n          defaultValue={value}\n          tipFormatter={tipFormatter}\n          marks={marks}\n          tipProps={tipOptions}\n          onAfterChange={onAfterChange}\n          onChange={onChange}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { Fragment } from 'react';\nimport { CheckBox } from '../shared/form/CheckBox';\nimport renderRadioButtonField from '../shared/form/RadioButton';\nimport Range from '../shared/range_slider/Range';\n\nconst SAMPLE = [\n  { label: 'Dresses', value: 'dresses' },\n  {\n    label: 'Cardigans & Sweaters',\n    value: 'cardigans_n_sweaters',\n    children: [\n      { label: 'Sweaters', value: 'sweaters' },\n      { label: 'Cardigans', value: 'cardigans' },\n      { label: 'Sweatshirts', value: 'sweatshirts' }\n    ]\n  },\n  { label: 'Jumpsuits', value: 'jumpsuits' },\n  { label: 'T-shirts', value: 't-shirts' },\n  { label: 'Jackets', value: 'jackets' }\n];\n\nexport function HierarchicalFacets(props) {\n  const {\n    title,\n    facets,\n    checked,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"hierarchical-facets\">\n      {title && <h2 className=\"facet-list-title\">Clothing</h2>}\n      {\n        facets.map((facet) =>\n          <Fragment key={facet.value}>\n            <button\n              className={`hierarchical-facets__item ${checked[facet.value] ? 'hierarchical-facets__item--checked' : ''}`}\n              onClick={() => onSelection(facet)}\n            >{facet.label}</button>\n            {\n              facet.children &&\n              facet.children.length &&\n              checked[facet.value] &&\n              <HierarchicalFacets\n                {...props}\n                title={null}\n                facets={facet.children}\n              />\n            }\n          </Fragment>\n        )\n      }\n    </nav>\n  )\n}\n\nexport function MultipleSelectionFacet(props) {\n  const {\n    title,\n    facets,\n    checked,\n    onSelection\n  } = props;\n  return (\n    <nav className=\"multiple-selection-facets\">\n      {title && <h2 className=\"facet-list-title\">{title}</h2>}\n      <div className=\"form__form-group\">\n        {\n          facets.map((facet) =>\n            <div key={facet.value} className=\"form__form-group-field\">\n              <CheckBox\n                name=\"categories\"\n                label={facet.label}\n                value={facet.value}\n                checked={checked.includes(facet.value)}\n                onChange={(e) => onSelection(e.target.checked, facet)}\n              />\n            </div>\n          )\n        }\n      </div>\n    </nav>\n  );\n}\n\nexport function SingleSelectionFacet(props) {\n  const {\n    title,\n    facets\n  } = props;\n  return (\n    <nav className=\"single-selection-facets\">\n      {title && <h2 className=\"facet-list-title\">{title}</h2>}\n      <div className=\"form__form-group\">\n        {\n          facets.map((facet) =>\n            <div key={facet.value} className=\"form__form-group-field\">\n              {\n                renderRadioButtonField({\n                  label: facet.label,\n                  radioValue: facet.value,\n                  input: {\n                    value: facets[0].value,\n                    name: 'singleGroupName',\n                    onChange: () => void null\n                  }\n                })\n              }\n            </div>\n          )\n        }\n      </div>\n    </nav>\n  );\n}\n\nexport function RangeFacet(props) {\n  const {\n    min,\n    max,\n    value,\n    title,\n    onChange,\n    tipFormatter\n  } = props;\n  return (\n    <nav className=\"range-selection-facet\">\n      <h2 className=\"facet-list-title\">{title}</h2>\n      <Range\n        min={min}\n        max={max}\n        value={value}\n        tipOptions={{ visible: false }}\n        onAfterChange={onChange}\n        tipFormatter={tipFormatter}\n      />\n    </nav>\n  )\n}\n\nSingleSelectionFacet.defaultProps =\n  MultipleSelectionFacet.defaultProps =\n    HierarchicalFacets.defaultProps = {\n      title: 'Clothing',\n      facets: SAMPLE,\n      checked: { cardigans_n_sweaters: true },\n      onSelection: (facet) => void null\n    };\n\n\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useRef } from 'react';\nimport { Button, Col, Container, Row } from 'reactstrap';\nimport Layout from './Layout';\nimport {\n  MultipleSelectionFacet,\n  RangeFacet, SingleSelectionFacet,\n} from './Facets';\nimport Spinner from '../shared/Spinner';\nimport Product from './Product';\nimport * as qs from 'query-string';\nimport { fetchProducts, FETCH_PRODUCTS } from '../../redux/actions/productsActions';\nimport Alert from '../shared/Alert';\nimport { Link } from 'react-router-dom';\nimport SearchIcon from 'mdi-react/SearchIcon';\nimport ChevronRightIcon from 'mdi-react/ChevronRightIcon';\nimport ChevronLeftIcon from 'mdi-react/ChevronLeftIcon';\nimport ReactPaginate from 'react-paginate';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport default function ProductListing(props) {\n\n  const dispatch = useDispatch();\n  const { history } = props;\n  const { byId, facets, query, loading, errors } = useSelector(state => state.products);\n  const products = byId ? Object.values(byId) : null;\n  const inputRef = useRef();\n\n  const queryString = qs.parse(props.location.search);\n  const facetMeta = { list: [], types: {}, state: {} };\n\n  if (facets) {\n    facets.forEach(({ type, value }) => {\n      facetMeta.list.push(value);\n      facetMeta.types[value] = type;\n      switch (type) {\n        case 'multiple':\n          facetMeta.state[value] = [];\n          break;\n        case 'single':\n          facetMeta.state[value] = '';\n          break;\n        case 'range':\n          facetMeta.state[value] = null;\n          break;\n        default:\n          break;\n      }\n    });\n  }\n\n  // Facets haven't loaded during the first render so can't rely\n  // on facet type to do the proper URL decoding. Relying on inspection\n  // for now.\n  Object.entries(queryString).forEach(([key, value]) => {\n    if (key === 'q') {\n      key = 'keywords';\n      facetMeta.state[key] = value;\n    } else if (key === 'offset' || key === 'limit') {\n      facetMeta.state[key] = value;\n    } else {\n      facetMeta.state[key] = (['rating', 'price'].includes(key))\n        ? (\n          value.split('-').reduce(\n            (obj, value, index) => ({\n              ...obj,\n              ...{ [index === 0 ? 'min' : 'max']: parseInt(value) }\n            }),\n            {}\n          )\n        ) : (\n          // This should catch both single and multiple all the same\n          facetMeta.state[key] = value.split(',')\n        );\n    }\n  });\n\n  const fetch = () => {\n    dispatch(fetchProducts(facetMeta.state));\n  };\n\n  // Adding facetMeta.state is creating a loop\n  // eslint-disable-next-line\n  useEffect(fetch, [history.location.search, query.locale, query.currency, dispatch]);\n\n  useEffect(\n    () => {\n      (inputRef.current || { value: '' }).value = query.keywords;\n    },\n    [query.keywords]\n  );\n\n  function onRangeChange(which, value) {\n    const newQS = [];\n\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    Object.entries(queryString).forEach(([key, val]) => key !== which && newQS.push(`${key}=${val}`));\n    newQS.push(`${which}=${value.join('-')}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n\n  }\n\n  function onMultipleValueChange(which, checked, { value }) {\n\n    let collection = query[which] || [];\n    if (checked) {\n      collection = [...collection, value];\n    } else {\n      collection = collection.filter((_value) => _value !== value);\n    }\n\n    const newQS = [];\n\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    Object.entries(queryString).forEach(([key, val]) => {\n      if (key === 'offset') {\n        newQS.push(`${key}=0`)\n      } else if (key !== which)\n        newQS.push(`${key}=${val}`)\n    });\n    (collection.length > 0) && newQS.push(`${which}=${collection.join(',')}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n\n  }\n\n  function onKeywordsChange(value) {\n    const newQS = [];\n\n    newQS.push(`q=${value || ''}`);\n    queryString.price && newQS.push(`price=${queryString.price}`);\n    queryString.rating && newQS.push(`rating=${queryString.rating}`);\n    queryString.categories && newQS.push(`categories=${queryString.categories}`);\n    queryString.colors && newQS.push(`colors=${queryString.colors}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n  }\n\n  function onOffsetChanged(nextPage) {\n    const newQS = [];\n    const nextPageIndex = nextPage - 1;\n\n    const nextOffset = query.limit * nextPageIndex;\n\n    (nextOffset != null) && newQS.push(`offset=${nextOffset}`);\n    queryString.q && newQS.push(`q=${queryString.q}`);\n    queryString.price && newQS.push(`price=${queryString.price}`);\n    queryString.rating && newQS.push(`rating=${queryString.rating}`);\n    queryString.categories && newQS.push(`categories=${queryString.categories}`);\n    queryString.colors && newQS.push(`colors=${queryString.colors}`);\n\n    history.push(`/catalog${newQS.length ? `?${newQS.join('&')}` : ''}`);\n  }\n\n  return (\n    <Layout>\n      <Container>\n        {\n          (errors[FETCH_PRODUCTS]) &&\n          <Alert color=\"danger\" className=\"alert--bordered\" icon dismiss={false}>\n            <span>\n              An error has occurred trying to fetch products.\n              <Button outline\n                      onClick={fetch}\n                      className=\"btn-retry btn-sm\"\n              >\n                Retry\n              </Button>\n            </span>\n          </Alert>\n        }\n        {\n          (loading[FETCH_PRODUCTS]) &&\n          <Spinner contained/>\n        }\n        {\n          (loading[FETCH_PRODUCTS] === false) &&\n          <>\n            <Row>\n              {\n                facetMeta.state.keywords &&\n                <Col md={12}>\n                  <h2 className=\"page-title\">Search results for \"{facetMeta.state.keywords}\"</h2>\n                  <Link className=\"page-subhead\" to=\"/catalog\">(clear query)</Link>\n                </Col>\n              }\n              <Col md={9}>\n                <div className=\"catalog-items__wrap\">\n                  <div className=\"catalog-page-controls\">\n                    <ReactPaginate\n                      containerClassName=\"pagination\"\n                      pageClassName=\"pagination__item\"\n                      pageLinkClassName=\"pagination__link\"\n                      previousClassName=\"pagination__item\"\n                      previousLinkClassName=\"pagination__link pagination__link--arrow\"\n                      nextClassName=\"pagination__item\"\n                      nextLinkClassName=\"pagination__link pagination__link--arrow\"\n                      pageRangeDisplayed={3}\n                      marginPagesDisplayed={3}\n                      activeClassName=\"active\"\n                      initialPage={(query.offset / query.limit)}\n                      pageCount={Math.ceil(query.total / query.limit)}\n                      onPageChange={({ selected: index }) => onOffsetChanged(index + 1)}\n                      disableInitialCallback={true}\n                      previousLabel={<ChevronLeftIcon className=\"pagination__link-icon\" />}\n                      nextLabel={<ChevronRightIcon className=\"pagination__link-icon\" />}\n                    />\n                  </div>\n                  <div className=\"catalog-items\">\n                    {products.map(product =>\n                      <Product key={product.id} product={product}/>\n                    )}\n                    {\n                      (products.length === 0) && (\n                        <Alert color=\"info\" className=\"alert--bordered\" icon dismiss={false}>\n                          <span>No products to display (\n                            <Link to=\"/catalog\">clear filters</Link>\n                          )</span>\n                        </Alert>\n                      )\n                    }\n                  </div>\n                </div>\n              </Col>\n              <Col md={3}>\n\n                <div className=\"form\" style={{ background: 'white', marginBottom: 20, border: '1px solid #ddd' }}>\n                  <div className=\"form__form-group-field\">\n                    <div className=\"form__form-group-icon\">\n                      <SearchIcon/>\n                    </div>\n                    <input\n                      ref={inputRef}\n                      type=\"text\"\n                      name=\"keywords\"\n                      placeholder=\"Keywords...\"\n                      defaultValue={query.keywords}\n                      onKeyPress={\n                        (e) =>\n                          e.key === 'Enter' &&\n                          onKeywordsChange(e.target.value)\n                      }\n                    />\n                  </div>\n                </div>\n\n                {\n                  facets && facets.map((facet) => {\n                    switch (facet.type) {\n                      case 'single':\n                      case 'multiple': {\n                        const Component = facet.type === 'multiple'\n                          ? MultipleSelectionFacet\n                          : SingleSelectionFacet;\n                        return <Component\n                          key={facet.value}\n                          title={facet.name}\n                          checked={facetMeta.state[facet.value]}\n                          onSelection={(checked, facetItem) => onMultipleValueChange(facet.value, checked, facetItem)}\n                          facets={\n                            facet.items.map((_facet_) => ({\n                              value: _facet_.value,\n                              label: _facet_.name\n                            }))\n                          }\n                        />;\n                      }\n                      case 'range': {\n                        return <RangeFacet\n                          onChange={(value) => onRangeChange(facet.value, value)}\n                          key={facet.value}\n                          title={facet.name}\n                          min={facet.min}\n                          max={facet.max}\n                          tipFormatter={facet.value === 'price' ? value => `$${value}` : value => value}\n                          value={\n                            facetMeta.state[facet.value]\n                              ? [facetMeta.state[facet.value].min, facetMeta.state[facet.value].max]\n                              : [facet.min, facet.max]\n                          }\n                        />;\n                      }\n                      default:\n                        return null;\n                    }\n                  })\n                }\n\n              </Col>\n            </Row>\n          </>\n        }\n      </Container>\n    </Layout>\n  );\n};\n"],"sourceRoot":""}