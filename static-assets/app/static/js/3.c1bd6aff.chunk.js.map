{"version":3,"sources":["components/shared/utils.js","util/products.js","components/app/ProductGallery.js","redux/actions/usersActions.js","util/component.js","components/app/ProductCard.js","components/app/ProductDetails.js","components/app/LogIn.js","components/app/Register.js","components/app/NotFoundView.js","components/app/CartBody.js","components/app/CartView.js","components/app/ProfileSettings.js","components/app/OrderList.js","components/app/AddressCard.js","components/app/Account.js","components/shared/authorized.js","components/app/CheckoutView.js","components/app/OrderDetails.js","components/app/BlogEntry.js","components/app/Search.js","components/shared/contentTypeMap.js","components/shared/DynamicRoute.js","components/Routes.js","redux/actions/themeActions.js","redux/reducers/themeReducer.js","util/redux.js","util/array.js","redux/reducers/usersReducer.js","util/locale.js","redux/reducers/productsReducer.js","redux/epics/users.js","redux/epics/epics.js","redux/epics/products.js","redux/store.js","components/ScrollReset.js","translations/i18n.js","translations/resources.js","components/MainWrapper.js","components/App.js","components/app/Product.js","components/app/BlogTeaser.js","components/shared/form/CheckBox.js","components/shared/form/RadioButton.js","components/shared/queries.graphql.js","components/shared/context.js","redux/actions/productsActions.js","components/app/BlogRoll.js","img/burger.svg","components/app/Header.js","components/app/Footer.js","components/app/Layout.js","components/shared/hooks.js","util/constants.js","util/string.js","components/shared/Alert.js","components/shared/Empty.js","components/shared/Anchor.js","util/content.js"],"names":["isAuthoring","attr","document","documentElement","getAttribute","createResource","factory","result","status","suspender","then","response","error","read","siteName","getElementById","innerHTML","process","REACT_APP_CRAFTERCMS_SITE_ID","Cookies","get","Error","crafterConfig","baseUrl","_process$env$REACT_AP","REACT_APP_CRAFTERCMS_BASE_URL","site","crafterConf","configure","getProducts","params","arguments","length","undefined","qs","Object","entries","_objectSpread","locale","currency","map","_ref","_ref2","_slicedToArray","key","value","concat","ajax","join","useProductsQuery","_useSelector$query","useSelector","state","products","query","ProductGallery","props","_useReducer","useReducer","a","b","image","currentIndex","lightboxIsOpen","_useReducer2","setState","images","useEffect","_jsx","className","children","_jsxs","_Fragment","onClick","e","preventDefault","href","src","alt","img","i","type","index","changeImg","ModalGateway","Modal","onClose","Carousel","views","LOGIN","LOGIN_COMPLETE","LOGIN_FAILED","SET_PERSONA","LOGOUT","LOGOUT_COMPLETE","LOGOUT_FAILED","REGISTRATION_COMPLETE","SUBMIT_REGISTRATION_FAILED","FETCH_ORDERS","FETCH_ORDERS_COMPLETE","FETCH_ORDERS_FAILED","FETCH_ORDER","FETCH_ORDER_COMPLETE","FETCH_ORDER_FAILED","SET_LOGIN_REDIRECT","RESET_LOGIN_REDIRECT","ADD_USER_ADDRESS","ADD_USER_ADDRESS_COMPLETE","ADD_USER_ADDRESS_FAILED","EDIT_USER_ADDRESS","EDIT_USER_ADDRESS_COMPLETE","EDIT_USER_ADDRESS_FAILED","REMOVE_USER_ADDRESS","REMOVE_USER_ADDRESS_COMPLETE","REMOVE_USER_ADDRESS_FAILED","SET_USER_ADDRESS_DEFAULTS","SET_USER_ADDRESS_DEFAULTS_COMPLETE","SET_USER_ADDRESS_DEFAULTS_FAILED","loginComplete","user","root","payload","loginFailed","fetchOrderComplete","fetchOrderFailed","addAddressComplete","addAddressFailed","editAddressComplete","editAddressFailed","removeAddressComplete","removeAddressFailed","setAddressDefaultsComplete","setAddressDefaultsFailed","getLoginFormDefaults","email","localStorage","getItem","rememberMe","useCart","onEmpty","ref","useRef","current","dispatch","useDispatch","cart","items","fetchCart","useUser","redirect","onMissing","users","url","useOrder","id","order","orders","fetchOrder","useCartUpdateInFlight","loading","FETCH_CART","UPDATE_CART","ADD_TO_CART","REMOVE_FROM_CART","UPDATE_CART_ITEM_QUANTITY","Cookie","isSale","reducer","SubmitReview","product","isLoggedIn","onSuccess","rating","name","_useState5","useState","_useState6","setValue","_useState7","_useState8","comments","setComments","_useState9","_useState10","openModal","setOpenModal","_useState11","_useState12","message","setMessage","toggleOpen","widgetEmptyColors","widgetHoverColors","widgetRatedColors","widgetDimensions","Ratings","average","widgetSpacings","Widget","reviews","Button","outline","isOpen","toggle","Alert","color","text","changeRating","onChange","target","placeholder","ButtonToolbar","fetch","body","JSON","stringify","method","headers","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","json","sent","stop","_x","apply","disabled","VariantSelection","variants","components","options","variant","label","getVariantLabel","option","Select","clearable","classNamePrefix","attributes","filter","defaultProps","Option","_ref3","innerProps","isDisabled","toLowerCase","style","backgroundColor","boxShadow","ProductCard","initialState","_useState","_useState2","setImages","_useState3","_useState4","setVariant","_useMergeState","productId","variantId","quantity","_useMergeState2","cartItem","setCartItem","isInCart","updatesInFlight","reduce","iVariant","item","find","Card","CardBody","money","price","description","nextQuantity","parseInt","updateCartItemQuantity","onUpdateQuantity","removeFromCart","Link","to","ShoppingCartIcon","addToCart","onStock","fetchProduct","ProductDetails","match","byId","related","setRelated","sub","unsubscribe","keys","categories","oMap","category","ids","push","products$","limit","of","posts$","post","variables","posts","forkJoin","pipe","prod","slice","subscribe","_ref4","Layout","Container","Row","Col","md","lg","Product","BlogPostCard","hideSummary","slug_s","Spinner","LogInForm","history","useHistory","showPassword","setShowPassword","setError","meRemembered","querySelectorAll","focus","Form","initialValues","onSubmit","setItem","removeItem","catchError","loginRedirect","handleSubmit","AccountOutlineIcon","Field","component","KeyVariantIcon","EyeIcon","renderCheckBoxField","LogIn","header","useHeader","Anchor","logo_url_s","logo_s","logo_alt_t","RegisterForm","memo","values","MailRuIcon","RegistrationConfirmation","EmailIcon","CheckboxMarkedCircleIcon","Register","success","registerConfirmPending","withTranslation","t","CartSummary","Table","responsive","productName","CartBody","displayOptions","Empty","showPrice","showTax","showTotal","showRemove","showQuantityModifiers","ButtonGroup","RemoveCircleOutlineIcon","AddCircleOutlineIcon","unitPrice","taxedPrice","totalPrice","DeleteForeverIcon","OrderTotals","sum","shippingPrice","CartView","contained","ChangePasswordForm","setType","setSuccess","_ref5","_callee2","_context2","abrupt","_defineProperty","FORM_ERROR","_x2","_ref7","form","submitError","reset","onDismiss","checked","ProfileSettings","OrderList","_useSelector","ordersTable","hover","created","modified","shippingStatus","orderStatus","paymentStatus","substr","indexOf","Badge","capitalize","AddressCard","address","showName","addressName","firstName","lastName","phone","mobile","fax","streetAddressLineOne","streetAddressLineTwo","city","postalCode","country","AddressForm","onCancel","isEditMode","AddressEntry","addressId","backUrl","location","search","origin","useMemo","addresses","AddressSelection","currentValue","returnUrl","newAddressUrl","sm","RadioButton","authorized","Component","displayName","C","useLocation","wrappedComponentRef","remainingProps","_objectWithoutProperties","_excluded","pathname","setTimeout","WrappedComponent","hoistStatics","activeTab","includes","tab","setActiveTab","xl","height","middleName","Nav","tabs","NavItem","NavLink","classnames","active","TabContent","TabPane","tabId","isShippingDefault","isBillingDefault","UncontrolledDropdown","DropdownToggle","ChevronDownIcon","DropdownMenu","DropdownItem","nextAddress","onUpdateAddressDefaults","onSetDefaultBilling","onSetDefaultShipping","divider","onRemoveAddress","OrdersList","setAddressDefaults","cartAddress","_address_","ShippingSelection","selectedValue","CreditCardForm","cardNumber","cvc","expirationDate","nameOnCard","CreditCardIcon","min","minLength","maxLength","CheckoutView","card","shippingAddress","setShippingAddress","billingAddress","setBillingAddress","shippingMethod","setShippingMethod","onAddressSelection","shipping","billing","shippingCondition","billingCondition","methodCondition","updateCart","checkoutDisabled","small","shippingMethods","_e$target","checkout","OrderDetails","BlogEntry","slug","useCategories","itemsPerPage","currentPage","paginationData","usePosts","ExperienceBuilder","path","craftercms","Post","CategoryListing","RelatedPosts","categories_o","RelatedProducts","title_s","image_s","author_s","subtitle_s","content_html_raw","model","RenderField","fieldId","renderTarget","dangerouslySetInnerHTML","__html","value_smv","relatedPosts","setRelatedPosts","setItems","offset","Math","floor","random","_ref6","ARTICLE","PRODUCT","Search","q","productResults","setProductResults","productsQueryParams","resource","useUrlSearchQueryFetchResource","catalog","total","MagnifyIcon","Suspense","fallback","SearchResults","SearchResult","title","link","preview","content_html","hits","lazy","DynamicRoute","_state$model","destroyed","fetchQuery","byUrlQuery","_data$content$items","parseDescriptor","content","meta","window","scroll","ContentType","contentTypeMap","Routes","Switch","Route","exact","Account","NotFound404","CHANGE_THEME_TO_DARK","CHANGE_THEME_TO_LIGHT","SET_IS_AUTHORING","CHANGE_BORDER_RADIUS","TOGGLE_BOX_SHADOW","TOGGLE_TOP_NAVIGATION","squaredCorners","withBoxShadow","topNavigation","themeReducer","action","removeProp","branch","_len","Array","_key","forEach","errorOp","mapOp","fail","getRootType","replace","byIdLoadingKey","toLookupTable","array","prop","table","errors","persona","getLocaleCookieName","facets","_Cookies$get","_Cookies$get2","combineEpics","action$","state$","ofType","FETCH_PRODUCT","withLatestFrom","pluck","switchMap","fetchProductComplete","fetchProductFailed","FETCH_PRODUCTS","isArray","max","fetchProductsComplete","fetchProductsFailed","fetchCartComplete","fetchCartFailed","addToCartComplete","addToCartFailed","_ref10","itemId","removeFromCartComplete","removeFromCartFailed","_ref8","updateCartItemQuantityComplete","updateCartItemQuantityFailed","fetchOrdersFailed","fetchOrdersComplete","tap","ignoreElements","FACETS_CHANGED","mapTo","fetchProducts","addAddress","changeAddress","_ref9","removeAddress","defaultBillingAddress","defaultShippingAddress","updateCartComplete","updateCartFailed","CHECKOUT","_ref11","_ref12","checkoutComplete","checkoutFailed","CHANGE_LOCALE","CHANGE_CURRENCY","set","combineReducers","theme","CHECKOUT_COMPLETE","registration","FETCH_PRODUCTS_COMPLETE","SET_STORE_SETTINGS","FETCH_PRODUCT_COMPLETE","FETCH_CART_COMPLETE","UPDATE_CART_COMPLETE","ADD_TO_CART_COMPLETE","REMOVE_FROM_CART_COMPLETE","UPDATE_CART_ITEM_QUANTITY_COMPLETE","KEYWORDS_CHANGED","keywords","FETCH_SHIPPING_METHODS","FETCH_SHIPPING_METHODS_COMPLETE","ADD_TO_CART_FAILED","UPDATE_CART_FAILED","FETCH_PRODUCT_FAILED","FETCH_PRODUCTS_FAILED","FETCH_SHIPPING_METHODS_FAILED","UPDATE_CART_ITEM_QUANTITY_FAILED","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","epicMiddleware","createEpicMiddleware","store","createStore","applyMiddleware","parse","setPersona","storeSettings","locales","currencies","setStoreSettings","querySelector","setIsAuthoring","run","rootEpic","withRouter","scrollTo","config","interpolation","escapeValue","lng","resources","en","es","MainWrapper","wrapperClass","classNames","App","GlobalContextProvider","Provider","I18nextProvider","i18n","i18next","BrowserRouter","ScrollReset","init","i18nextConfig","colors","some","background","summary_html_raw","BlogTeaser","CheckBox","CheckboxClass","htmlFor","borderColor","CheckIcon","CloseIcon","CheckBoxField","_PureComponent","_inherits","_super","_createSuper","_classCallCheck","_createClass","_this$props","this","defaultChecked","_this$props2","PureComponent","input","initial","classes","RadioButtonField","_this","args","call","radioValue","_this$props3","RadioButtonClass","renderRadioButtonField","commonFragments","main","postsQuery","navQuery","footerQuery","headerQuery","storeSettingsQuery","GlobalContext","createContext","useGlobalContext","context","useContext","_useSpreadState","useSpreadState","pages","pagesLoading","_useSpreadState2","FETCH_CART_FAILED","REMOVE_FROM_CART_FAILED","CHECKOUT_FAILED","fetchShippingMethodsComplete","fetchShippingMethodsFailed","changeLocale","changeCurrency","settings","BlogRoll","selectedCategory","postsFiltered","setPostsFiltered","selected","KeyboardArrowLeftIcon","FlagCodeMap","de","en_us","Header","localesOpen","setLocalesOpen","currenciesOpen","setCurrenciesOpen","_useSelector2","searchOpen","setSearchOpen","setKeywords","nav","useNavigation","useStoreSettings","classList","contains","remove","add","hamburger","SearchIcon","PersonCircleOutlineIcon","Dropdown","caret","Flag","code","Popover","placement","PopoverBody","onKeyPress","Footer","footer","useFooter","section_background_image_s","direction","Date","getFullYear","_ref$className","React","Children","child","cloneElement","defaultPaginationData","neverResource","Promise","nextState","initializerArg","initializer","setPosts","postsLimit","postsOffset","pageCount","ceil","_useGlobalContext","_useGlobalContext2","_useGlobalContext2$","categoriesLoading","update","destroyedRef","contentTypes","size","_useSearchQuery","_parse$q","setQuery","_parse$p","p","page","setPage","useCallback","_parse$q2","_parse$p2","useSearchQuery","_useSearchQuery2","setResource","createQuery","from","rest","counted","parsedHits","_source","preParseSearchResults","toPromise","_useGlobalContext3","_useGlobalContext4","_useGlobalContext4$","_useGlobalContext5","_useGlobalContext6","_useGlobalContext6$","headerLoading","component_header","_useGlobalContext7","_useGlobalContext8","_useGlobalContext8$","footerLoading","component_footer","_useGlobalContext9","_useGlobalContext10","_useGlobalContext10$","storeSettingsLoading","Currencies","USD","EUR","str","charAt","toUpperCase","substring","amount","parseFloat","toFixed","onShow","visible","Icon","icon","dismiss","InformationOutlineIcon","ThumbUpOutlineIcon","CommentAlertOutlineIcon","CloseCircleOutlineIcon","AlertReactstrap","autoTarget","isExternal","protocol","resultProps","graphqlServer","operation"],"mappings":"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","file":"static/js/3.c1bd6aff.chunk.js","sourcesContent":["/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { crafterConf } from '@craftercms/classes';\nimport Cookies from 'js-cookie';\n\nexport function isAuthoring() {\n  const html = document.documentElement;\n  const attr = html.getAttribute('data-craftercms-preview');\n  return (\n    // eslint-disable-next-line no-template-curly-in-string\n    attr === '${modePreview?c}' || // Otherwise disable/enable if you want to see pencils in dev server.\n    attr === 'true'\n  );\n}\n\nexport function createResource(factory) {\n  let result;\n  let status = \"pending\";\n  let suspender = factory().then(\n    response => {\n      status = \"success\";\n      result = response;\n    },\n    error => {\n      status = \"error\";\n      result = error;\n    }\n  );\n  return {\n    read() {\n      if (status === \"pending\") {\n        throw suspender;\n      } else if (status === \"error\") {\n        throw result;\n      } else if (status === \"success\") {\n        return result;\n      }\n    }\n  };\n}\n\nexport const siteName =\n  document.getElementById('2fb5164e').innerHTML ||\n  process.env.REACT_APP_CRAFTERCMS_SITE_ID ||\n  Cookies.get('crafterSite');\nif (!siteName) {\n  throw new Error('Site not set.');\n}\n\nexport const crafterConfig = {\n  baseUrl: process.env.REACT_APP_CRAFTERCMS_BASE_URL ?? '',\n  site: siteName\n};\n\ncrafterConf.configure(crafterConfig);\n","import { ajax } from 'rxjs/ajax';\nimport { useSelector } from 'react-redux';\n\nexport function getProducts(params = {}) {\n\n  const qs = Object.entries({\n    locale: 'en',\n    currency: 'USD',\n    ...(params || {})\n  }).map(([key, value]) => `${key}=${value}`);\n\n  return ajax.get(`/api/1/product/all.json${qs.length > 0 ? '?' : ''}${qs.join('&')}`);\n\n}\n\nexport function useProductsQuery(params = {}) {\n  const { query: { currency, locale } } = useSelector(state => state.products);\n  return { currency, locale, ...params };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable react/no-array-index-key */\nimport React, { useEffect, useReducer } from 'react';\nimport Carousel, { Modal, ModalGateway } from 'react-images';\n\nfunction ProductGallery(props) {\n\n  const [state, setState] = useReducer(\n    (a, b) => ({ ...a, ...b }),\n    {\n      image: null,\n      currentIndex: 0,\n      lightboxIsOpen: false,\n    }\n  );\n\n  const { images } = props;\n\n  const { image, currentIndex, lightboxIsOpen } = state;\n\n  const changeImg = (index, e) => {\n    e.preventDefault();\n    setState({\n      currentIndex: index,\n      image: images[index]\n    });\n  };\n\n  const openLightbox = (event) => {\n    event.preventDefault();\n    setState({ lightboxIsOpen: true });\n  };\n\n  useEffect(\n    () => {\n      const index = 0;\n      setState({\n        image: images[index],\n        currentIndex: index\n      });\n    },\n    [images]\n  );\n\n  return (\n    <div className=\"product-gallery\">\n      {\n        (images && images.length && image)\n          ? (\n            <>\n              <a\n                className=\"product-gallery__current-img\"\n                onClick={e => openLightbox(e)}\n                href={state.image.src}\n              >\n                <img src={state.image.src} className=\"product-img\" alt={\"\"}/>\n              </a>\n              <div className=\"product_gallery__gallery\">\n                {images.map((img, i) => (\n                  <button type=\"button\" key={i} onClick={e => changeImg(i, e)} className=\"product-gallery__img-preview\">\n                    <img src={img.src} alt=\"product-img\"/>\n                  </button>\n                ))}\n              </div>\n              <ModalGateway>\n                {lightboxIsOpen ? (\n                  <Modal onClose={() => setState({ lightboxIsOpen: false })}>\n                    <Carousel currentIndex={currentIndex} views={images}/>\n                  </Modal>\n                ) : null}\n              </ModalGateway>\n            </>\n          ) : (\n            <div className=\"text-center\">No images are available for this product.</div>\n          )\n      }\n    </div>\n  );\n\n}\n\nexport default ProductGallery;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const LOGIN = 'LOGIN';\nexport const LOGIN_COMPLETE = 'LOGIN_COMPLETE';\nexport const LOGIN_FAILED = 'LOGIN_FAILED';\n\nexport const SET_PERSONA = 'SET_PERSONA';\n\nexport const LOGOUT = 'LOGOUT';\nexport const LOGOUT_COMPLETE = 'LOGOUT_COMPLETE';\nexport const LOGOUT_FAILED = 'LOGOUT_FAILED';\n\nexport const REGISTRATION_COMPLETE = 'REGISTRATION_COMPLETE';\nexport const SUBMIT_REGISTRATION = 'SUBMIT_REGISTRATION';\nexport const SUBMIT_REGISTRATION_COMPLETE = 'SUBMIT_REGISTRATION_COMPLETE';\nexport const SUBMIT_REGISTRATION_FAILED = 'SUBMIT_REGISTRATION_FAILED';\n\nexport const FETCH_ORDERS = 'FETCH_ORDERS';\nexport const FETCH_ORDERS_COMPLETE = 'FETCH_ORDERS_COMPLETE';\nexport const FETCH_ORDERS_FAILED = 'FETCH_ORDERS_FAILED';\n\nexport const FETCH_ORDER = 'FETCH_ORDER';\nexport const FETCH_ORDER_COMPLETE = 'FETCH_ORDER_COMPLETE';\nexport const FETCH_ORDER_FAILED = 'FETCH_ORDER_FAILED';\n\nexport const UNAUTHORIZED = 'UNAUTHORIZED';\n\nexport const SET_LOGIN_REDIRECT = 'SET_LOGIN_REDIRECT';\nexport const RESET_LOGIN_REDIRECT = 'RESET_LOGIN_REDIRECT';\n\nexport const ADD_USER_ADDRESS = 'ADD_USER_ADDRESS';\nexport const ADD_USER_ADDRESS_COMPLETE = 'ADD_USER_ADDRESS_COMPLETE';\nexport const ADD_USER_ADDRESS_FAILED = 'ADD_USER_ADDRESS_FAILED';\n\nexport const EDIT_USER_ADDRESS = 'EDIT_USER_ADDRESS';\nexport const EDIT_USER_ADDRESS_COMPLETE = 'EDIT_USER_ADDRESS_COMPLETE';\nexport const EDIT_USER_ADDRESS_FAILED = 'EDIT_USER_ADDRESS_FAILED';\n\nexport const REMOVE_USER_ADDRESS = 'REMOVE_USER_ADDRESS';\nexport const REMOVE_USER_ADDRESS_COMPLETE = 'REMOVE_USER_ADDRESS_COMPLETE';\nexport const REMOVE_USER_ADDRESS_FAILED = 'REMOVE_USER_ADDRESS_FAILED';\n\nexport const SET_USER_ADDRESS_DEFAULTS = 'SET_USER_ADDRESS_DEFAULTS';\nexport const SET_USER_ADDRESS_DEFAULTS_COMPLETE = 'SET_USER_ADDRESS_DEFAULTS_COMPLETE';\nexport const SET_USER_ADDRESS_DEFAULTS_FAILED = 'SET_USER_ADDRESS_DEFAULTS_FAILED';\n\nexport function submitRegistration() {\n  return {\n    type: SUBMIT_REGISTRATION\n  };\n}\n\nexport function submitRegistrationComplete() {\n  return {\n    root: SUBMIT_REGISTRATION,\n    type: SUBMIT_REGISTRATION_COMPLETE\n  };\n}\n\nexport function submitRegistrationFailed(message) {\n  return {\n    root: SUBMIT_REGISTRATION,\n    type: SUBMIT_REGISTRATION_FAILED,\n    payload: message\n  };\n}\n\nexport function registrationComplete() {\n  return {\n    type: REGISTRATION_COMPLETE\n  };\n}\n\nexport function login(data, redirect) {\n  return {\n    type: LOGIN,\n    payload: { data, redirect }\n  };\n}\n\nexport function loginComplete(user) {\n  return {\n    root: LOGIN,\n    type: LOGIN_COMPLETE,\n    payload: user\n  };\n}\n\nexport const setPersona = (persona) => ({\n  type: SET_PERSONA,\n  payload: { persona }\n});\n\nexport function loginFailed(response) {\n  return {\n    root: LOGIN,\n    type: LOGIN_FAILED,\n    payload: response\n  };\n}\n\nexport function logout(redirect) {\n  return {\n    type: LOGOUT,\n    payload: { redirect }\n  };\n}\n\nexport function logoutComplete() {\n  return {\n    root: LOGOUT,\n    type: LOGOUT_COMPLETE\n  };\n}\n\nexport function logoutFailed() {\n  return {\n    root: LOGOUT,\n    type: LOGOUT_FAILED\n  };\n}\n\nexport function fetchOrders() {\n  return {\n    type: FETCH_ORDERS,\n    payload: null\n  };\n}\n\nexport function fetchOrdersComplete(response) {\n  return {\n    root: FETCH_ORDERS,\n    type: FETCH_ORDERS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchOrdersFailed(response) {\n  return {\n    root: FETCH_ORDERS,\n    type: FETCH_ORDERS_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchOrder(id) {\n  return {\n    type: FETCH_ORDER,\n    payload: { id }\n  };\n}\n\nexport function fetchOrderComplete(response) {\n  return {\n    root: FETCH_ORDER,\n    type: FETCH_ORDER_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchOrderFailed(response) {\n  return {\n    root: FETCH_ORDER,\n    type: FETCH_ORDER_FAILED,\n    payload: response\n  };\n}\n\nexport function setLoginRedirect(url) {\n  return {\n    type: SET_LOGIN_REDIRECT,\n    payload: { url }\n  };\n}\n\nexport function resetLoginRedirect() {\n  return {\n    type: RESET_LOGIN_REDIRECT\n  };\n}\n\nexport function addAddress(address) {\n  return {\n    type: ADD_USER_ADDRESS,\n    payload: { address }\n  };\n}\n\nexport function addAddressComplete(response) {\n  return {\n    root: ADD_USER_ADDRESS,\n    type: ADD_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function addAddressFailed(response) {\n  return {\n    root: ADD_USER_ADDRESS,\n    type: ADD_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function editAddress(address) {\n  return {\n    type: EDIT_USER_ADDRESS,\n    payload: { address }\n  };\n}\n\nexport function editAddressComplete(response) {\n  return {\n    root: EDIT_USER_ADDRESS,\n    type: EDIT_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function editAddressFailed(response) {\n  return {\n    root: EDIT_USER_ADDRESS,\n    type: EDIT_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function removeAddress(id) {\n  return {\n    type: REMOVE_USER_ADDRESS,\n    payload: { id }\n  };\n}\n\nexport function removeAddressComplete(response) {\n  return {\n    root: REMOVE_USER_ADDRESS,\n    type: REMOVE_USER_ADDRESS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function removeAddressFailed(response) {\n  return {\n    root: REMOVE_USER_ADDRESS,\n    type: REMOVE_USER_ADDRESS_FAILED,\n    payload: response\n  };\n}\n\nexport function setAddressDefaults(address) {\n  return {\n    type: SET_USER_ADDRESS_DEFAULTS,\n    payload: { address }\n  };\n}\n\nexport function setAddressDefaultsComplete(response) {\n  return {\n    root: SET_USER_ADDRESS_DEFAULTS,\n    type: SET_USER_ADDRESS_DEFAULTS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function setAddressDefaultsFailed(response) {\n  return {\n    root: SET_USER_ADDRESS_DEFAULTS,\n    type: SET_USER_ADDRESS_DEFAULTS_FAILED,\n    payload: response\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  ADD_TO_CART,\n  FETCH_CART,\n  fetchCart,\n  REMOVE_FROM_CART,\n  UPDATE_CART,\n  UPDATE_CART_ITEM_QUANTITY\n} from '../redux/actions/productsActions';\nimport { useEffect, useRef } from 'react';\nimport { fetchOrder, setLoginRedirect } from '../redux/actions/usersActions';\nimport { SearchService } from '@craftercms/search';\nimport Cookie from 'js-cookie';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport function getLoginFormDefaults() {\n  const email = localStorage.getItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n  return {\n    email: email || '',\n    rememberMe: email != null\n  };\n}\n\nexport function useCart({ onEmpty } = {}) {\n  const ref = useRef({});\n  ref.current = { onEmpty };\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.products.cart);\n  const locale = useSelector(state => state.products).query.locale;\n  const currency = useSelector(state => state.products).query.currency;\n  useEffect(\n    () => {\n      if (cart && cart.items.length === 0) {\n        if(ref.current.onEmpty) {\n          ref.current.onEmpty();\n        }\n      }\n    },\n    [cart]\n  );\n  useEffect(() => {\n    dispatch(fetchCart());\n  }, [dispatch, locale, currency])\n  return cart;\n}\n\nexport function useUser({ redirect, onMissing } = {}) {\n  const ref = useRef({});\n  ref.current = { redirect, onMissing };\n  const dispatch = useDispatch();\n  const user = useSelector(state => state.users.user);\n  useEffect(\n    () => {\n      if (user == null) {\n        if (ref.current.redirect) {\n          dispatch(setLoginRedirect(ref.current.redirect));\n        }\n        if(ref.current.onMissing) {\n          ref.current.onMissing();\n        }\n      }\n    },\n    [dispatch, user]\n  );\n  return user;\n}\n\nexport function useUserBranch() {\n  return useSelector(state => state.users);\n}\n\nexport function useOrder(id) {\n  const dispatch = useDispatch();\n  const order = useSelector(state => state.users.orders[id]);\n  useEffect(\n    () => {\n      if (id && (order == null || order.items == null))\n        dispatch(fetchOrder(id));\n    },\n    [dispatch, id, order]\n  );\n  return order;\n}\n\nexport function useProductsBranch() {\n  return useSelector(state => state.products);\n}\n\nexport function useContentBranch() {\n  return useSelector(state => state.content);\n}\n\nexport function useCartUpdateInFlight() {\n  const { loading } = useSelector(state => state.products);\n  return (\n    loading[FETCH_CART] ||\n    loading[UPDATE_CART] ||\n    loading[ADD_TO_CART] ||\n    loading[REMOVE_FROM_CART] ||\n    loading[UPDATE_CART_ITEM_QUANTITY]\n  );\n}\n\nexport const crafterConf = {\n  baseUrl: process.env.REACT_APP_CRAFTER_BASE,\n  // By default empty on the .env so preview grabs the crafterSite cookie set by authoring\n  // Dev may use it's .env.local for local development or fix the value.\n  site: process.env.REACT_APP_SITE_ID || Cookie.get('crafterSite')\n};\n\nexport function getQuery(query) {\n  const crafterQuery = SearchService.createQuery();\n  crafterQuery.query = {\n    query: {\n      bool: {\n        filter: [\n          { multi_match: { query, 'type': 'phrase_prefix' } },\n          { match: { 'content-type': '/component/post' } }\n        ]\n      }\n    }\n  };\n  return crafterQuery;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport {\n  Card, CardBody, ButtonToolbar, Button, Modal,\n} from 'reactstrap';\nimport ProductGallery from './ProductGallery';\nimport Select from 'react-select';\nimport {\n  addToCart,\n  fetchCart, fetchProduct,\n  removeFromCart,\n  updateCartItemQuantity\n} from '../../redux/actions/productsActions';\nimport { money } from '../../util/string';\nimport { Link } from 'react-router-dom';\nimport ShoppingCartIcon from 'mdi-react/ShoppingCartIcon';\nimport Ratings from 'react-ratings-declarative';\nimport Alert from '../shared/Alert';\nimport { useCartUpdateInFlight } from '../../util/component';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst isSale = false;\n\nconst reducer = (a, b) => ({ ...a, ...b });\n\nexport function useMergeState(initialState) {\n  return useReducer(reducer, initialState);\n}\n\nfunction ProductCard(props) {\n\n  const dispatch = useDispatch();\n\n  const { cart } = useSelector(state => state.products);\n  const { user } = useSelector(state => state.users);\n  const { product } = props;\n  const currency = product.variants[0].currency;\n\n  const [images, setImages] = useState([]);\n  const [variant, setVariant] = useState();\n  const [cartItem, setCartItem] = useMergeState({\n    id: null,\n    productId: product.id,\n    variantId: null,\n    quantity: 1\n  });\n\n  const isInCart = cartItem.id != null;\n  const updatesInFlight = useCartUpdateInFlight();\n\n  useEffect(\n    () => {\n      !cart && dispatch(fetchCart())\n    },\n    [dispatch, cart]\n  );\n\n  useEffect(\n    () => {\n      setVariant(product.variants[0]);\n    },\n    [product.id, currency, product.variants]\n  );\n\n  useEffect(\n    () => {\n      setImages(\n        (\n          variant != null\n            ? [variant]\n            : product.variants\n        ).reduce(\n          (images, iVariant) => images.concat(\n            iVariant.images.map((img) => ({ ...img, src: img.url }))\n          ),\n          []\n        )\n      );\n\n      if (variant == null)\n        return;\n\n      const item = (\n        cart\n          ? cart.items.find((item) => (\n            item.variantId === variant.id &&\n            item.productId === product.id\n          ))\n          : null\n      );\n\n      setCartItem({\n        variantId: variant.id,\n        productId: product.id,\n        ...(\n          item\n            ? { id: item.id, quantity: item.quantity }\n            : { id: null, quantity: 1 }\n        )\n      });\n\n    },\n    [variant, cart, product.id, product.variants, setCartItem]\n  );\n\n  return (\n    <Card>\n      <CardBody>\n        <div className=\"product-card\">\n          <ProductGallery images={images}/>\n          <div className=\"product-card__info\">\n            <h1 className=\"product-card__title\">{product.name}</h1>\n            {\n              cartItem.variantId &&\n              <h2 className=\"product-card__price\">\n                {money(variant.price, variant.currency)}\n                {isSale && <span className=\"product-card__old-price\">$23</span>}\n              </h2>\n            }\n            {product.description && <p>{product.description}</p>}\n            <form className=\"form product-card__form\">\n              <div className=\"form__form-group\">\n                <span className=\"form__form-group-label product-card__form-label\">Select</span>\n                <div className=\"form__form-group-field\">\n                  <VariantSelection\n                    value={variant}\n                    variants={product.variants}\n                    onChange={({ variant }) => setVariant(variant)}\n                  />\n                </div>\n              </div>\n              <div className=\"form__form-group\">\n                <span className=\"form__form-group-label product-card__form-label\">Quantity</span>\n                <div className=\"form__form-group-field\">\n                  <input\n                    type=\"number\"\n                    disabled={updatesInFlight}\n                    value={cartItem.quantity}\n                    onChange={(e) => onUpdateQuantity(e.target.value)}\n                  />\n                </div>\n              </div>\n              <ButtonToolbar className=\"product-card__btn-toolbar\">\n                {\n                  isInCart\n                    ? (\n                      <ButtonToolbar className=\"product-card__btn-toolbar\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-warning\"\n                          disabled={updatesInFlight}\n                          onClick={onRemoveFromCart}\n                        >\n                          Remove from cart\n                        </button>\n                        <Link to=\"/cart\" className=\"product-card__wish-btn\">\n                          <ShoppingCartIcon/> View cart\n                        </Link>\n                      </ButtonToolbar>\n                    ) : (\n                      <ButtonToolbar className=\"product-card__btn-toolbar\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-primary\"\n                          disabled={!cartItem.variantId || updatesInFlight}\n                          onClick={onAddToCart}\n                        >\n                          Add to cart\n                        </button>\n                        {\n                          variant &&\n                          !variant.onStock &&\n                          <span className=\"product-card__not-in-stock\">\n                            (On backorder)\n                          </span>\n                        }\n                      </ButtonToolbar>\n                    )\n                }\n              </ButtonToolbar>\n            </form>\n            <div className=\"product-card_ _rate\">\n              <SubmitReview\n                product={product}\n                isLoggedIn={!!user}\n                onSuccess={() => dispatch(fetchProduct(product.id))}\n              />\n            </div>\n          </div>\n        </div>\n      </CardBody>\n    </Card>\n  );\n\n  function onAddToCart() {\n    (cartItem.quantity > 0) && dispatch(\n      addToCart(cartItem)\n    );\n  }\n\n  function onRemoveFromCart() {\n    isInCart && dispatch(\n      removeFromCart(cartItem)\n    );\n  }\n\n  function onUpdateQuantity(nextQuantity) {\n    nextQuantity = parseInt(nextQuantity, 10);\n    if (nextQuantity < 0) {\n      nextQuantity = 0;\n    }\n    if (isInCart) {\n      dispatch(\n        updateCartItemQuantity({ ...cartItem, quantity: nextQuantity })\n      );\n    }\n    setCartItem({ quantity: nextQuantity });\n  }\n\n}\n\nfunction SubmitReview(props) {\n\n  const { product, isLoggedIn, onSuccess } = props;\n  const { rating, name } = product;\n\n  const [value, setValue] = useState();\n  const [comments, setComments] = useState('');\n  const [openModal, setOpenModal] = useState(false);\n  const [message, setMessage] = useState();\n\n  const toggleOpen = () => setOpenModal(!openModal);\n  const submit = () => {\n    fetch(\n      `/api/1/product/${product.id}/review.json`,\n      {\n        body: JSON.stringify({ rating: value, text: comments }),\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json; charset=UTF-8' }\n      }\n    ).then(async (response) => {\n      const data = await response.json();\n      if (response.status === 200) {\n        setValue();\n        setMessage();\n        setComments('');\n        setOpenModal(false);\n        onSuccess && onSuccess(response);\n      } else {\n        setMessage({ type: 'danger', text: data.message });\n      }\n    });\n  };\n\n  const\n    widgetEmptyColors = '#ccc',\n    widgetHoverColors = '#FFCC00',\n    widgetRatedColors = '#FFCC00',\n    widgetDimensions = '20px',\n    widgetSpacings = '5px';\n\n  return (\n    <div className=\"rating-widget\">\n      <section className=\"rating-widget__header\">\n        <div className=\"rating-widget__average\">\n          <div>\n            <Ratings\n              rating={rating == null ? 0 : rating.average}\n              widgetEmptyColors={widgetEmptyColors}\n              widgetHoverColors={widgetHoverColors}\n              widgetRatedColors={widgetRatedColors}\n              widgetDimensions={widgetDimensions}\n              widgetSpacings={widgetSpacings}\n            >\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n              <Ratings.Widget/>\n            </Ratings>\n          </div>\n          <span className=\"rating-widget__label\">\n            {\n              rating == null\n                ? 'No reviews yet.'\n                : `${rating.reviews} review${rating.reviews > 1 ? 's' : ''}. ${rating.average} average rating.`\n            }\n          </span>\n        </div>\n        <div className=\"rating-widget__user\">\n          {\n            isLoggedIn &&\n            <Button outline className=\"btn-sm\" onClick={toggleOpen}>\n              Submit a review\n            </Button>\n          }\n        </div>\n      </section>\n      <section className=\"rating-widget__reviews\">\n        {\n          // rating && JSON.stringify(rating.reviews, null, '  ')\n          // rating && rating.reviews.map(review =>\n          // <div className=\"rating-widget__review\"></div>\n          // )\n        }\n      </section>\n      <Modal\n        isOpen={openModal}\n        toggle={toggleOpen}\n        className={`modal-dialog--`}\n      >\n        <div className=\"modal__header\">\n          <button className=\"lnr lnr-cross modal__close-btn\" type=\"button\" onClick={toggleOpen}/>\n          <h3 className=\"bold-text  modal__title\">Review \"{name}\"</h3>\n        </div>\n        <div className=\"modal__body\">\n          <div className=\"form\">\n            {\n              message &&\n              <Alert color={message.type} className=\"alert--bordered\">\n                <span>{message.text}</span>\n              </Alert>\n            }\n            <div className=\"form__form-group\">\n              <div>\n                <Ratings\n                  rating={value}\n                  changeRating={setValue}\n                  widgetEmptyColors={widgetEmptyColors}\n                  widgetHoverColors={widgetHoverColors}\n                  widgetRatedColors={widgetRatedColors}\n                  widgetDimensions={widgetDimensions}\n                  widgetSpacings={widgetSpacings}\n                >\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                  <Ratings.Widget/>\n                </Ratings>\n              </div>\n              <span className=\"rating-widget__label\">\n                {value ? `Your rating: ${value} star${value > 1 ? 's' : ''}.` : `How would you rate ${name}?`}\n              </span>\n            </div>\n            <div className=\"form__form-group\">\n              <div className=\"form__form-group-field\">\n                <textarea\n                  value={comments}\n                  onChange={(e) => setComments(e.target.value)}\n                  placeholder={`Any additional comments...`}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <ButtonToolbar className=\"modal__footer\">\n          <Button onClick={toggleOpen}>Cancel</Button>\n          <Button outline onClick={submit} disabled={value == null}>Ok</Button>\n        </ButtonToolbar>\n      </Modal>\n    </div>\n  );\n\n}\n\nexport function VariantSelection(props) {\n  const { variants, value, onChange, placeholder, components } = props;\n  const options = variants ? variants.map((variant) => ({\n    value: variant.id,\n    label: getVariantLabel(variant),\n    variant\n  })) : [];\n  const option = value ? { value: value.id, label: getVariantLabel(value), variant: value } : null;\n  return (\n    <Select\n      value={option}\n      onChange={onChange}\n      options={options}\n      clearable={false}\n      className=\"react-select\"\n      classNamePrefix=\"react-select\"\n      placeholder={placeholder}\n      components={components}\n    />\n  );\n}\n\nVariantSelection.defaultProps = {\n  options: null,\n  components: {\n    Option: function Option({ innerProps, isDisabled, data }) {\n      data = data.variant;\n      const label = getVariantLabel(data);\n      const color = data.attributes.filter((attr) => attr.name === 'Color').map((attr) => attr.value.toLowerCase())[0];\n      // noinspection JSConstructorReturnsPrimitive\n      return (!isDisabled ? (\n        <div\n          className=\"react-select__option\"\n          {...innerProps}\n        >\n          {label}\n          {\n            color &&\n            <span\n              className=\"react-select__color\"\n              style={{ backgroundColor: color, boxShadow: '0 0 1px 0 rgba(0,0,0,.5)' }}\n            />\n          }\n        </div>\n      ) : null);\n    }\n  },\n  onChange: () => void null,\n  placeholder: 'Select...',\n};\n\nfunction getVariantLabel(variant) {\n  return variant.attributes.filter((attr) => attr.name === 'Filtersize').map((attr) => attr.value.label);\n}\n\nexport default ProductCard;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { Col, Container, Row } from 'reactstrap';\nimport Layout from './Layout';\nimport ProductCard from './ProductCard';\nimport Spinner from '../shared/Spinner';\nimport { fetchProduct } from '../../redux/actions/productsActions';\nimport Product from './Product';\nimport { forkJoin, of } from 'rxjs';\nimport { ajax } from 'rxjs/ajax';\nimport { map } from 'rxjs/operators';\nimport { BlogPostCard } from './BlogTeaser';\nimport { getProducts } from '../../util/products';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport default function ProductDetails(props) {\n\n  const dispatch = useDispatch();\n  const products = useSelector(state => state.products);\n\n  const id = props.match.params.product;\n  const product = products.byId ? products.byId[id] : null;\n  const [related, setRelated] = useState();\n\n  useEffect(\n    () => {\n      // if (product == null)\n        dispatch(fetchProduct(id))\n    },\n    [dispatch, id, products.query.locale, products.query.currency]\n  );\n\n  useEffect(\n    () => {\n      let sub = { unsubscribe: () => void null };\n      if (product != null) {\n\n        const keys = product.categories.reduce(\n          (oMap, category) => {\n            oMap.ids.push(category.id);\n            oMap.keys.push(`{matches: \"${category.key}\"}`);\n            return oMap;\n          },\n          { ids: [], keys: [] }\n        );\n\n        const products$ = keys.ids.length\n          ? getProducts({ limit: 4, filter: `categories:${keys.ids.join(',')}`, locale: products.query.locale, currency: products.query.currency })\n          : of({ response: { items: [] } });\n\n        const posts$ = keys.keys.length\n          ? ajax.post(\n            process.env.REACT_APP_GRAPHQL_SERVER,\n            {\n              query: `query {\n              posts: component_post(limit: 3) {\n                items {\n                  title_s\n                  image_s\n                  slug_s\n                  categories_o @skip(if: true) {\n                    item {\n                      key(filter: {or: [${keys.keys.join(',')}]})\n                    }\n                  }\n                }\n              }\n            }`,\n              variables: {}\n            },\n            { 'Content-Type': 'application/json; charset=UTF-8' }\n          ) : of({ response: { data: { posts: { items: [] } } } });\n\n        sub = forkJoin(products$, posts$).pipe(\n          map(([{ response: products }, { response: posts }]) => ([\n            products.items.filter((prod) => prod.id !== product.id).slice(0, 3),\n            posts.data.posts.items\n          ]))\n        ).subscribe(([products, posts]) => {\n          setRelated({ products, posts });\n        });\n\n      }\n      return () => sub.unsubscribe();\n    },\n    [product, products.query.locale, products.query.currency]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        {\n          product ? (\n            <Row>\n              <Col md={12} lg={12}>\n                <ProductCard product={product}/>\n              </Col>\n              {related && <>\n                {related.products.length > 0 && <Col md={12}>\n                  <h2 className=\"page-title page-title--not-last\">Related Products</h2>\n                  <div className=\"catalog-items__wrap\">\n                    <div className=\"catalog-items\">\n                      {\n                        related.products.map(product =>\n                          <Product key={product.id} product={product}/>\n                        )\n                      }\n                    </div>\n                  </div>\n                </Col>}\n                {related.posts.length > 0 && <Col md={12}>\n                  <h2 className=\"page-title page-title--not-last\">Related Posts</h2>\n                  <Row>\n                    {\n                      related.posts.map((post) =>\n                        <Col key={post.slug_s} md={4}>\n                          <BlogPostCard {...post} hideSummary/>\n                        </Col>\n                      )\n                    }\n                  </Row>\n                </Col>}\n              </>}\n            </Row>\n          ) : <Spinner/>\n        }\n      </Container>\n    </Layout>\n  );\n\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Anchor from '../shared/Anchor';\nimport { getLoginFormDefaults } from '../../util/component';\n\nimport EyeIcon from 'mdi-react/EyeIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport AccountOutlineIcon from 'mdi-react/AccountOutlineIcon';\nimport { Link, useHistory } from 'react-router-dom';\nimport renderCheckBoxField from '../shared/form/CheckBox';\nimport Alert from '../shared/Alert';\nimport { ajax } from 'rxjs/ajax';\nimport { catchError } from 'rxjs/operators';\nimport { loginComplete } from '../../redux/actions/usersActions';\nimport { useHeader } from '../shared/hooks';\nimport { Form, Field } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction LogInFormComponent(props) {\n\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const state = useSelector(state => state);\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState();\n\n  const onSubmit = (data) => {\n    if (data) {\n      if (data.rememberMe) {\n        localStorage.setItem(`${process.env.REACT_APP_STORE_KEY}.email`, data.email);\n      } else {\n        localStorage.removeItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n      }\n      ajax.post(\n        `/api/1/security/login.json`,\n        data,\n        {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      ).pipe(\n        catchError((error) => [error])\n      ).subscribe((response) => {\n        if (response.name === 'AjaxError') {\n          setError(response.response.message);\n        } else {\n          dispatch(loginComplete(response.response));\n          history.push(state.users.loginRedirect);\n        }\n      });\n    }\n  };\n\n  useEffect(\n    () => {\n      const meRemembered = !!localStorage.getItem(`${process.env.REACT_APP_STORE_KEY}.email`);\n      document.querySelectorAll('.form input')[meRemembered ? 1 : 0].focus();\n    },\n    []\n  );\n\n  return (\n    <Form\n      initialValues={getLoginFormDefaults()}\n      onSubmit={onSubmit}\n    >\n      {({ handleSubmit } ) => (\n        <form className=\"form\" onSubmit={handleSubmit}>\n          {\n            error &&\n            <Alert color=\"danger\" className=\"alert--bordered\">\n              <p>{error}</p>\n            </Alert>\n          }\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <AccountOutlineIcon/>\n              </div>\n              <Field\n                name=\"email\"\n                type=\"text\"\n                component=\"input\"\n                placeholder=\"Name\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <KeyVariantIcon/>\n              </div>\n              <Field\n                name=\"password\"\n                component=\"input\"\n                type={showPassword ? 'text' : 'password'}\n                placeholder=\"Password\"\n              />\n              <button\n                type=\"button\"\n                className={`form__form-group-button${showPassword ? ' active' : ''}`}\n                onClick={() => setShowPassword(!showPassword)}\n              ><EyeIcon/>\n              </button>\n            </div>\n            <div className=\"account__forgot-password\">\n              <a href=\"/\">Forgot a password?</a>\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <Field\n                type=\"checkbox\"\n                name=\"rememberMe\"\n                label=\"Remember me\"\n                component={renderCheckBoxField}\n              />\n            </div>\n          </div>\n          <div className=\"account__btns\">\n            <button className=\"btn btn-primary account__btn account__sign-in-btn\" type=\"submit\">Sign In</button>\n            <Link className=\"btn btn-outline-primary account__btn account__register-btn\" to=\"/register\">\n              Create Account\n            </Link>\n          </div>\n        </form>\n      )}\n    </Form>\n  );\n\n}\n\nexport const LogInForm = LogInFormComponent;\n\nfunction LogIn() {\n  const header = useHeader();\n\n  return (\n    <div className=\"account\">\n      <div className=\"account__wrapper\">\n        <div className=\"account__card\">\n          <div className=\"login-view__logo\">\n            {\n              header &&\n              <Anchor href={header.logo_url_s} className=\"login-view__logo\">\n                <img src={header.logo_s} alt={header.logo_alt_t} className=\"login-view__logo-img\"/>\n              </Anchor>\n            }\n          </div>\n          <div className=\"account__head\">\n            <h3 className=\"account__title\">Welcome</h3>\n            <h4 className=\"account__subhead subhead\">Please log in</h4>\n          </div>\n          <LogInForm/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default LogIn;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { memo, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Anchor from '../shared/Anchor';\nimport { registrationComplete } from '../../redux/actions/usersActions';\nimport { Button, ButtonToolbar } from 'reactstrap';\nimport CheckboxMarkedCircleIcon from 'mdi-react/CheckboxMarkedCircleIcon';\nimport EmailIcon from 'mdi-react/EmailIcon';\nimport EyeIcon from 'mdi-react/EyeIcon';\nimport KeyVariantIcon from 'mdi-react/KeyVariantIcon';\nimport AccountOutlineIcon from 'mdi-react/AccountOutlineIcon';\nimport MailRuIcon from 'mdi-react/MailRuIcon';\nimport Alert from '../shared/Alert';\nimport { catchError } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\nimport { useHeader } from '../shared/hooks';\nimport { Form, Field } from 'react-final-form';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport const RegisterFormComponent = memo(function ({ onSuccess }) {\n\n  const [error, setError] = useState();\n  const [showPassword, setShowPassword] = useState(false);\n\n  const submit = (values) => {\n    ajax.post(\n      `/api/1/customer/signup.json`,\n      values,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(\n      catchError((error) => [error])\n    ).subscribe((response) => {\n      if (response.name === 'AjaxError') {\n        setError(response.response.message);\n      } else {\n        onSuccess && onSuccess(response.response, values);\n      }\n    })\n  };\n\n  return (\n    <Form\n      onSubmit={submit}\n    >\n      {({ handleSubmit }) => (\n        <form className=\"form\" onSubmit={handleSubmit}>\n          {\n            error &&\n            <Alert color=\"danger\" className=\"alert--bordered\">\n              <p>{error}</p>\n            </Alert>\n          }\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <AccountOutlineIcon/>\n              </div>\n              <Field\n                name=\"firstName\"\n                component=\"input\"\n                type=\"text\"\n                placeholder=\"First Name\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <AccountOutlineIcon/>\n              </div>\n              <Field\n                name=\"lastName\"\n                component=\"input\"\n                type=\"text\"\n                placeholder=\"Last Name\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <MailRuIcon/>\n              </div>\n              <Field\n                name=\"email\"\n                component=\"input\"\n                type=\"email\"\n                placeholder=\"E-mail (username)\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group form__form-group--forgot\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <KeyVariantIcon/>\n              </div>\n              <Field\n                name=\"password\"\n                component=\"input\"\n                type={showPassword ? 'text' : 'password'}\n                placeholder=\"Password\"\n              />\n              <button\n                type=\"button\"\n                className={`form__form-group-button${showPassword ? ' active' : ''}`}\n                onClick={() => setShowPassword(!showPassword)}\n              ><EyeIcon/>\n              </button>\n            </div>\n          </div>\n          <div className=\"account__btns\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary account__btn\"\n            >\n              Sign Up\n            </button>\n          </div>\n        </form>\n      )}\n    </Form>\n  );\n});\n\nexport const RegisterForm = RegisterFormComponent;\n\nconst RegistrationConfirmation = () => (\n  <div className=\"email-confirmation\">\n    <div className=\"email-confirmation__icon\">\n      <EmailIcon className=\"email-confirmation__mail\"/>\n      <CheckboxMarkedCircleIcon className=\"email-confirmation__check\"/>\n    </div>\n    <h3 className=\"email-confirmation__title\">Your account was created successfully.</h3>\n    <p className=\"email-confirmation__sub\">Please check your email to confirm your account.</p>\n    <ButtonToolbar className=\"email-confirmation__buttons\">\n      <Button color=\"primary\">Resend E-mail</Button>\n    </ButtonToolbar>\n  </div>\n);\nconst Register = () => {\n  const dispatch = useDispatch();\n  const success = useSelector(state => state.users.registerConfirmPending);\n  const header = useHeader();\n\n  return (\n    <div className=\"account\">\n      <div className=\"account__wrapper\">\n        <div className=\"account__card\">\n          <div className=\"login-view__logo\">\n            {\n              header &&\n              <Anchor href={header.logo_url_s} className=\"login-view__logo\">\n                <img src={header.logo_s} alt={header.logo_alt_t} className=\"login-view__logo-img\"/>\n              </Anchor>\n            }\n          </div>\n          {\n            success\n              ? <RegistrationConfirmation/>\n              : <>\n                <div className=\"account__head\">\n                  <h3 className=\"account__title\">\n                    Create an account\n                  </h3>\n                </div>\n                <RegisterForm onSuccess={() => dispatch(registrationComplete())}/>\n                <div className=\"account__have-account\">\n                  <p>Already have an account? <Link to=\"/login\">Login</Link></p>\n                </div>\n              </>\n          }\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withTranslation } from 'react-i18next';\n\nconst NotFound404 = (props) => (\n  <div className=\"not-found\">\n    <div className=\"not-found__content\">\n      <h3 className=\"not-found__info\">The page you are looking for was not be found.</h3>\n      <Link className=\"btn btn-primary\" to={props.href || '/'}>{props.t('back_home')}</Link>\n    </div>\n  </div>\n);\n\nexport default withTranslation('common')(NotFound404);\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Button, ButtonGroup, ButtonToolbar, Table } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { removeFromCart, updateCartItemQuantity } from '../../redux/actions/productsActions';\nimport { money } from '../../util/string';\nimport AddCircleOutlineIcon from 'mdi-react/AddCircleOutlineIcon';\nimport DeleteForeverIcon from 'mdi-react/DeleteForeverIcon';\nimport RemoveCircleOutlineIcon from 'mdi-react/RemoveCircleOutlineIcon';\nimport { Empty } from '../shared/Empty';\nimport { useCartUpdateInFlight } from '../../util/component';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport function CartSummary() {\n  const { cart } = useSelector(state => state.products);\n  return (\n    (cart.items.length === 0) ? (\n      <h2 className=\"text-center\">Your cart is empty</h2>\n    ) : (\n      <Table className=\"table--bordered cart__table cart__summary-table\" responsive>\n        <thead>\n        <tr>\n          <th>Product</th>\n          <th/>\n        </tr>\n        </thead>\n        <tbody>\n        {\n          cart && cart.items.map((item) => (\n            <tr key={item.id}>\n              <td>\n                <span className=\"cart__preview-img\">\n                  <img src={item.images[0].url} alt=\"product_preview\"/>\n                </span>\n                <span className=\"cart__product-name--sm\">\n                  {item.productName}\n                </span>\n              </td>\n              <td>\n                <div className=\"cart__quantity-wrapper\">\n                  <span className=\"cart__quantity-display\">x{item.quantity}</span>\n                </div>\n              </td>\n            </tr>\n          ))\n        }\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nfunction CartBody(props) {\n  const dispatch = useDispatch();\n  const { cart } = useSelector(state => state.products);\n  const options = {\n    ...props.displayOptions\n      ? { ...CartBody.defaultProps.displayOptions, ...props.displayOptions }\n      : CartBody.defaultProps.displayOptions\n  };\n  const updatesInFlight = useCartUpdateInFlight();\n  return (\n    (cart.items.length === 0) ? (\n      <Empty description={\n        <>\n          <span>Your cart is empty.</span><br/>\n          <span>If you had left items in your cart, simply <Link to=\"/login\">log in</Link> to recover them.</span>\n        </>\n      } />\n    ) : (\n      <Table className=\"table--bordered cart__table\" responsive>\n        <thead>\n        <tr>\n          <th>Product</th>\n          <th>Quantity</th>\n          {options.showPrice && <th>Price</th>}\n          {options.showTax && <th>Tax</th>}\n          {options.showTotal && <th>Total</th>}\n          {options.showRemove && <th/>}\n        </tr>\n        </thead>\n        <tbody>\n        {\n          cart && cart.items.map((item) => (\n            <tr key={item.id}>\n              <td>\n                <span className=\"cart__preview-img\">\n                  <img src={item.images[0].url} alt=\"product_preview\"/>\n                </span>\n                <Link\n                  className=\"cart__product-name\"\n                  to={`/catalog/${item.productId}`}\n                >\n                  {item.productName}\n                </Link>\n              </td>\n              <td>\n                <div className=\"cart__quantity-wrapper\">\n                  <span className=\"cart__quantity-display\">{item.quantity}</span>\n                  {\n                    options.showQuantityModifiers &&\n                    <ButtonToolbar>\n                      <ButtonGroup className=\"btn-group--icons\">\n                        <Button\n                          type=\"button\"\n                          className=\"cart__remove-one-button sm\"\n                          outline\n                          onClick={() =>\n                            dispatch(updateCartItemQuantity({\n                              ...item,\n                              quantity: item.quantity - 1\n                            }))\n                          }\n                          disabled={updatesInFlight}\n                        >\n                          <RemoveCircleOutlineIcon/>\n                        </Button>\n                        <Button\n                          type=\"button\"\n                          className=\"cart__add-one-button sm\"\n                          outline\n                          onClick={() =>\n                            dispatch(\n                              updateCartItemQuantity({\n                                ...item,\n                                quantity: item.quantity + 1\n                              })\n                            )\n                          }\n                          disabled={updatesInFlight}\n                        >\n                          <AddCircleOutlineIcon/>\n                        </Button>\n                      </ButtonGroup>\n                    </ButtonToolbar>\n                  }\n                </div>\n              </td>\n              {options.showPrice && <td>{money(item.unitPrice, cart.currency)}</td>}\n              {options.showTax && <td>{money(item.taxedPrice, cart.currency)}</td>}\n              {options.showTotal && <td>{money(item.totalPrice, cart.currency)}</td>}\n              {options.showRemove && <td>\n                <button\n                  className=\"cart__table-btn\" type=\"button\"\n                  onClick={() => dispatch(removeFromCart(item))}\n                >\n                  <DeleteForeverIcon/> Remove\n                </button>\n              </td>}\n            </tr>\n          ))\n        }\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nexport function OrderTotals(props) {\n  const { cart } = useSelector(state => state.products);\n  return (\n    <>\n      <h3 className=\"order-details__title\">Order Details</h3>\n      <div className=\"order-details__body\">\n        <table className=\"order-details__table\">\n          <tbody>\n          <tr>\n            <th className=\"order-details__th\">Products</th>\n            <td className=\"order-details__td\">{money(cart.items.reduce((sum, item) => (sum + item.totalPrice), 0), cart.currency)}</td>\n          </tr>\n          <tr>\n            <th className=\"order-details__th\">Shipping</th>\n            <td className=\"order-details__td\">{money(cart.shippingPrice, cart.currency)}</td>\n          </tr>\n          <tr>\n            <th className=\"order-details__th\">Sub Total</th>\n            <td className=\"order-details__td\">{money(cart.totalPrice, cart.currency)}</td>\n          </tr>\n          {\n            cart.taxedPrice &&\n            <tr>\n              <th className=\"order-details__th\">Tax</th>\n              <td className=\"order-details__td\">{money(cart.taxedPrice - cart.totalPrice, cart.currency)}</td>\n            </tr>\n          }\n          <tr>\n            <th className=\"order-details__th\">Total</th>\n            <td className=\"order-details__td\">{money(cart.taxedPrice, cart.currency)}</td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nCartBody.defaultProps = {\n  displayOptions: {\n    showTax: true,\n    showPrice: true,\n    showTotal: true,\n    showRemove: true,\n    showQuantityModifiers: true\n  }\n};\n\nexport default CartBody;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport Layout from './Layout';\nimport { ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\n\nimport { Link } from 'react-router-dom';\nimport { money } from '../../util/string';\nimport Spinner from '../shared/Spinner';\nimport CartBody from './CartBody';\nimport { useCart } from '../../util/component';\n\nfunction CartView() {\n  const cart = useCart();\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={12} lg={12}>\n            {\n              (cart == null)\n                ? <Spinner contained/>\n                : <Card className=\"cart\">\n                  <CardBody>\n                    <div className=\"card__title\">\n                      <h1 className=\"page-title bold-text\">Cart</h1>\n                    </div>\n                    <CartBody/>\n                    {\n                      (cart.items.length > 0) &&\n                      <div className=\"cart__total-wrapper\">\n                        <h4 className=\"cart__total\">Sub-total: {money(cart.totalPrice, cart.currency)}</h4>\n                        <ButtonToolbar className=\"form__button-toolbar\">\n                          <Link className=\"btn btn-primary\" to=\"/checkout\">Checkout</Link>\n                        </ButtonToolbar>\n                      </div>\n                    }\n                  </CardBody>\n                </Card>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default CartView;\n\n\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable react/no-children-prop */\nimport React, { useState } from 'react';\nimport { Button, ButtonToolbar } from 'reactstrap';\nimport TextField from '@mui/material/TextField';\nimport PropTypes from 'prop-types';\nimport renderCheckBoxField from '../shared/form/CheckBox';\nimport Alert from '../shared/Alert';\nimport { loginComplete } from '../../redux/actions/usersActions';\nimport { Form, Field } from 'react-final-form';\nimport { FORM_ERROR } from 'final-form';\nimport { useDispatch } from 'react-redux';\n\nconst renderTextField = ({ input, label, meta: { touched, error }, children }) => (\n  <TextField\n    className=\"material-form__field\"\n    label={label}\n    error={touched && error}\n    children={children}\n    value={input.value}\n    onChange={(e) => {\n      e.preventDefault();\n      input.onChange(e.target.value);\n    }}\n  />\n);\n\nrenderTextField.propTypes = {\n  input: PropTypes.shape().isRequired,\n  label: PropTypes.string,\n  meta: PropTypes.shape({\n    touched: PropTypes.bool,\n    error: PropTypes.string,\n  }),\n  children: PropTypes.arrayOf(PropTypes.element),\n};\n\nrenderTextField.defaultProps = {\n  meta: null,\n  label: '',\n  children: [],\n};\n\nfunction ProfileSettings(props) {\n\n  const dispatch = useDispatch();\n\n  const { initialValues } = props;\n  const [success, setSuccess] = useState();\n\n  function submit(values) {\n    success && setSuccess();\n    return fetch('/api/1/customer/update.json', {\n      body: JSON.stringify(values),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    }).then(async (response) => {\n      if (response.status !== 200) {\n        const data = await response.json();\n        return { [FORM_ERROR]: data.message };\n      }\n      setSuccess('Update successful.');\n      return response.json();\n    }).then((user) => {\n      dispatch(loginComplete(user))\n    });\n  }\n\n  return (\n    <Form\n      initialValues={initialValues}\n      onSubmit={submit}\n    >\n      {({ handleSubmit, form, submitError }) => (\n        <form className=\"form\" onSubmit={handleSubmit}>\n          {\n            success &&\n            <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n              <p>{success}</p>\n            </Alert>\n          }\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Name</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                type=\"text\"\n                name=\"firstName\"\n                component=\"input\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Middle Name</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                type=\"text\"\n                name=\"middleName\"\n                component=\"input\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Last Name</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                type=\"text\"\n                name=\"lastName\"\n                component=\"input\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Phone Number</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                type=\"text\"\n                name=\"phone\"\n                component=\"input\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">E-mail</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                type=\"text\"\n                name=\"email\"\n                component=\"input\"\n              />\n            </div>\n          </div>\n          {submitError && <div className=\"error\">{submitError}</div>}\n          <ButtonToolbar className=\"form__button-toolbar\">\n            <Button color=\"primary\" type=\"submit\">Update profile</Button>\n            <Button type=\"button\" onClick={form.reset}>\n              Cancel\n            </Button>\n          </ButtonToolbar>\n        </form>\n      )}\n    </Form>\n  );\n\n}\n\nfunction ChangePasswordFormComponent(props) {\n  const [type, setType] = useState('password');\n  const [success, setSuccess] = useState();\n\n  function submit(values) {\n    success && setSuccess();\n    return fetch('/api/1/customer/change-password.json', {\n      body: JSON.stringify(values),\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8'\n      }\n    }).then(async (response) => {\n      if (response.status !== 200) {\n        const data = await response.json();\n        return { [FORM_ERROR]: data.message };\n      }\n      setSuccess('Update successful.');\n      return response.json();\n    });\n  }\n\n  return (\n    <Form\n      onSubmit={submit}\n    >\n      {({ handleSubmit, form, submitError }) => (\n        <form className=\"form\" onSubmit={values => handleSubmit(values).then(form.reset)}>\n          {\n            success &&\n            <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n              <p>{success}</p>\n            </Alert>\n          }\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Current Password</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"currentPassword\"\n                component=\"input\"\n                type={type}\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">New Password</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"newPassword\"\n                component=\"input\"\n                type={type}\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"showPassword\"\n                onChange={(value, checked) => setType(checked ? 'text' : 'password')}\n                component={renderCheckBoxField}\n                label=\"Show passwords\"\n              />\n            </div>\n          </div>\n          {submitError && <div className=\"error\">{submitError}</div>}\n          <ButtonToolbar className=\"form__button-toolbar\">\n            <Button color=\"primary\" type=\"submit\">Submit</Button>\n            <Button type=\"button\" onClick={form.reset}>\n              Cancel\n            </Button>\n          </ButtonToolbar>\n        </form>\n      )}\n    </Form>\n  );\n}\n\nexport const ChangePasswordForm = ChangePasswordFormComponent;\n\nexport default ProfileSettings;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Badge, Table } from 'reactstrap';\nimport React, { useEffect } from 'react';\nimport { FETCH_ORDERS, fetchOrders } from '../../redux/actions/usersActions';\nimport Spinner from '../shared/Spinner';\nimport { capitalize, money } from '../../util/string';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Empty } from '../shared/Empty';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction OrderList() {\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n  const { orders: ordersTable, loading } = useSelector(state => state.users);\n  const orders = Object.values(ordersTable);\n  useEffect(\n    () => {\n      if (loading[FETCH_ORDERS] == null)\n        dispatch(fetchOrders());\n    },\n    [dispatch, loading]\n  );\n  if (loading[FETCH_ORDERS]) {\n    return <Spinner contained/>;\n  }\n  return (\n    (orders.length === 0) ? (\n      <Empty description={\n        <>You haven't placed any orders yet. Visit <Link to=\"/catalog\">the catalog</Link> to place your first order!</>\n      } />\n    ) : (\n      <Table responsive hover>\n        <thead>\n        <tr>\n          <th>Order ID</th>\n          <th>Created</th>\n          <th>Total</th>\n          <th>Shipping Status</th>\n          <th>Order Status</th>\n        </tr>\n        </thead>\n        <tbody>\n        {orders.map(({ id, created, modified, currency, totalPrice, taxedPrice, shippingStatus, paymentStatus, orderStatus }) =>\n          <tr key={id} onClick={() => history.push(`/account/orders/${id}`)}>\n            <td>{id.substr(0, id.indexOf('-'))}</td>\n            <td>{created}</td>\n            <td>{money(totalPrice + taxedPrice, currency)}</td>\n            <td>{shippingStatus}</td>\n            <td>\n              <Badge color={orderStatus === 'COMPLETE' ? 'success' : 'warning'}>{capitalize(orderStatus)}</Badge>\n            </td>\n          </tr>\n        )}\n        </tbody>\n      </Table>\n    )\n  );\n}\n\nexport default OrderList;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useMemo, useState } from 'react';\nimport Layout from './Layout';\nimport { Button, ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport Alert from '../shared/Alert';\nimport Spinner from '../shared/Spinner';\nimport { addAddressComplete, editAddressComplete } from '../../redux/actions/usersActions';\nimport { RadioButton } from '../shared/form/RadioButton';\nimport { Link } from 'react-router-dom';\nimport { Empty } from '../shared/Empty';\nimport { useUser } from '../../util/component';\nimport * as qs from 'query-string';\nimport { Form, Field } from 'react-final-form';\nimport { FORM_ERROR } from 'final-form';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport function AddressCard({ address, user, showName }) {\n  return (\n    <address className=\"profile__contact\">\n      {\n        ((showName === undefined) || (showName)) &&\n        <p className=\"profile__name\">\n          {\n            address.addressName\n              ? address.addressName\n              : `${address.firstName || user.firstName} ${address.lastName || user.lastName}`\n          }\n        </p>\n      }\n      <div className=\"profile__work\">\n        {address.phone ? <div>{address.phone}</div> : null}\n        {address.mobile ? <div>{address.mobile}</div> : null}\n        {address.fax ? <div>{address.fax}</div> : null}\n      </div>\n      {address.streetAddressLineOne ? <div>{address.streetAddressLineOne}</div> : null}\n      {address.streetAddressLineTwo ? <div>{address.streetAddressLineTwo}</div> : null}\n      {\n        (address.city || address.postalCode) && (\n          <div>\n            {\n              (address.city && address.postalCode)\n                ? `${address.city}, ${address.postalCode}`\n                : address.city || address.postalCode\n            }\n          </div>\n        )\n      }\n      {address.state ? <div>{address.state}</div> : null}\n      <div>{address.country}</div>\n    </address>\n  );\n}\n\nexport const AddressForm = function (props) {\n\n  const {\n    error,\n    onSuccess,\n    onCancel,\n    isEditMode,\n    initialValues\n  } = props;\n\n  const [success, setSuccess] = useState();\n\n  const dispatch = useDispatch();\n\n  const submit = (values) => {\n    success && setSuccess();\n    return fetch('/api/1/customer/update.json', {\n      body: JSON.stringify({ [isEditMode ? 'changeAddress' : 'addAddress']: [values] }),\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json; charset=UTF-8' }\n    }).then(async (response) => {\n      const data = await response.json();\n      if (response.status !== 200) {\n        return { [FORM_ERROR]: data.message };\n      }\n      dispatch(isEditMode ? editAddressComplete(data) : addAddressComplete(data));\n      setSuccess('Update successful.');\n      onSuccess(data);\n    });\n  };\n\n  return (\n    <Form\n      initialValues={initialValues}\n      onSubmit={submit}\n    >\n      {({ handleSubmit, submitError }) => (\n        <form className=\"form address-form\" onSubmit={handleSubmit}>\n          {\n            success &&\n            <Alert color=\"success\" className=\"alert--bordered\" onDismiss={() => setSuccess()}>\n              <p>{success}</p>\n            </Alert>\n          }\n          {\n            error &&\n            <Alert color=\"danger\" className=\"alert--bordered\">\n              <p>{error}</p>\n            </Alert>\n          }\n          <Field\n            name=\"id\"\n            component=\"input\"\n            type=\"hidden\"\n          />\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Address Name</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"addressName\"\n                component=\"input\"\n                type=\"text\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group-columns\">\n            <div className=\"form__form-group form__form-group-col-left\">\n              <span className=\"form__form-group-label\">First Name</span>\n              <div className=\"form__form-group-field\">\n                <Field\n                  name=\"firstName\"\n                  component=\"input\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n            <div className=\"form__form-group form__form-group-col-right\">\n              <span className=\"form__form-group-label\">Last Name</span>\n              <div className=\"form__form-group-field\">\n                <Field\n                  name=\"lastName\"\n                  component=\"input\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Street Address</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"streetAddressLineOne\"\n                component=\"input\"\n                type=\"text\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"streetAddressLineTwo\"\n                component=\"input\"\n                type=\"text\"\n              />\n            </div>\n          </div>\n          <div className=\"form__form-group-columns\">\n            <div className=\"form__form-group form__form-group-col-left\">\n              <span className=\"form__form-group-label\">Country</span>\n              <div className=\"form__form-group-field\">\n                <Field\n                  name=\"country\"\n                  component=\"input\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n            <div className=\"form__form-group form__form-group-col-right\">\n              <span className=\"form__form-group-label\">State</span>\n              <div className=\"form__form-group-field\">\n                <Field\n                  name=\"state\"\n                  component=\"input\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form__form-group-columns\">\n            <div className=\"form__form-group form__form-group-col-left\">\n              <span className=\"form__form-group-label\">City</span>\n              <div className=\"form__form-group-field\">\n                <Field\n                  name=\"city\"\n                  component=\"input\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n            <div className=\"form__form-group form__form-group-col-right\">\n              <span className=\"form__form-group-label\">Postcode</span>\n              <div className=\"form__form-group-field\">\n                <Field\n                  name=\"postalCode\"\n                  component=\"input\"\n                  type=\"text\"\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"form__form-group\">\n            <span className=\"form__form-group-label\">Phone</span>\n            <div className=\"form__form-group-field\">\n              <Field\n                name=\"phone\"\n                component=\"input\"\n                type=\"text\"\n              />\n            </div>\n          </div>\n          {submitError && <div className=\"error\">{submitError}</div>}\n          <ButtonToolbar className=\"form__button-toolbar\">\n            <Button color=\"primary\" type=\"submit\">Submit</Button>\n            <Button type=\"button\" onClick={onCancel}>\n              Cancel\n            </Button>\n          </ButtonToolbar>\n        </form>\n      )}\n    </Form>\n  );\n};\n\nexport function AddressEntry(props) {\n\n  const user = useSelector(state => state.users.user);\n  const addressId = props.match.params.id;\n  const queryString = qs.parse(props.location.search);\n  const backUrl = queryString.origin || '/account/address-book';\n\n  const isEditMode = useMemo(\n    () => props.match.params.id != null,\n    [props.match.params.id]\n  );\n\n  if (user == null) {\n    return <Spinner/>;\n  }\n\n  return (\n    <Layout>\n      <Container>\n        <Card>\n          <CardBody>\n            <h1 className=\"page-title\">\n              {`${isEditMode ? 'Edit' : 'Add'} Address`}\n            </h1>\n            <AddressForm\n              user={user}\n              isEditMode={isEditMode}\n              onSuccess={() => props.history.push(backUrl)}\n              onCancel={() => props.history.push(backUrl)}\n              initialValues={\n                (isEditMode && user.addresses.find(\n                  (address) => address.id === addressId\n                )) || {\n                  firstName: user.firstName,\n                  lastName: user.lastName,\n                  email: user.email\n                }\n              }\n            />\n          </CardBody>\n        </Card>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function AddressSelection({ name, onChange, currentValue, returnUrl }) {\n\n  const user = useUser();\n  const { addresses } = user;\n\n  let newAddressUrl = '/account/address-book/new';\n  if (returnUrl) {\n    newAddressUrl = `${newAddressUrl}?origin=${returnUrl}`;\n  }\n\n  return (\n    <Row>\n      {\n        (addresses && addresses.length > 0) ? <>\n\n          {addresses.map((address) =>\n            <Col md={4} sm={6} key={address.id}>\n              <RadioButton\n                label={`${address.firstName || user.firstName} ${address.lastName || user.lastName}`}\n                name={name}\n                value={address.id}\n                currentValue={currentValue}\n                onChange={(e) => onChange(e.target.value)}\n              />\n              <div className=\"cart__delivery-time\">\n                <AddressCard address={address} user={user} showName={false}/>\n              </div>\n            </Col>\n          )}\n          <Col md={12}>\n            <hr/>\n            <Link to={newAddressUrl}>\n              Add new address\n            </Link>\n          </Col>\n\n        </> : <Col md={12}>\n          <Empty\n            description={\n              <span>\n                Please <Link to={newAddressUrl}>add an address</Link> to your address book.\n              </span>\n            }\n          />\n        </Col>\n      }\n    </Row>\n  );\n}\n\nexport default AddressCard;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useMemo } from 'react';\nimport Layout from './Layout';\nimport {\n  Badge,\n  Button,\n  Card,\n  CardBody,\n  Col,\n  Container,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle,\n  Nav,\n  NavItem,\n  NavLink,\n  Row,\n  TabContent,\n  TabPane,\n  UncontrolledDropdown\n} from 'reactstrap';\n\nimport classnames from 'classnames';\nimport ProfileSettings, { ChangePasswordForm } from './ProfileSettings';\nimport OrdersList from './OrderList';\nimport { logout, removeAddress, setAddressDefaults } from '../../redux/actions/usersActions';\nimport AddressCard from './AddressCard';\nimport ChevronDownIcon from 'mdi-react/ChevronDownIcon';\n\nimport authorized from '../shared/authorized';\nimport { Empty } from '../shared/Empty';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction Account({ history, match, user }) {\n\n  const dispatch = useDispatch();\n  const { orders } = useSelector(state => state.users);\n\n  const activeTab = useMemo(\n    () => (\n      [\n        'profile',\n        'orders',\n        'address-book',\n        'password'\n      ].includes(match.params.tab)\n        ? match.params.tab\n        : 'profile'\n    ),\n    [match.params.tab]\n  );\n\n  const setActiveTab = (tab) => {\n    history.push(`/account/${tab}`);\n  };\n\n  return (\n    <Layout>\n      <Container>\n        <div className=\"profile\">\n          <Row>\n            <Col md={12} lg={12} xl={4}>\n              <Card style={{ height: 'auto' }}>\n                <CardBody className=\"profile__card\">\n                  <div className=\"profile__information\">\n                    <div className=\"\">\n                      <p className=\"profile__name\">\n                        {`${user.firstName} ${user.middleName || ''} ${user.lastName}`}\n                      </p>\n                      <p className=\"profile__work\">{user.phone}</p>\n                      <p className=\"profile__contact\">{user.email}</p>\n                      <Button\n                        color=\"primary\"\n                        className=\"icon profile__btn\"\n                        onClick={() => dispatch(logout(history.push))}\n                      >\n                        Sign Out\n                      </Button>\n                    </div>\n                  </div>\n                  {\n                    orders &&\n                    <div className=\"profile__stats\">\n                      <div className=\"profile__stat\">\n                        <p className=\"profile__stat-number\">{Object.values(orders).length}</p>\n                        <p className=\"profile__stat-title\">Orders</p>\n                      </div>\n                    </div>\n                  }\n                </CardBody>\n              </Card>\n            </Col>\n            <Col md={12} lg={12} xl={8}>\n              <Card>\n                <div className=\"profile__card tabs tabs--bordered-bottom\">\n                  <div className=\"tabs__wrap\">\n                    <Nav tabs>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'profile' })}\n                          onClick={() => setActiveTab('profile')}\n                        >\n                          Profile\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'address-book' })}\n                          onClick={() => setActiveTab('address-book')}\n                        >\n                          Address Book\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'orders' })}\n                          onClick={() => setActiveTab('orders')}\n                        >\n                          Orders\n                        </NavLink>\n                      </NavItem>\n                      <NavItem>\n                        <NavLink\n                          className={classnames({ active: activeTab === 'password' })}\n                          onClick={() => setActiveTab('password')}\n                        >\n                          Password\n                        </NavLink>\n                      </NavItem>\n                    </Nav>\n                    <TabContent activeTab={activeTab}>\n                      <TabPane tabId=\"profile\">\n                        <ProfileSettings initialValues={user}/>\n                      </TabPane>\n                      <TabPane tabId=\"address-book\">\n                        <Row>\n                          <Col md={12}>\n                            <Button color=\"primary\" onClick={() => history.push('/account/address-book/new')}>\n                              Add Address\n                            </Button>\n                            {\n                              (user.addresses == null || user.addresses.length === 0) &&\n                              <Empty description=\"You haven't registered any addresses yet.\"/>\n                            }\n                          </Col>\n                          {\n                            user.addresses && user.addresses.map((address) =>\n                              <Col md={4} sm={6} key={address.id}>\n                                <Card>\n                                  <CardBody>\n                                    <AddressCard address={address} user={user}/>\n                                    {\n                                      (user.addresses.length === 1 || address.isShippingDefault) &&\n                                      <div className=\"address-display__default\">\n                                        <Badge color=\"info\">Shipping Default</Badge>\n                                      </div>\n                                    }\n                                    {\n                                      (user.addresses.length === 1 || address.isBillingDefault) &&\n                                      <div className=\"address-display__default\">\n                                        <Badge color=\"success\">Billing Default</Badge>\n                                      </div>\n                                    }\n                                    <UncontrolledDropdown>\n                                      <DropdownToggle className=\"icon icon--right btn-sm address-options-btn\" outline>\n                                        <p>Options <ChevronDownIcon/></p>\n                                      </DropdownToggle>\n                                      <DropdownMenu className=\"dropdown__menu\">\n                                        <DropdownItem\n                                          onClick={() => history.push(`/account/address-book/edit/${address.id}`)}>\n                                          Edit\n                                        </DropdownItem>\n                                        <DropdownItem onClick={() => onSetDefaultBilling(address)}>\n                                          Set as billing default\n                                        </DropdownItem>\n                                        <DropdownItem onClick={() => onSetDefaultShipping(address)}>\n                                          Set as shipping default\n                                        </DropdownItem>\n                                        <DropdownItem divider/>\n                                        <DropdownItem onClick={() => onRemoveAddress(address.id)}>\n                                          Remove\n                                        </DropdownItem>\n                                      </DropdownMenu>\n                                    </UncontrolledDropdown>\n                                  </CardBody>\n                                </Card>\n                              </Col>\n                            )\n                          }\n                        </Row>\n                      </TabPane>\n                      <TabPane tabId='orders'>\n                        <OrdersList/>\n                      </TabPane>\n                      <TabPane tabId=\"password\">\n                        <ChangePasswordForm/>\n                      </TabPane>\n                    </TabContent>\n                  </div>\n                </div>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </Container>\n    </Layout>\n  );\n\n  function onRemoveAddress(addressId) {\n    dispatch(removeAddress(addressId));\n  }\n\n  function onSetDefaultBilling(address) {\n    const nextAddress = { ...address, isBillingDefault: true };\n    onUpdateAddressDefaults(nextAddress);\n  }\n\n  function onSetDefaultShipping(address) {\n    const nextAddress = { ...address, isShippingDefault: true };\n    onUpdateAddressDefaults(nextAddress);\n  }\n\n  function onUpdateAddressDefaults(address) {\n    dispatch(setAddressDefaults(address));\n  }\n\n}\n\nexport default authorized(Account);\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\n\n// import invariant from 'tiny-invariant';\nimport hoistStatics from 'hoist-non-react-statics';\n\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useUser } from '../../util/component';\nimport Spinner from './Spinner';\n\nexport default function authorized(Component) {\n\n  const displayName = `authorized(${Component.displayName || Component.name})`;\n  const C = props => {\n\n    const history = useHistory();\n    const location = useLocation;\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    const user = useUser({\n      redirect: location.pathname,\n      onMissing: () => setTimeout(() => history.push('/login'))\n    });\n\n    if (user)\n      return (\n        <Component\n          {...remainingProps}\n          ref={wrappedComponentRef}\n          user={user}\n        />\n      );\n    else\n      return null;\n\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  return hoistStatics(C, Component);\n\n}\n\nexport function awaitRequirements(Component, { requirements, onMissing }) {\n\n  const displayName = `awaitRequirements(${Component.displayName || Component.name})`;\n  const C = props => {\n\n    const { wrappedComponentRef, ...remainingProps } = props;\n\n    const reqs = {};\n    const missing = [];\n    Object.entries(requirements).forEach(([key, getter]) => {\n      reqs[key] = getter();\n      if (reqs[key] == null) {\n        missing.push(key);\n      }\n    });\n\n    onMissing && onMissing(missing);\n\n    if (missing.length > 0) {\n      return <Spinner/>;\n    } else {\n      return (\n        <Component\n          ref={wrappedComponentRef}\n          {...remainingProps}\n          {...reqs}\n        />\n      );\n    }\n\n  };\n\n  C.displayName = displayName;\n  C.WrappedComponent = Component;\n\n  return hoistStatics(C, Component);\n\n}\n\n// Example\n// export default awaitRequirements(LogIn, {\n//   ['onMissing']: (reqs) => {\n//     const dispatch = useDispatch();\n//     useEffect(\n//       () => {\n//         if (reqs.length)\n//           dispatch(fetchGraph(['header']));\n//       },\n//       []\n//     );\n//   },\n//   requirements: {\n//     ['header']: () => useHeader()\n//   }\n// });\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport Layout from './Layout';\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { Button, ButtonToolbar, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport { LogInForm } from './LogIn';\nimport { getLoginFormDefaults, useCart, useProductsBranch, useUser } from '../../util/component';\nimport { CartSummary, OrderTotals } from './CartBody';\nimport CreditCardIcon from 'mdi-react/CreditCardIcon';\nimport { RadioButton } from '../shared/form/RadioButton';\nimport { AddressSelection } from './AddressCard';\nimport Spinner from '../shared/Spinner';\nimport { money } from '../../util/string';\nimport { Empty } from '../shared/Empty';\nimport {\n  checkout, UPDATE_CART,\n  updateCart\n} from '../../redux/actions/productsActions';\nimport { useDispatch } from 'react-redux';\n\nfunction address(cart, user, type) {\n  if (cart == null || user == null) {\n    return;\n  }\n  const cartAddress = cart[type === 'shipping' ? 'shippingAddress' : 'billingAddress'];\n  if (cartAddress == null || user.addresses == null) {\n    return;\n  }\n  const address = user.addresses.find((_address_) =>\n    _address_.streetAddressLineOne === cartAddress.streetAddressLineOne\n  );\n  return address ? address.id : undefined;\n}\n\nfunction ShippingSelection({ onChange, selectedValue, items }) {\n  return (\n    <div className=\"form__form-group shipping-method-selection\">\n      <div className=\"form__form-group-field cart__delivery-field\">\n        {items ? items.map((item) =>\n          <div className=\"cart__delivery\" key={item.id}>\n            <RadioButton\n              label={item.name}\n              name=\"shippingMethod\"\n              value={item.id}\n              currentValue={selectedValue}\n              onChange={() => onChange(item.id)}\n            />\n            <p className=\"cart__delivery-time\">{item.description}</p>\n            <p className=\"cart__delivery-price\">{money(item.price, item.currency)}</p>\n          </div>\n        ) : (\n          <Empty description=\"Shipping is not available for your location. :(\"/>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction CreditCardForm({ cardNumber, cvc, expirationDate, nameOnCard, onChange }) {\n  return (\n    <form className=\"form payment__credit-cards\">\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Card number</span>\n        <div className=\"form__form-group-field\">\n          <div className=\"form__form-group-icon\">\n            <CreditCardIcon/>\n          </div>\n          <input\n            type=\"text\"\n            name=\"cardNumber\"\n            value={cardNumber}\n            onChange={onChange}\n            placeholder=\"xxxx-xxxx-xxxx-xxxx\"\n          />\n        </div>\n      </div>\n      <div className=\"form__form-group-date-cvc\">\n        <div className=\"form__form-group form__form-group-date\">\n          <span className=\"form__form-group-label\">Expiration Date</span>\n          <div className=\"form__form-group-field\">\n            <input\n              type=\"month\"\n              name=\"expirationDate\"\n              placeholder=\"MM/YY\"\n              min=\"2019-07\"\n              value={expirationDate}\n              onChange={onChange}\n            />\n          </div>\n        </div>\n        <div className=\"form__form-group form__form-group-cvc\">\n          <span className=\"form__form-group-label\">CVC</span>\n          <div className=\"form__form-group-field\">\n            <input\n              type=\"number\"\n              name=\"cvc\"\n              minLength={3}\n              maxLength={4}\n              value={cvc}\n              onChange={onChange}\n            />\n          </div>\n        </div>\n      </div>\n      <div className=\"form__form-group\">\n        <span className=\"form__form-group-label\">Cardholder name</span>\n        <div className=\"form__form-group-field\">\n          <input\n            type=\"text\"\n            name=\"nameOnCard\"\n            placeholder=\"Name and Surname\"\n            value={nameOnCard}\n            onChange={onChange}\n          />\n        </div>\n      </div>\n    </form>\n  );\n}\n\nfunction CheckoutView({ history }) {\n\n  const dispatch = useDispatch();\n  const { loading } = useProductsBranch();\n  const user = useUser({ redirect: '/checkout' });\n  const cart = useCart({ onEmpty: () => history.push('/cart') });\n  const [card, setState] = useState({\n    cvc: '',\n    nameOnCard: '',\n    cardNumber: '',\n    expirationDate: '',\n  });\n\n  const [shippingAddress, setShippingAddress] = useState();\n  const [billingAddress, setBillingAddress] = useState();\n  const [shippingMethod, setShippingMethod] = useState();\n\n  const onCardDataEntry = (e) => {\n    const { value, name } = e.target;\n    setState({ ...card, [name]: value });\n  };\n\n  const onAddressSelection = (value, type) => {\n    (type === 'shipping' ? setShippingAddress : setBillingAddress)(value);\n  };\n\n  useEffect(\n    () => {\n\n      const shipping = address(cart, user, 'shipping');\n      const billing = address(cart, user, 'billing');\n      const method = (cart || {}).shippingMethod;\n\n      shipping && (shipping !== shippingAddress) && setShippingAddress(shipping);\n      billing && (billing !== billingAddress) && setBillingAddress(billing);\n      method && (method !== shippingMethod) && setShippingMethod(method);\n\n    },\n    [user, cart, shippingAddress, billingAddress, shippingMethod]\n  );\n\n  useEffect(\n    () => {\n      if (cart) {\n\n        const\n          shippingCondition = (!!shippingAddress && shippingAddress !== address(cart, user, 'shipping')),\n          billingCondition = (!!billingAddress && billingAddress !== address(cart, user, 'billing')),\n          methodCondition = (!!shippingMethod && cart.shippingMethod !== shippingMethod);\n\n        if (\n          shippingCondition ||\n          billingCondition ||\n          methodCondition\n        ) {\n          dispatch(updateCart({\n            ...shippingCondition ? { shippingAddress } : {},\n            ...billingCondition ? { billingAddress } : {},\n            ...methodCondition ? { shippingMethod } : {}\n          }));\n        }\n\n      }\n\n    },\n    [dispatch, user, cart, shippingAddress, billingAddress, shippingMethod]\n  );\n\n  const checkoutDisabled = useMemo(\n    () => !(\n      shippingAddress &&\n      billingAddress &&\n      shippingMethod &&\n      card.cvc &&\n      card.nameOnCard &&\n      card.cardNumber &&\n      card.expirationDate\n    ),\n    [shippingAddress, billingAddress, shippingMethod, card]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          {(cart == null) ? <Col md={12}><Spinner contained/></Col> : (user == null) ? <>\n\n            <Col md={12} lg={12}>\n              <Card>\n                <CardBody>\n                  <div className=\"text-center\">\n                    <h1 className=\"page-title\">Checkout</h1>\n                    <p className=\"page-subhead subhead\">\n                      In order to checkout please sign in or create an account if you don't have one.\n                    </p>\n                    <div className=\"payment-view__login\">\n                      <LogInForm initialValues={getLoginFormDefaults()}/>\n                    </div>\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n\n          </> : <>\n\n            <Col md={9}>\n              <Card>\n                <CardBody>\n\n                  <div className=\"card__title\">\n                    <h1 className=\"bold-text\">Checkout</h1>\n                  </div>\n                  <div className=\"payment\">\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Shipping Address</legend>\n                      <AddressSelection\n                        returnUrl=\"/checkout\"\n                        name=\"shippingAddress\"\n                        currentValue={shippingAddress}\n                        onChange={(value) => onAddressSelection(value, 'shipping')}\n                      />\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Billing Address</legend>\n                      <AddressSelection\n                        returnUrl=\"/checkout\"\n                        name=\"billingAddress\"\n                        currentValue={billingAddress}\n                        onChange={(value) => onAddressSelection(value, 'billing')}\n                      />\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Shipping Method</legend>\n                      {\n                        loading[UPDATE_CART] ? <Spinner small/> : cart.shippingMethods ? (\n                          <ShippingSelection\n                            items={cart.shippingMethods}\n                            selectedValue={shippingMethod}\n                            onChange={(value) => setShippingMethod(value)}\n                          />\n                        ) : <Empty description=\"Select shipping address to view available shipping methods\"/>\n                      }\n                    </fieldset>\n                    <fieldset className=\"payment__checkout-section\">\n                      <legend>Payment Method</legend>\n                      <CreditCardForm {...card} onChange={onCardDataEntry}/>\n                    </fieldset>\n                  </div>\n\n                </CardBody>\n              </Card>\n            </Col>\n\n            <Col md={3}>\n              <CartSummary/>\n              <OrderTotals/>\n              <ButtonToolbar className=\"form__button-toolbar\">\n                <Button\n                  type=\"button\"\n                  color=\"primary\"\n                  onClick={onCheckout}\n                  disabled={checkoutDisabled}\n                  className=\"payment__complete-purchase-btn\"\n                >\n                  Complete Purchase\n                </Button>\n              </ButtonToolbar>\n            </Col>\n\n          </>}\n        </Row>\n      </Container>\n    </Layout>\n  );\n\n  function onCheckout() {\n    dispatch(checkout({ card, shippingMethod, shippingAddress, billingAddress }, history.push));\n  }\n\n}\n\nexport default CheckoutView;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Badge, Card, CardBody, Col, Container, Row, Table } from 'reactstrap';\n\nimport Layout from './Layout';\nimport { useOrder } from '../../util/component';\nimport Spinner from '../shared/Spinner';\nimport { Link } from 'react-router-dom';\nimport { capitalize, money } from '../../util/string';\n\n\nfunction OrderDetails(props) {\n\n  const id = props.match.params.id;\n  const order = useOrder(id);\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={9}>\n\n            <Card>\n              <CardBody>\n                <h1 className=\"page-title\">\n                  {`Order # ${id} - Details`}\n                </h1>\n\n                {order == null ? <Spinner contained/> : <>\n\n                  <Table className=\"table--bordered cart__table\" responsive>\n                    <thead>\n                    <tr>\n                      <th>Product</th>\n                      <th>Quantity</th>\n                      <th>Price</th>\n                      <th>Total</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {\n                      order.items && order.items.map((item) => (\n                        <tr key={item.id}>\n                          <td>\n                            <span className=\"cart__preview-img\">\n                              <img src={item.images[0].url} alt=\"product_preview\"/>\n                            </span>\n                            <Link\n                              className=\"cart__product-name\"\n                              to={`/catalog/${item.productId}`}\n                            >\n                              {item.productName}\n                            </Link>\n                          </td>\n                          <td>{item.quantity}</td>\n                          <td>{money(item.unitPrice, order.currency)}</td>\n                          <td>{money(item.totalPrice, order.currency)}</td>\n                        </tr>\n                      ))\n                    }\n                    </tbody>\n                  </Table>\n\n                </>}\n\n              </CardBody>\n            </Card>\n          </Col>\n          <Col md={3}>\n            {\n              order && order.items && <>\n\n                <table className=\"table\">\n                  <tbody>\n                  <tr>\n                    <th>Order Status</th>\n                    <td>\n                      <Badge color={['OPEN', 'CONFIRMED', 'COMPLETE'].includes(order.orderStatus) ? 'success' : 'warning'}>\n                        {capitalize(order.orderStatus)}\n                      </Badge>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>Payment Status</th>\n                    <td>\n                      <Badge color={order.paymentStatus === 'COMPLETE' ? 'success' : 'warning'}>\n                        {capitalize(order.paymentStatus || 'Pending')}\n                      </Badge>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>Shipping Status</th>\n                    <td>\n                      <Badge color={order.shippingStatus === 'COMPLETE' ? 'success' : 'warning'}>\n                        {capitalize(order.shippingStatus || 'Pending')}\n                      </Badge>\n                    </td>\n                  </tr>\n                  </tbody>\n                </table>\n\n                <div className=\"order-details__body\">\n                  <table className=\"order-details__table\">\n                    <tbody>\n                    <tr>\n                      <th className=\"order-details__th\">Products</th>\n                      <td className=\"order-details__td\">{money(order.items.reduce((sum, item) => (sum + item.totalPrice), 0), order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Shipping</th>\n                      <td className=\"order-details__td\">{money(order.shippingPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Sub Total</th>\n                      <td className=\"order-details__td\">{money(order.totalPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Tax</th>\n                      <td className=\"order-details__td\">{money(order.taxedPrice - order.totalPrice, order.currency)}</td>\n                    </tr>\n                    <tr>\n                      <th className=\"order-details__th\">Total</th>\n                      <td className=\"order-details__td\">{money(order.taxedPrice, order.currency)}</td>\n                    </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport default OrderDetails;\n\n// Payment:\n// BALANCE_DUE\n// PENDING\n// PAID\n// CREDIT_OWED\n// FAILED\n//\n// Shipping:\n// READY\n// PENDING\n// PARTIAL\n// DELAYED\n// SHIPPED\n// BACK_ORDER\n//\n// Order:\n// OPEN\n// CONFIRMED\n// COMPLETE\n// CANCELLED\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport { CategoryListing } from './BlogRoll';\nimport { Link } from 'react-router-dom';\nimport { ajax } from 'rxjs/ajax';\nimport { catchError, map } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { getProducts, useProductsQuery } from '../../util/products';\nimport { useCategories, usePosts } from '../shared/hooks';\nimport { RenderField, Field, ExperienceBuilder } from '@craftercms/experience-builder/react';\nimport { isAuthoring } from '../shared/utils';\n\nexport default function BlogEntry(props) {\n  const slug = props.match.params.slug;\n\n  const categories = useCategories();\n\n  const [paginationData] = useState({\n    itemsPerPage: 1,\n    currentPage: 0\n  });\n  const post = usePosts(paginationData, slug);\n\n  return <ExperienceBuilder\n    isAuthoring={isAuthoring()}\n    path={post?.items[0].craftercms.path}\n  >\n    <Layout>\n      <Container>\n        <Row>\n          {\n            post &&\n            <Col md={9}>\n              <Card>\n                <CardBody>\n                  <Post post={post.items[0]}/>\n                </CardBody>\n              </Card>\n            </Col>\n          }\n          <Col md={3}>\n\n            <CategoryListing categories={categories}/>\n            {\n              post &&\n              <>\n                <RelatedPosts categories={post.items[0].categories_o} slug={slug}/>\n                <RelatedProducts categories={post.items[0].categories_o}/>\n              </>\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  </ExperienceBuilder>\n}\n\nfunction Post({ post }) {\n  const { title_s, image_s, author_s, subtitle_s, content_html_raw, categories_o } = post;\n  return (\n    <>\n      <Field component=\"section\" className=\"post__head\" model={post}>\n        <RenderField\n          component=\"h1\"\n          model={post}\n          fieldId=\"title_s\"\n          className=\"post__title\"\n        >\n          {title_s}\n        </RenderField>\n        {\n          subtitle_s &&\n          <RenderField\n            component=\"p\"\n            model={post}\n            fieldId=\"subtitle_s\"\n            className=\"post__subtitle\"\n          >\n            {subtitle_s}\n          </RenderField>\n        }\n        {\n          author_s &&\n          <RenderField\n            component=\"p\"\n            model={post}\n            fieldId=\"author_s\"\n            className=\"post__author\"\n          >\n            {author_s}\n          </RenderField>\n        }\n      </Field>\n      {\n        image_s &&\n        <Field\n          component=\"img\"\n          renderTarget=\"src\"\n          className=\"post__image\"\n          model={post}\n          fieldId=\"image_s\"\n          src={image_s}\n          alt=\"\"\n        />\n      }\n      <Field\n        model={post}\n        fieldId=\"content_html\"\n        className=\"post__body\"\n        dangerouslySetInnerHTML={{ __html: content_html_raw }}\n      />\n      <div className=\"post__categories\">{categories_o.map((item) => item.value_smv).join(', ')}</div>\n    </>\n  );\n}\n\nfunction RelatedPosts({ categories, slug }) {\n  const [relatedPosts, setRelatedPosts] = useState();\n  useEffect(\n    () => {\n      ajax.post(\n        process.env.REACT_APP_GRAPHQL_SERVER,\n        {\n          query: `query {\n            posts: component_post (limit: 3, sortOrder: ASC, sortBy: \"title_s\") {\n              items {\n                title_s\n                image_s\n                slug_s(filter: { not: [{ equals: \"${slug}\" }]})\n                categories_o @skip(if: true) {\n                  item {\n                    key(filter: {matches: \"${categories[0].key}\"})\n                  }\n                }\n              }\n            }\n          }`\n        },\n        { 'Content-Type': 'application/json; charset=UTF-8' }\n      ).pipe(\n        map(({ response }) => (response.data.posts.items)),\n        catchError((response) => of(response)),\n      ).subscribe(posts => setRelatedPosts(posts));\n    },\n    [slug, categories]\n  );\n  return (\n    relatedPosts ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Related Posts</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          relatedPosts.map(({ title_s, image_s, slug_s }) =>\n            <Link key={slug_s} className=\"blog__side-bar-item\" to={`/blog/${slug_s}`}>\n              <img src={image_s} alt=\"\"/>\n              <h3 className=\"blog__related-post-title\">{title_s}</h3>\n            </Link>\n          )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n\nfunction RelatedProducts({ categories }) {\n  const [items, setItems] = useState();\n  const params = useProductsQuery();\n  useEffect(\n    () => {\n      getProducts({ limit: 3, offset: Math.floor(Math.random() * 11), ...params })\n        .subscribe(({ response }) => setItems(response.items));\n    },\n    // TODO: adding params is creating a loop\n    // eslint-disable-next-line\n    [categories, params.locale, params.currency]\n  );\n  return (\n    items ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Related Products</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          items.map(({ id, variants, name }) =>\n            <Link key={id} className=\"blog__side-bar-item blog__side-bar-item--horizontal\" to={`/catalog/${id}`}>\n              <img className=\"blog__side-bar-item-image\" src={variants[0].images[0].url} alt=\"\"/>\n              <h3 className=\"blog__related-post-title\">{name}</h3>\n            </Link>\n          )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState, Suspense } from 'react';\nimport Layout from './Layout';\nimport { Badge, Card, CardBody, Col, Container, Row } from 'reactstrap';\nimport * as qs from 'query-string';\n\nimport MagnifyIcon from 'mdi-react/MagnifyIcon';\nimport { Empty } from '../shared/Empty';\nimport { Link } from 'react-router-dom';\nimport { capitalize } from '../../util/string';\nimport { getProducts, useProductsQuery } from '../../util/products';\nimport { useUrlSearchQueryFetchResource } from '../shared/hooks';\n\nconst\n  ARTICLE = 'ARTICLE',\n  PRODUCT = 'PRODUCT';\n\nexport default function Search(props) {\n  const { q: query } = { q: '', ...qs.parse(props.location.search) };\n  const [value, setValue] = useState(query);\n\n  const [productResults, setProductResults] = useState();\n  const productsQueryParams = useProductsQuery({ q: query, limit: 10, offset: 0 });\n\n  const [paginationData] = useState({\n    itemsPerPage: 10,\n    currentPage: 0\n  });\n  let resource = useUrlSearchQueryFetchResource(paginationData.itemsPerPage);\n\n  useEffect(\n    () => {\n      if (query) {\n        getProducts(productsQueryParams).subscribe(({ response: catalog }) => {\n          setProductResults({\n            total: catalog.total,\n            products: catalog.items\n          });\n        });\n\n        setValue(query);\n      }\n    },\n    // TODO: adding productsQueryParams is creating a loop\n    // eslint-disable-next-line\n    [query, productsQueryParams.locale, productsQueryParams.currency]\n  );\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={9}>\n            <Card>\n              <CardBody>\n                <div className=\"card__title\">\n                  <h1 className=\"bold-text\">Search</h1>\n                </div>\n                <form\n                  className=\"form\"\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    props.history.push(`/search?q=${value}`);\n                  }}\n                >\n                  <div className=\"form__form-group\">\n                    <div className=\"form__form-group-field\">\n                      <input name=\"q\" type=\"text\" placeholder=\"Search...\" value={value}\n                             onChange={(e) => setValue(e.target.value)}/>\n                      <button className=\"form__form-group-icon\">\n                        <MagnifyIcon/>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n                {\n                  !query &&\n                  <Empty description=\"Please enter your search query to perform a search.\"/>\n                }\n                <Suspense fallback={<Empty description=\"No results where found for your query.\"/>}>\n                  <SearchResults\n                    resource={resource}\n                  />\n                </Suspense>\n              </CardBody>\n            </Card>\n          </Col>\n          <Col md={3}>\n            {\n              productResults ?\n                productResults.total === 0\n                  ? 'No products matched your search'\n                  : <>\n                    <p className=\"subhead\">Products related to your search.</p>\n                    <div>\n                      {\n                        productResults.products.map((item) => <SearchResult\n                          key={item.id}\n                          type={PRODUCT}\n                          item={item}\n                        />)\n                      }\n                    </div>\n                  </>\n                : null\n            }\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function SearchResult(props) {\n  const { type, item } = props;\n  const\n    title = item[type === ARTICLE ? 'title_s' : 'name'],\n    link = type === ARTICLE ? `/blog/${item.slug_s}` : `/catalog/${item.id}`,\n    preview = type === PRODUCT ? item.description : item.content_html.substr(0, 100),\n    img = type === PRODUCT ? item.variants[0].images[0].url : item.image_s;\n  return (\n    <div className=\"search-result\">\n      <Link to={link}>\n        <img className=\"search-result__img\" src={img} alt=\"\"/>\n      </Link>\n      <div className=\"search-result__content\">\n        <Link className=\"search-result__title\" to={link}>{title}</Link>\n        {type === PRODUCT ? null : <p className=\"search-result__preview\">{preview}</p>}\n        <Badge color=\"info\">{capitalize(type.toLowerCase())}</Badge>\n      </div>\n    </div>\n  );\n}\n\nexport function SearchResults(props) {\n  const { resource } = props;\n  const { hits } = resource.read();\n\n  return (\n    <>\n      {\n        hits.map((item) =>\n          <SearchResult\n            key={item.craftercms.id}\n            type={ARTICLE}\n            item={item}\n          />\n        )\n      }\n    </>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { lazy } from 'react';\n\nconst map = {\n  '/page/landing': lazy(() => import('../app/Home')),\n  '/page/blog_roll': lazy(() => import('../app/BlogRoll')),\n  '/page/catalog': lazy(() => import('../app/ProductsListing'))\n};\n\nexport default map;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { fetchQuery } from '../../util/content';\nimport byUrlQuery from './queries.graphql';\nimport { parseDescriptor } from '@craftercms/content';\nimport { ExperienceBuilder, ContentType } from '@craftercms/experience-builder/react';\nimport { isAuthoring } from './utils';\nimport contentTypeMap from './contentTypeMap';\nimport Spinner from '../shared/Spinner';\n\nexport default function DynamicRoute(props) {\n  const { match, location } = props;\n  const [ state, setState ] = useState(null);\n  let url = match.url;\n\n  useEffect(() => {\n    let destroyed = false;\n    fetchQuery(\n      { text: byUrlQuery },\n      {\n        url: `.*${url === '/' ? 'website/index' : url}.*`\n      }\n    ).then(({data}) => {\n      if (!destroyed) {\n        const model = parseDescriptor(data.content.items?.[0]);\n\n        setState({\n          model,\n          meta: {}\n        });\n      }\n    });\n    return () => {\n      destroyed = true;\n    };\n  }, [url, location.search]);\n\n  useEffect(() => {\n    window.scroll(0, 0);\n  }, [url]);\n\n\n  if (state === null) {\n    return <Spinner />;\n  } else {\n    return <ExperienceBuilder\n      isAuthoring={isAuthoring()}\n      path={state.model?.craftercms.path}\n    >\n      <ContentType\n        {...state}\n        {...props}\n        contentTypeMap={contentTypeMap}\n      />\n    </ExperienceBuilder>\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport ProductDetails from './app/ProductDetails';\n\nimport LogIn from './app/LogIn';\nimport Register from './app/Register';\nimport NotFound404 from './app/NotFoundView';\nimport CartView from './app/CartView';\nimport Account from './app/Account';\nimport CheckoutView from './app/CheckoutView';\nimport { AddressEntry } from './app/AddressCard';\nimport OrderDetails from './app/OrderDetails';\nimport BlogEntry from './app/BlogEntry';\nimport Search from './app/Search';\nimport DynamicRoute from './shared/DynamicRoute';\n\nconst Routes = () => {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={DynamicRoute} />\n      <Route exact path=\"/catalog\" component={DynamicRoute}/>\n      <Route path=\"/catalog/:product\" component={ProductDetails}/>\n      <Route path=\"/cart\" component={CartView}/>\n      <Route path=\"/checkout\" component={CheckoutView}/>\n      <Route exact path=\"/account/address-book/new\" component={AddressEntry}/>\n      <Route exact path=\"/account/address-book/edit/:id?\" component={AddressEntry}/>\n      <Route exact path=\"/account/orders/:id\" component={OrderDetails}/>\n      <Route path=\"/account/:tab?\" component={Account}/>\n      <Route exact path=\"/blog\" component={DynamicRoute}/>\n      <Route path=\"/blog/:slug\" component={BlogEntry}/>\n      <Route path=\"/login\" component={LogIn}/>\n      <Route path=\"/register\" component={Register}/>\n      <Route path=\"/search\" component={Search}/>\n      <Route path=\"/\" component={NotFound404}/>\n    </Switch>\n  );\n};\n\nexport default Routes;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const CHANGE_THEME_TO_DARK = 'CHANGE_THEME_TO_DARK';\nexport const CHANGE_THEME_TO_LIGHT = 'CHANGE_THEME_TO_LIGHT';\nexport const SET_IS_AUTHORING = 'SET_IS_AUTHORING';\nexport const CHANGE_BORDER_RADIUS = 'CHANGE_BORDER_RADIUS';\nexport const TOGGLE_BOX_SHADOW = 'TOGGLE_BOX_SHADOW';\nexport const TOGGLE_TOP_NAVIGATION = 'TOGGLE_TOP_NAVIGATION';\n\nexport function changeThemeToDark() {\n  return {\n    type: CHANGE_THEME_TO_DARK,\n  };\n}\n\nexport function changeThemeToLight() {\n  return {\n    type: CHANGE_THEME_TO_LIGHT,\n  };\n}\n\nexport function setIsAuthoring(isAuthoring) {\n  return {\n    type: SET_IS_AUTHORING,\n    payload: { isAuthoring }\n  };\n}\n\nexport function changeBorderRadius() {\n  return {\n    type: CHANGE_BORDER_RADIUS,\n  };\n}\n\nexport function toggleBoxShadow() {\n  return {\n    type: TOGGLE_BOX_SHADOW,\n  };\n}\n\nexport function toggleTopNavigation() {\n  return {\n    type: TOGGLE_TOP_NAVIGATION,\n  };\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  CHANGE_THEME_TO_DARK,\n  CHANGE_THEME_TO_LIGHT,\n  SET_IS_AUTHORING,\n  CHANGE_BORDER_RADIUS,\n  TOGGLE_BOX_SHADOW,\n  TOGGLE_TOP_NAVIGATION\n} from '../actions/themeActions';\n\nconst initialState = {\n  isAuthoring: false,\n  className: 'theme-light',\n  squaredCorners: false,\n  withBoxShadow: false,\n  topNavigation: false,\n};\n\nfunction themeReducer(state = initialState, action) {\n  switch (action.type) {\n    case CHANGE_THEME_TO_DARK:\n      return { ...state, className: 'theme-dark' };\n    case CHANGE_THEME_TO_LIGHT:\n      return { ...state, className: 'theme-light' };\n    case SET_IS_AUTHORING:\n      return { ...state, isAuthoring: action.payload.isAuthoring };\n    case CHANGE_BORDER_RADIUS:\n      return { ...state, squaredCorners: !state.squaredCorners };\n    case TOGGLE_BOX_SHADOW:\n      return { ...state, withBoxShadow: !state.withBoxShadow };\n    case TOGGLE_TOP_NAVIGATION:\n      return { ...state, topNavigation: !state.topNavigation };\n    default:\n      return state;\n  }\n}\n\nexport default themeReducer;\n\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { catchError, map } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nexport function removeProp(branch, ...keys) {\n  const next = { ...branch };\n  keys.forEach((key) => {\n    delete next[key];\n  });\n  return next;\n}\n\nexport const errorOp = catchError((response) => of(response));\n\nexport const mapOp = (success, fail) => map(\n  ({ response, name }) =>\n    (name !== 'AjaxError')\n      ? success(response)\n      : fail(response)\n);\n\nexport function getRootType(type) {\n  return type.replace(/_FAILED|_COMPLETE/g, '');\n}\n\nexport function byIdLoadingKey(root, id) {\n  return `${root}[${id}]`;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport function toLookupTable(array, prop = 'id') {\n  return array.reduce(\n    (table, item) => {\n      table[item[prop]] = item;\n      return table;\n    },\n    {}\n  )\n}\n\nexport function shuffle(source) {\n  let\n    array = [...source],\n    currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {\n  ADD_USER_ADDRESS,\n  ADD_USER_ADDRESS_COMPLETE,\n  ADD_USER_ADDRESS_FAILED,\n  EDIT_USER_ADDRESS,\n  EDIT_USER_ADDRESS_COMPLETE,\n  EDIT_USER_ADDRESS_FAILED, FETCH_ORDER, FETCH_ORDER_COMPLETE, FETCH_ORDER_FAILED,\n  FETCH_ORDERS,\n  FETCH_ORDERS_COMPLETE,\n  FETCH_ORDERS_FAILED, LOGIN,\n  LOGIN_COMPLETE,\n  LOGIN_FAILED,\n  LOGOUT_COMPLETE, REGISTRATION_COMPLETE,\n  REMOVE_USER_ADDRESS,\n  REMOVE_USER_ADDRESS_COMPLETE,\n  REMOVE_USER_ADDRESS_FAILED,\n  RESET_LOGIN_REDIRECT,\n  SET_LOGIN_REDIRECT, SET_PERSONA,\n  SET_USER_ADDRESS_DEFAULTS,\n  SET_USER_ADDRESS_DEFAULTS_COMPLETE,\n  SET_USER_ADDRESS_DEFAULTS_FAILED,\n  SUBMIT_REGISTRATION_FAILED\n} from '../actions/usersActions';\nimport { getRootType, removeProp } from '../../util/redux';\nimport { CHECKOUT_COMPLETE } from '../actions/productsActions';\nimport { toLookupTable } from '../../util/array';\n\nconst initialState = {\n  loading: {},\n  errors: {},\n  user: null,\n  orders: {},\n  persona: null,\n  loginRedirect: '/account',\n  registerConfirmPending: false\n};\n\nexport default function usersReducer(state = initialState, action) {\n  let { root, type, payload } = action;\n  if (!root) root = getRootType(type);\n  switch (type) {\n\n    case SET_PERSONA:\n      return {\n        ...state,\n        persona: payload.persona\n      };\n\n    case LOGIN:\n    case FETCH_ORDER:\n    case FETCH_ORDERS:\n    case ADD_USER_ADDRESS:\n    case EDIT_USER_ADDRESS:\n    case REMOVE_USER_ADDRESS:\n    case SET_USER_ADDRESS_DEFAULTS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, type),\n        loading: {\n          ...state.loading,\n          [type]: true\n        }\n      };\n\n    case CHECKOUT_COMPLETE:\n    case FETCH_ORDER_COMPLETE:\n      return {\n        ...state,\n        orders: {\n          ...state.orders,\n          [payload.id]: payload\n        }\n      };\n\n    case LOGIN_COMPLETE:\n    case ADD_USER_ADDRESS_COMPLETE:\n    case EDIT_USER_ADDRESS_COMPLETE:\n    case REMOVE_USER_ADDRESS_COMPLETE:\n    case SET_USER_ADDRESS_DEFAULTS_COMPLETE:\n      return {\n        ...state,\n        persona: payload.attributes,\n        user: payload,\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    case FETCH_ORDERS_COMPLETE:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_ORDERS),\n        loading: {\n          ...state.loading,\n          [FETCH_ORDERS]: false\n        },\n        orders: toLookupTable(payload.items)\n      };\n\n    case LOGOUT_COMPLETE:\n      return {\n        ...state,\n        user: null\n      };\n\n    case LOGIN_FAILED:\n    case FETCH_ORDER_FAILED:\n    case ADD_USER_ADDRESS_FAILED:\n    case EDIT_USER_ADDRESS_FAILED:\n    case REMOVE_USER_ADDRESS_FAILED:\n    case SET_USER_ADDRESS_DEFAULTS_FAILED:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [root]: false\n        },\n        errors: {\n          [root]: payload.message\n        }\n      };\n\n    case SUBMIT_REGISTRATION_FAILED:\n      return {\n        ...state,\n        errors: {\n          registration: payload.response.message\n        }\n      };\n    case FETCH_ORDERS_FAILED:\n      return payload.status === 403 ? {\n        ...state,\n        user: null\n      } : state;\n\n    case SET_LOGIN_REDIRECT:\n      return {\n        ...state,\n        loginRedirect: payload.url\n      };\n    case RESET_LOGIN_REDIRECT:\n      return {\n        ...state,\n        loginRedirect: initialState.loginRedirect\n      };\n\n    case REGISTRATION_COMPLETE:\n      return {\n        ...state,\n        registerConfirmPending: true\n      };\n\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const defaultLocale = 'en';\nexport const defaultCurrency = 'USD';\n\nexport const getLocaleCookieName = (siteName) => {\n  return `crafter-engine-locale-${siteName}`;\n}\n\nexport const getCurrencyCookieName = () => {\n  return 'currency';\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { LOGIN_COMPLETE } from '../actions/usersActions';\nimport {\n  ADD_TO_CART,\n  ADD_TO_CART_COMPLETE,\n  ADD_TO_CART_FAILED,\n  CHANGE_CURRENCY,\n  CHANGE_LOCALE,\n  CHECKOUT_COMPLETE,\n  FACETS_CHANGED,\n  FETCH_CART_COMPLETE,\n  FETCH_PRODUCT,\n  FETCH_PRODUCT_COMPLETE,\n  FETCH_PRODUCT_FAILED,\n  FETCH_PRODUCTS,\n  FETCH_PRODUCTS_COMPLETE,\n  FETCH_PRODUCTS_FAILED,\n  FETCH_SHIPPING_METHODS,\n  FETCH_SHIPPING_METHODS_COMPLETE,\n  FETCH_SHIPPING_METHODS_FAILED,\n  KEYWORDS_CHANGED, REMOVE_FROM_CART,\n  REMOVE_FROM_CART_COMPLETE, SET_STORE_SETTINGS,\n  UPDATE_CART,\n  UPDATE_CART_COMPLETE, UPDATE_CART_FAILED, UPDATE_CART_ITEM_QUANTITY,\n  UPDATE_CART_ITEM_QUANTITY_COMPLETE, UPDATE_CART_ITEM_QUANTITY_FAILED\n} from '../actions/productsActions';\nimport { toLookupTable } from '../../util/array';\nimport { byIdLoadingKey, getRootType, removeProp } from '../../util/redux';\nimport {defaultCurrency, defaultLocale, getCurrencyCookieName, getLocaleCookieName} from \"../../util/locale\";\nimport Cookies from 'js-cookie';\nimport {siteName} from \"../../util/content\";\n\nconst initialState = {\n  byId: null,\n  cart: null,\n  facets: [],\n  loading: {},\n  errors: {},\n  query: {\n    offset: 0,\n    limit: 10,\n    locale: Cookies.get(getLocaleCookieName(siteName)) ?? defaultLocale,\n    currency: Cookies.get(getCurrencyCookieName()) ?? defaultCurrency\n  }\n};\n\nexport default function productReducer(state = initialState, action) {\n  let { root, type, payload } = action;\n  if (root == null) root = getRootType(type);\n  switch (type) {\n\n    case ADD_TO_CART:\n    case UPDATE_CART:\n    case REMOVE_FROM_CART:\n    case UPDATE_CART_ITEM_QUANTITY:\n      return {\n        ...state,\n        errors: removeProp(state.errors, type),\n        loading: {\n          ...state.loading,\n          [type]: true\n        }\n      };\n\n    case CHECKOUT_COMPLETE:\n      return {\n        ...state,\n        cart: null\n      };\n\n    case FETCH_PRODUCTS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_PRODUCTS),\n        loading: {\n          ...state.loading,\n          [FETCH_PRODUCTS]: true\n        },\n        query: payload.query\n          ? {\n            ...state.query,\n            ...payload.query\n          }\n          : state.query\n      };\n\n    case FETCH_PRODUCTS_COMPLETE:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [FETCH_PRODUCTS]: false\n        },\n        query: {\n          ...state.query,\n          total: payload.total\n        },\n        byId: toLookupTable(payload.items),\n        facets: payload.facets\n      };\n\n    case CHANGE_LOCALE:\n    case CHANGE_CURRENCY: {\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          [type === CHANGE_LOCALE ? 'locale' : 'currency']: payload.value\n        }\n      }\n    }\n\n    case SET_STORE_SETTINGS: {\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          ...payload\n        }\n      }\n    }\n\n    case FETCH_PRODUCT:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_PRODUCT),\n        loading: {\n          ...state.loading,\n          [byIdLoadingKey(root, payload.id)]: true\n        }\n      };\n\n    case FETCH_PRODUCT_COMPLETE:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [byIdLoadingKey(root, payload.item.id)]: false\n        },\n        byId: {\n          ...state.byId,\n          [payload.item.id]: payload.item\n        }\n      };\n\n    case LOGIN_COMPLETE:\n      return payload.cart ? {\n        ...state,\n        cart: payload.cart\n      } : state;\n\n    case FETCH_CART_COMPLETE:\n    case UPDATE_CART_COMPLETE:\n    case ADD_TO_CART_COMPLETE:\n    case REMOVE_FROM_CART_COMPLETE:\n    case UPDATE_CART_ITEM_QUANTITY_COMPLETE:\n      return {\n        ...state,\n        cart: payload,\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    case FACETS_CHANGED:\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          ...payload.query\n        }\n      };\n\n    case KEYWORDS_CHANGED:\n      return {\n        ...state,\n        query: {\n          ...state.query,\n          keywords: payload.keywords\n        }\n      };\n\n    case FETCH_SHIPPING_METHODS:\n      return {\n        ...state,\n        errors: removeProp(state.errors, FETCH_SHIPPING_METHODS),\n        loading: {\n          ...state.loading,\n          [FETCH_SHIPPING_METHODS]: true\n        }\n      };\n\n    case FETCH_SHIPPING_METHODS_COMPLETE:\n      return {\n        ...state,\n        shippingMethods: payload,\n        loading: {\n          ...state.loading,\n          [FETCH_SHIPPING_METHODS]: false\n        }\n      };\n\n\n    case ADD_TO_CART_FAILED:\n    case UPDATE_CART_FAILED:\n    case FETCH_PRODUCT_FAILED:\n    case FETCH_PRODUCTS_FAILED:\n    case FETCH_SHIPPING_METHODS_FAILED:\n    case UPDATE_CART_ITEM_QUANTITY_FAILED:\n      return {\n        ...state,\n        errors: {\n          ...state.errors,\n          [root]: payload.message || payload.response.message\n        },\n        loading: {\n          ...state.loading,\n          [root]: false\n        }\n      };\n\n    default:\n      return state;\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { ofType } from 'redux-observable';\nimport {\n  LOGIN,\n  LOGOUT,\n  FETCH_ORDERS,\n  UNAUTHORIZED,\n  SUBMIT_REGISTRATION,\n  fetchOrdersComplete,\n  fetchOrdersFailed,\n  loginComplete,\n  loginFailed,\n  logoutComplete,\n  logoutFailed,\n  submitRegistrationComplete,\n  submitRegistrationFailed,\n  ADD_USER_ADDRESS,\n  addAddressComplete,\n  addAddressFailed,\n  EDIT_USER_ADDRESS,\n  editAddressComplete,\n  editAddressFailed,\n  REMOVE_USER_ADDRESS,\n  removeAddressFailed,\n  removeAddressComplete,\n  SET_USER_ADDRESS_DEFAULTS,\n  setAddressDefaultsComplete,\n  setAddressDefaultsFailed,\n  FETCH_ORDER,\n  fetchOrderFailed,\n  fetchOrderComplete\n} from '../actions/usersActions';\nimport { catchError, ignoreElements, map, switchMap, tap, withLatestFrom } from 'rxjs/operators';\nimport { ajax } from 'rxjs/ajax';\nimport { errorOp, mapOp } from '../../util/redux';\n\nexport function submitRegistrationEpic(action$, state$) {\n  return action$.pipe(\n    ofType(SUBMIT_REGISTRATION),\n    switchMap(() => {\n      const data = state$.value.form.registration.values;\n      return ajax.post(\n        `/api/1/customer/signup.json`,\n        data,\n        {\n          'Content-Type': 'application/json; charset=UTF-8'\n        }\n      ).pipe(\n        catchError((error) => [error])\n      );\n    }),\n    map((response) => {\n      if (response.name === 'AjaxError') {\n        return submitRegistrationFailed(response);\n      } else {\n        return submitRegistrationComplete(response.response);\n      }\n    })\n  );\n}\n\nexport const loginEpic = (action$, state$) => action$.pipe(\n  ofType(LOGIN),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/security/login.json`,\n      payload.data,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(\n      tap(() => setTimeout(() =>\n        payload.redirect &&\n        payload.redirect(state$.value.users.loginRedirect)\n      )),\n      errorOp\n    )\n  ),\n  mapOp(loginComplete, loginFailed)\n);\n\nexport const logoutEpic = (action$) => action$.pipe(\n  ofType(LOGOUT),\n  switchMap(({ payload }) =>\n    ajax\n      .post(`/api/1/security/logout.json`)\n      .pipe(\n        withLatestFrom([payload.redirect]),\n        errorOp\n      )\n  ),\n  map(([response, redirect]) => {\n    if (response.name === 'AjaxError') {\n      return logoutFailed(response);\n    } else {\n      redirect('/');\n      return logoutComplete(response.response);\n    }\n  })\n);\n\nexport const unauthorizedEpic = (action$) => action$.pipe(\n  ofType(UNAUTHORIZED),\n  tap(({ payload }) => payload.redirect('/login')),\n  ignoreElements()\n);\n\nexport const fetchOrdersEpic = (action$) => action$.pipe(\n  ofType(FETCH_ORDERS),\n  switchMap(() => ajax\n    .get(`/api/1/customer/orders.json`)\n    .pipe(errorOp)\n  ),\n  map((response) =>\n    (response.name === 'AjaxError')\n      ? fetchOrdersFailed(response)\n      : fetchOrdersComplete(response.response)\n  )\n);\n\nexport const fetchOrderEpic = (action$) => action$.pipe(\n  ofType(FETCH_ORDER),\n  switchMap(({ payload }) => ajax\n    .get(`/api/1/customer/orders/${payload.id}.json`)\n    .pipe(errorOp)\n  ),\n  mapOp(fetchOrderComplete, fetchOrderFailed)\n);\n\nexport const addUserAddressEpic = (action$) => action$.pipe(\n  ofType(ADD_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { addAddress: [payload.address] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(addAddressComplete, addAddressFailed)\n);\n\nexport const editUserAddressEpic = (action$) => action$.pipe(\n  ofType(EDIT_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { changeAddress: [payload.address] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(editAddressComplete, editAddressFailed)\n);\n\nexport const removeUserAddressEpic = (action$) => action$.pipe(\n  ofType(REMOVE_USER_ADDRESS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      { removeAddress: [{ id: payload.id }] },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(removeAddressComplete, removeAddressFailed)\n);\n\nexport const setAsDefaultAddressEpic = (action$) => action$.pipe(\n  ofType(SET_USER_ADDRESS_DEFAULTS),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/customer/update.json`,\n      {\n        ...payload.address.isBillingDefault ? { defaultBillingAddress: payload.address.id } : {},\n        ...payload.address.isShippingDefault ? { defaultShippingAddress: payload.address.id } : {}\n      },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    )\n  ),\n  mapOp(setAddressDefaultsComplete, setAddressDefaultsFailed)\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { combineEpics } from 'redux-observable';\nimport {\n  addToCartEpic,\n  changeLocaleOrCurrencyEpic,\n  checkoutEpic,\n  facetsChangedEpic,\n  fetchCartEpic,\n  fetchProductEpic,\n  fetchProductsEpic,\n  removeFromCartEpic,\n  updateCartEpic,\n  updateCartItemEpic\n} from './products';\nimport {\n  addUserAddressEpic,\n  editUserAddressEpic,\n  fetchOrderEpic,\n  fetchOrdersEpic,\n  loginEpic,\n  logoutEpic,\n  removeUserAddressEpic,\n  setAsDefaultAddressEpic,\n  unauthorizedEpic\n} from './users';\n\nexport default combineEpics(\n  fetchProductEpic,\n  fetchProductsEpic,\n  fetchCartEpic,\n  addToCartEpic,\n  removeFromCartEpic,\n  updateCartItemEpic,\n  fetchOrdersEpic,\n  loginEpic,\n  logoutEpic,\n  unauthorizedEpic,\n  facetsChangedEpic,\n  addUserAddressEpic,\n  editUserAddressEpic,\n  removeUserAddressEpic,\n  setAsDefaultAddressEpic,\n  updateCartEpic,\n  checkoutEpic,\n  fetchOrderEpic,\n  changeLocaleOrCurrencyEpic\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport {ofType} from 'redux-observable';\nimport {ignoreElements, mapTo, pluck, switchMap, tap, withLatestFrom} from 'rxjs/operators';\nimport {ajax} from 'rxjs/ajax';\n\nimport {\n  ADD_TO_CART,\n  addToCartComplete,\n  addToCartFailed,\n  CHANGE_CURRENCY,\n  CHANGE_LOCALE,\n  CHECKOUT,\n  checkoutComplete,\n  checkoutFailed,\n  FACETS_CHANGED,\n  FETCH_CART,\n  FETCH_PRODUCT,\n  FETCH_PRODUCTS,\n  FETCH_SHIPPING_METHODS,\n  fetchCartComplete,\n  fetchCartFailed,\n  fetchProductComplete,\n  fetchProductFailed,\n  fetchProducts,\n  fetchProductsComplete,\n  fetchProductsFailed,\n  fetchShippingMethodsComplete,\n  fetchShippingMethodsFailed,\n  REMOVE_FROM_CART,\n  removeFromCartComplete,\n  removeFromCartFailed,\n  UPDATE_CART,\n  UPDATE_CART_COMPLETE,\n  UPDATE_CART_ITEM_QUANTITY,\n  updateCartComplete,\n  updateCartFailed,\n  updateCartItemQuantityComplete,\n  updateCartItemQuantityFailed\n} from '../actions/productsActions';\nimport {errorOp, mapOp} from '../../util/redux';\nimport Cookies from \"js-cookie\";\nimport {siteName} from \"../../util/content\";\nimport {getCurrencyCookieName, getLocaleCookieName} from \"../../util/locale\";\n\nexport const fetchProductEpic = (action$, state$) => action$.pipe(\n  ofType(FETCH_PRODUCT),\n  withLatestFrom(state$.pipe(pluck('products'))),\n  switchMap(([{ payload }, state]) =>\n    ajax\n      .get(`/api/1/product/${payload.id}.json?locale=${state.query.locale}&currency=${state.query.currency}`)\n      .pipe(errorOp)\n  ),\n  mapOp(fetchProductComplete, fetchProductFailed)\n);\n\nexport const fetchProductsEpic = (action$, state$) => action$.pipe(\n  ofType(FETCH_PRODUCTS),\n  withLatestFrom(state$.pipe(pluck('products'))),\n  switchMap(([action, state]) => {\n    const { query } = state;\n    const qs = [];\n\n    Object.entries(query).forEach(([key, value]) => {\n      if (key !== 'total' && value != null && value !== '') {\n        if (Array.isArray(value)) {\n          (value.length > 0) && qs.push(`filter=${key}:${value.join(',')}`)\n        } else if (typeof value === 'object') {\n          qs.push(`filter=${key}:${value.min};${value.max}`);\n        } else {\n          qs.push(`${key}=${value}`);\n        }\n      }\n    });\n\n    return ajax\n      .get(`/api/1/product/all.json?${qs.join('&')}`)\n      .pipe(errorOp);\n  }),\n  mapOp(fetchProductsComplete, fetchProductsFailed)\n);\n\nexport const fetchCartEpic = (action$) => action$.pipe(\n  ofType(FETCH_CART),\n  switchMap(() => ajax.get('/api/1/cart/current.json').pipe(errorOp)),\n  mapOp(fetchCartComplete, fetchCartFailed)\n);\n\nexport const addToCartEpic = (action$) => action$.pipe(\n  ofType(ADD_TO_CART),\n  switchMap(\n    ({ payload }) => ajax.post(\n      '/api/1/cart/item/add.json',\n      payload,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(addToCartComplete, addToCartFailed)\n);\n\nexport const updateCartItemEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART_ITEM_QUANTITY),\n  switchMap(\n    ({ payload }) => ajax.post(\n      '/api/1/cart/item/change.json',\n      { itemId: payload.id, quantity: payload.quantity },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(updateCartItemQuantityComplete, updateCartItemQuantityFailed)\n);\n\nexport const updateCartEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART),\n  switchMap(({ payload }) =>\n    ajax.post(\n      '/api/1/cart/update.json',\n      payload,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(updateCartComplete, updateCartFailed)\n);\n\nexport const fetchShippingMethodsEpic = (action$) => action$.pipe(\n  ofType(UPDATE_CART_COMPLETE, FETCH_SHIPPING_METHODS),\n  switchMap(() =>\n    ajax\n      .get('/api/1/cart/shipping-methods.json')\n      .pipe(errorOp)\n  ),\n  mapOp(fetchShippingMethodsComplete, fetchShippingMethodsFailed)\n);\n\nexport const removeFromCartEpic = (action$) => action$.pipe(\n  ofType(REMOVE_FROM_CART),\n  switchMap(({ payload }) =>\n    ajax.post(\n      '/api/1/cart/item/change.json',\n      { itemId: payload.id, quantity: 0 },\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    ).pipe(errorOp)\n  ),\n  mapOp(removeFromCartComplete, removeFromCartFailed)\n);\n\nexport const facetsChangedEpic = (action$) => action$.pipe(\n  ofType(FACETS_CHANGED),\n  mapTo(fetchProducts())\n);\n\nexport const checkoutEpic = (action$) => action$.pipe(\n  ofType(CHECKOUT),\n  switchMap(({ payload }) => ajax\n    .post(\n      `/api/1/cart/checkout.json`,\n      payload.data.card,\n      { 'Content-Type': 'application/json; charset=UTF-8' }\n    )\n    .pipe(\n      tap(({ response }) => payload.redirect(`/account/orders/${response.id}`)),\n      errorOp\n    )\n  ),\n  mapOp(checkoutComplete, checkoutFailed)\n);\n\nexport const changeLocaleOrCurrencyEpic = (action$) => action$.pipe(\n  ofType(CHANGE_LOCALE, CHANGE_CURRENCY),\n  tap((action) => {\n    Cookies.set(action.type === CHANGE_LOCALE ? getLocaleCookieName(siteName) : getCurrencyCookieName(), action.payload.value)\n  }),\n  ignoreElements()\n);\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { combineReducers, createStore, applyMiddleware, compose } from 'redux';\nimport { createEpicMiddleware } from 'redux-observable';\nimport {\n  themeReducer,\n  usersReducer,\n  productsReducer\n} from './reducers';\n\nimport rootEpic from './epics/epics';\nimport { loginComplete, setPersona } from './actions/usersActions';\nimport { setIsAuthoring } from './actions/themeActions';\nimport { setStoreSettings } from './actions/productsActions';\nimport Cookies from 'js-cookie';\nimport {getCurrencyCookieName, getLocaleCookieName} from \"../util/locale\";\nimport {siteName} from \"../util/content\";\n\nconst reducer = combineReducers({\n  theme: themeReducer,\n  users: usersReducer,\n  products: productsReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst epicMiddleware = createEpicMiddleware();\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(\n    applyMiddleware(epicMiddleware)\n  )\n);\n\nconst json = document.getElementById('userJSON').innerHTML;\ntry {\n  const user = JSON.parse(json);\n  user && store.dispatch(loginComplete(user));\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for user JSON.', e.message);\n}\n\nlet persona = null;\ntry {\n  const json = document.getElementById('personaJSON').innerHTML;\n  persona = JSON.parse(json);\n  persona && store.dispatch(setPersona(persona))\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for persona JSON.', e.message);\n}\n\nlet storeSettings = null;\ntry {\n  const json = document.getElementById('storeSettingsJSON').innerHTML;\n  storeSettings = JSON.parse(json);\n  // If cookies are set, use cookies values, otherwise, set first currency/locale match from storeSettingsJSON\n  const locale = Cookies.get(getLocaleCookieName(siteName)) ?? storeSettings.locales[0];\n  const currency = Cookies.get(getCurrencyCookieName()) ?? storeSettings.currencies[0];\n\n  store.dispatch(setStoreSettings({ locale, currency }));\n} catch (e) {\n  (process.env.NODE_ENV === 'development') && console.error('Invalid syntax for store settings JSON.', e.message);\n}\n\n// True if the site is being view via authoring (studio).\n// False if it's the live site.\nconst isAuthoring = ['true']\n  .includes(\n    document\n      .querySelector('html')\n      .getAttribute('data-craftercms-preview')\n  );\n\nif (isAuthoring) {\n  store.dispatch(setIsAuthoring(isAuthoring));\n}\n\nepicMiddleware.run(rootEpic);\n\nexport default store;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { memo, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nfunction ScrollReset(props) {\n  useEffect(\n    () => {\n      window.scrollTo(0, 0);\n    },\n    [props.location.pathname]\n  );\n  return props.children;\n}\n\nexport default memo(withRouter(ScrollReset));\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport resources from './resources';\n\nexport const config = {\n  interpolation: { escapeValue: false }, // React already does escaping\n  lng: 'en',\n  resources,\n};\n\nexport { resources };\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable camelcase */\nimport es from './es/main.json';\nimport en from './en/main.json';\n\nconst resources = {\n  en: { ...en },\n  es: { ...es  }\n};\n\nexport default resources;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport classNames from 'classnames';\nimport { useSelector } from 'react-redux';\n\nfunction MainWrapper(props) {\n  const { children } = props;\n  const theme = useSelector(state => state.theme);\n\n  const wrapperClass = classNames({\n    'wrapper': true,\n    'squared-corner-theme': theme.squaredCorners,\n    'blocks-with-shadow-theme': theme.withBoxShadow,\n    'top-navigation': theme.topNavigation,\n  });\n\n  return (\n    <div className={theme.className}>\n      <div className={wrapperClass}>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default MainWrapper;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { I18nextProvider } from 'react-i18next';\nimport i18next from 'i18next';\nimport Routes from './Routes';\nimport store from '../redux/store';\nimport ScrollReset from './ScrollReset';\nimport { config as i18nextConfig } from '../translations/i18n';\nimport MainWrapper from './MainWrapper';\nimport { GlobalContextProvider } from './shared/context';\nimport { Provider } from 'react-redux';\n\ni18next.init(i18nextConfig);\n\nexport default function App(props) {\n  return (\n    <GlobalContextProvider>\n      <Provider store={store}>\n        <I18nextProvider i18n={i18next}>\n          <BrowserRouter>\n            <ScrollReset>\n              <MainWrapper>\n                <main>\n                  <Routes/>\n                </main>\n              </MainWrapper>\n            </ScrollReset>\n          </BrowserRouter>\n        </I18nextProvider>\n      </Provider>\n    </GlobalContextProvider>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { money } from '../../util/string';\nimport Ratings from 'react-ratings-declarative';\n\nconst saleBadge = `${process.env.PUBLIC_URL}/img/for_store/catalog/sale_lable.png`;\nconst newBadge = `${process.env.PUBLIC_URL}/img/for_store/catalog/new_lable.png`;\n\nexport default function Product(props) {\n\n  let isNew, isSale;\n  const { product } = props;\n  const { id, name, variants, rating } = product || {};\n\n  const colors = variants\n    .filter(variant => variant.attributes.some(a => a.name === 'Color'))\n    .map((variant) =>\n      variant.attributes.find(a => a.name === 'Color').value.toLowerCase()\n    );\n\n  const price = variants[0].price;\n  const oldPrice = price * 2;\n\n  const img = variants[0].images[0];\n\n  const\n    widgetEmptyColors = '#ccc',\n    widgetHoverColors = '#FFCC00',\n    widgetRatedColors = '#FFCC00',\n    widgetDimensions = '20px',\n    widgetSpacings = '5px';\n\n  return (\n    <div className=\"catalog-item\">\n      <Link className=\"catalog-item__link\" to={`/catalog/${id}`}>\n\n        {isNew ? <img className=\"catalog-item__label\" src={newBadge} alt=\"new\"/> : ''}\n        {isSale ? <img className=\"catalog-item__label\" src={saleBadge} alt=\"sale\"/> : ''}\n\n        <div className=\"catalog-item__img-wrap\">\n          <img className=\"catalog-item__img\" src={img.url} alt={img.description}/>\n        </div>\n\n        <div className=\"catalog-item--rating-widget rating-widget\">\n          <section className=\"rating-widget__header\">\n            <div className=\"rating-widget__average\">\n              <div>\n                {\n                  (rating == null) ? 'No reviews yet.' : <>\n                    <Ratings\n                      rating={rating == null ? 0 : rating.average}\n                      widgetEmptyColors={widgetEmptyColors}\n                      widgetHoverColors={widgetHoverColors}\n                      widgetRatedColors={widgetRatedColors}\n                      widgetDimensions={widgetDimensions}\n                      widgetSpacings={widgetSpacings}\n                    >\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                      <Ratings.Widget/>\n                    </Ratings>\n                  </>\n                }\n              </div>\n            </div>\n          </section>\n        </div>\n\n        <div className=\"catalog-item__info\">\n          <h4 className=\"catalog-item__title\">{name}</h4>\n          <em className=\"catalog-item__price\">{money(price, variants[0].currency)}</em>\n          {isSale ? <p className=\"catalog-item__old-price\">${oldPrice}</p> : ''}\n          {\n            colors.map((color, index) => (\n              <span\n                key={index}\n                className=\"catalog-item__color\"\n                style={{ background: color }}\n              />\n            ))\n          }\n        </div>\n\n      </Link>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable max-len */\nimport React from 'react';\nimport {\n  Col,\n  Row,\n  Container,\n  Card,\n  CardBody\n} from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport { usePosts } from '../shared/hooks';\nimport { Field, RenderField } from '@craftercms/experience-builder/react';\n\nfunction BlogTeaser(props) {\n\n  const {\n    title_s,\n  } = props;\n  const posts = usePosts();\n\n  return (\n    <Field component=\"section\" className=\"landing__section\" model={props}>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <RenderField\n              component=\"h3\"\n              model={props}\n              fieldId=\"title_s\"\n              className=\"landing__section-title\"\n            >\n              {title_s}\n            </RenderField>\n          </Col>\n        </Row>\n        <Row className=\"landing__teasers\">\n          {\n            posts &&\n            posts.items.map((post) =>\n              <Col key={post.craftercms.id} lg={4} md={6}>\n                <BlogPostCard {...post}/>\n              </Col>\n            )\n          }\n        </Row>\n      </Container>\n    </Field>\n  );\n}\n\nexport function BlogPostCard(props) {\n  const { slug_s, summary_html_raw, hideSummary } = props;\n  return (\n    <Field component={Link} to={`/blog/${slug_s}`} model={props}>\n      <Card>\n        <CardBody className=\"landing__teaser\">\n          <RenderField\n            component=\"img\"\n            renderTarget=\"src\"\n            className=\"landing__teaser-img\"\n            model={props}\n            fieldId=\"image_s\"\n            alt=\"\"\n          />\n          <RenderField\n            component=\"h3\"\n            model={props}\n            fieldId=\"title_s\"\n            className=\"landing__teaser-title\"\n          />\n          {\n            !hideSummary && summary_html_raw &&\n            <Field\n              component=\"p\"\n              model={props}\n              fieldId=\"summary_html\"\n              className=\"landing__teaser-review\"\n              dangerouslySetInnerHTML={{ __html: summary_html_raw }}\n            />\n          }\n        </CardBody>\n      </Card>\n    </Field>\n  );\n}\n\nexport default BlogTeaser;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { PureComponent } from 'react';\nimport CheckIcon from 'mdi-react/CheckIcon';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function CheckBox(props) {\n\n  const {\n    disabled,\n    className,\n    name,\n    value,\n    onChange,\n    label,\n    color,\n    checked\n  } = props;\n\n  const CheckboxClass = classNames({\n    'checkbox-btn': true,\n    disabled,\n  });\n\n  return (\n    <label\n      className={`${CheckboxClass} ${className ? ` checkbox-btn--${className}` : ''}`}\n      htmlFor={`${name}[${value}]`}\n    >\n      <input\n        className=\"checkbox-btn__checkbox\"\n        type=\"checkbox\"\n        id={`${name}[${value}]`}\n        name={name}\n        onChange={onChange}\n        checked={checked}\n        disabled={disabled}\n        value={value}\n      />\n      <span\n        className=\"checkbox-btn__checkbox-custom\"\n        style={color ? { background: color, borderColor: color } : {}}\n      >\n        <CheckIcon/>\n      </span>\n      {\n        className === 'button'\n          ? (\n            <span className=\"checkbox-btn__label-svg\">\n              <CheckIcon className=\"checkbox-btn__label-check\"/>\n              <CloseIcon className=\"checkbox-btn__label-uncheck\"/>\n            </span>\n          )\n          : (\n            ''\n          )\n      }\n      <span className=\"checkbox-btn__label\">\n        {label}\n      </span>\n    </label>\n  );\n}\n\nclass CheckBoxField extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n    label: PropTypes.string,\n    defaultChecked: PropTypes.bool,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n    color: PropTypes.string,\n  };\n\n  static defaultProps = {\n    label: '',\n    defaultChecked: false,\n    disabled: false,\n    className: '',\n    color: '',\n  };\n\n  componentDidMount() {\n    const { onChange, defaultChecked } = this.props;\n    onChange(defaultChecked);\n  }\n\n  render() {\n    const {\n      disabled, className, name, value, onChange, label, color,\n    } = this.props;\n    const CheckboxClass = classNames({\n      'checkbox-btn': true,\n      disabled,\n    });\n\n    return (\n      <label\n        className={`${CheckboxClass} ${className ? ` checkbox-btn--${className}` : ''}`}\n        htmlFor={name}\n      >\n        <input\n          className=\"checkbox-btn__checkbox\"\n          type=\"checkbox\"\n          id={name}\n          name={name}\n          onChange={onChange}\n          checked={value}\n          disabled={disabled}\n        />\n        <span\n          className=\"checkbox-btn__checkbox-custom\"\n          style={color ? { background: color, borderColor: color } : {}}\n        >\n          <CheckIcon/>\n        </span>\n        {\n          className === 'button'\n            ? (\n              <span className=\"checkbox-btn__label-svg\">\n                <CheckIcon className=\"checkbox-btn__label-check\"/>\n                <CloseIcon className=\"checkbox-btn__label-uncheck\"/>\n              </span>\n            )\n            : (\n              ''\n            )\n        }\n        <span className=\"checkbox-btn__label\">\n          {label}\n        </span>\n      </label>\n    );\n  }\n}\n\nconst renderCheckBoxField = (props) => {\n  const {\n    input, label, defaultChecked, disabled, className, color,\n  } = props;\n  return (\n    <CheckBoxField\n      {...input}\n      label={label}\n      defaultChecked={\n        props.meta.initial != null\n          ? props.meta.initial\n          : defaultChecked\n      }\n      disabled={disabled}\n      className={className}\n      color={color}\n    />\n  );\n};\n\nrenderCheckBoxField.propTypes = {\n  input: PropTypes.shape({\n    onChange: PropTypes.func,\n    name: PropTypes.string,\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.bool,\n    ]),\n  }).isRequired,\n  label: PropTypes.string,\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  color: PropTypes.string,\n};\n\nrenderCheckBoxField.defaultProps = {\n  label: '',\n  defaultChecked: false,\n  disabled: false,\n  className: '',\n  color: '',\n};\n\nexport default renderCheckBoxField;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { PureComponent } from 'react';\nimport CheckIcon from 'mdi-react/CheckIcon';\nimport CloseIcon from 'mdi-react/CloseIcon';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nexport function RadioButton(props) {\n  const {\n    name,\n    label,\n    value,\n    disabled,\n    onChange,\n    className,\n    currentValue\n  } = props;\n  const classes = classNames({\n    disabled,\n    'radio-btn': true,\n    [`radio-btn--${className}`]: !!className\n  });\n  return (\n    <label className={classes}>\n      <input\n        type=\"radio\"\n        name={name}\n        value={value}\n        onChange={onChange}\n        disabled={disabled}\n        checked={value === currentValue}\n        className=\"radio-btn__radio\"\n      />\n      <span className=\"radio-btn__radio-custom\"/>\n      {className === 'button' ? (\n        <span className=\"radio-btn__label-svg\">\n          <CheckIcon className=\"radio-btn__label-check\"/>\n          <CloseIcon className=\"radio-btn__label-uncheck\"/>\n        </span>\n      ) : ''}\n      <span className=\"radio-btn__label\">{label}</span>\n    </label>\n  );\n}\n\nexport class RadioButtonField extends PureComponent {\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    name: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired,\n    label: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    defaultChecked: PropTypes.bool,\n    radioValue: PropTypes.string,\n    disabled: PropTypes.bool,\n    className: PropTypes.string,\n  };\n\n  static defaultProps = {\n    label: '',\n    defaultChecked: false,\n    radioValue: '',\n    disabled: false,\n    className: '',\n  };\n\n  componentDidMount() {\n    const { defaultChecked, onChange, radioValue } = this.props;\n    if (defaultChecked) {\n      onChange(radioValue);\n    }\n  }\n\n  onChange = () => {\n    const { onChange, radioValue } = this.props;\n    onChange(radioValue);\n  };\n\n  render() {\n    const {\n      disabled, className, name, label, radioValue, value,\n    } = this.props;\n    const RadioButtonClass = classNames({\n      'radio-btn': true,\n      disabled,\n    });\n\n    return (\n      <label\n        className={`${RadioButtonClass}${className ? ` radio-btn--${className}` : ''}`}\n      >\n        <input\n          className=\"radio-btn__radio\"\n          name={name}\n          type=\"radio\"\n          onChange={this.onChange}\n          checked={value === radioValue}\n          disabled={disabled}\n        />\n        <span className=\"radio-btn__radio-custom\"/>\n        {className === 'button'\n          ? (\n            <span className=\"radio-btn__label-svg\">\n              <CheckIcon className=\"radio-btn__label-check\"/>\n              <CloseIcon className=\"radio-btn__label-uncheck\"/>\n            </span>\n          ) : ''}\n        <span className=\"radio-btn__label\">{label}</span>\n      </label>\n    );\n  }\n}\n\nconst renderRadioButtonField = (props) => {\n  const {\n    input, label, defaultChecked, disabled, className, radioValue,\n  } = props;\n  return (\n    <RadioButtonField\n      {...input}\n      label={label}\n      defaultChecked={defaultChecked}\n      disabled={disabled}\n      radioValue={radioValue}\n      className={className}\n    />\n  );\n};\n\nrenderRadioButtonField.propTypes = {\n  input: PropTypes.shape({\n    onChange: PropTypes.func,\n    name: PropTypes.string,\n  }).isRequired,\n  label: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  radioValue: PropTypes.string,\n  className: PropTypes.string,\n};\n\nrenderRadioButtonField.defaultProps = {\n  label: '',\n  defaultChecked: false,\n  disabled: false,\n  radioValue: '',\n  className: '',\n};\n\nexport default renderRadioButtonField;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n// language=GraphQL\nconst commonFragments = `\n  fragment byUrlQueryContentItemFields on ContentItem {\n    guid: objectId\n    path: localId(filter: {not: [{equals: $exclude}]})\n    contentTypeId: content__type\n    dateCreated: createdDate_dt\n    dateModified: lastModifiedDate_dt\n    label: internal__name\n  }\n`\n\n// language=GraphQL\nconst main = `\n  ${commonFragments}\n\n  fragment byUrlQueryBlogTeaser on component_blog_teaser {\n    ...byUrlQueryContentItemFields\n    title_s\n  }\n\n  fragment byUrlQueryFeatureList on component_feature__list {\n    ...byUrlQueryContentItemFields\n    closingContent_html\n    closingContent_html_raw\n    features_o {\n      item {\n        description_t\n        title_s\n        icon_s\n      }\n    }\n    openingContent_html\n    openingContent_html_raw\n    title_s\n  }\n\n  fragment byUrlQueryFooter on component_footer {\n    ...byUrlQueryContentItemFields\n    logo_s\n    logo_alt_t\n    logo_url_s\n  }\n\n  fragment byUrlQueryHeader on component_header {\n    ...byUrlQueryContentItemFields\n    logo_s\n    logo_alt_t\n    logo_url_s\n    buttons_o {\n      item {\n        label_s\n        link_s\n      }\n    }\n  }\n\n  fragment byUrlQueryHero on component_hero {\n    ...byUrlQueryContentItemFields\n    title_t\n    content_html\n    content_html_raw\n    buttons_o {\n      item {\n        label_s\n        link_s\n      }\n    }\n    image_s\n    section_background_image_s\n  }\n\n  fragment byUrlQueryPost on component_post {\n    ...byUrlQueryContentItemFields\n  }\n\n  fragment byUrlQueryProductTeaser on component_product__teaser {\n    ...byUrlQueryContentItemFields\n    title_s\n    numOfProducts_i\n  }\n\n  fragment byUrlQueryTestimonials on component_testimonials {\n    ...byUrlQueryContentItemFields\n    title_s\n    testimonials_o {\n      item {\n        customer_s\n        description_html\n        description_html_raw\n        link_s\n        stars_i\n      }\n    }\n  }\n\n  fragment byUrlQueryTwoColumn on component_two__column {\n    ...byUrlQueryContentItemFields\n    image_s\n    title_s\n    content_html\n    content_html_raw\n    contentAlignment_s\n    section_background_image_s\n  }\n\n  fragment byUrlQueryHomepage on page_landing {\n    internal__name\n    sections_o {\n      item {\n        component {\n          internal__name\n          ...on component_blog_teaser {\n            ...byUrlQueryBlogTeaser\n          }\n          ...on component_feature__list {\n            ...byUrlQueryFeatureList\n          }\n          ...on component_footer {\n            ...byUrlQueryFooter\n          }\n          ...on component_header {\n            ...byUrlQueryHeader\n          }\n          ...on component_hero {\n            ...byUrlQueryHero\n          }\n          ...on component_post {\n            ...byUrlQueryPost\n          }\n          ...on component_product__teaser {\n            ...byUrlQueryProductTeaser\n          }\n          ...on component_testimonials {\n            ...byUrlQueryTestimonials\n          }\n          ...on component_two__column {\n            ...byUrlQueryTwoColumn\n          }\n        }\n      }\n    }\n  }\n  \n  query byUrlQuery(\n    $url: String\n    $skipContentType: Boolean = false\n    $exclude: String = \"\"\n  ) {\n    content: contentItems {\n      total\n      items {\n        ...byUrlQueryContentItemFields\n        url: localId(\n          transform: \"storeUrlToRenderUrl\",\n          filter:{ regex: $url }\n        )\n        content__type(\n          filter:{\n            regex: \".*(landing|post|blog_roll|catalog).*\"   # TODO: types!\n          }\n        ) @skip (if: $skipContentType)\n        ...on page_landing {\n          ...byUrlQueryHomepage\n        }\n      }\n    }\n  }\n`\n\n//language=GraphQL\nexport const postsQuery = `\n  ${commonFragments}\n  \n  query postsQuery(\n    $postsLimit: Int = 3\n    $postsOffset: Int = 0\n    $exclude: String = \"\"\n    $slug: String = \".*.*\"\n  ) {\n    post: component_post(\n      limit: $postsLimit\n      offset: $postsOffset\n    ) {\n      total\n      items {\n        ...byUrlQueryContentItemFields\n        slug_s(filter: { regex: $slug })\n        localId\n        title_s\n        image_s\n        author_s\n        subtitle_s\n        content_html_raw\n        summary_html_raw\n        categories_o {\n          item {\n            key\n            value_smv\n          }\n        }\n      }\n    }\n  }\n`\n\n//language=GraphQL\nexport const navQuery = `\n  query Nav {\n    pages(sortBy: \"orderDefault_f\") {\n      items {\n        placeInNav(filter: { equals:true }) @skip(if: true)\n        url: localId(transform: \"storeUrlToRenderUrl\")\n        label: internal__name\n        localId: localId\n      }\n    }\n  }\n`\n\n//language=GraphQL\nexport const footerQuery = `\n  query Footer {\n    component_footer {\n      items {\n        localId\n        objectId\n        logo_s\n        logo_url_s\n        logo_alt_t\n      }\n    }\n  }\n`\n\n//language=GraphQL\nexport const headerQuery = `  \n  query Header {\n    component_header {\n      items {\n        localId\n        objectId\n        logo_s\n        logo_url_s\n        logo_alt_t\n        buttons_o {\n          item {\n            label_s\n            link_s\n          }\n        }\n      }\n    }\n  }\n`\n\n//language=GraphQL\nexport const storeSettingsQuery = `\n  query StoreSettings {\n    store {\n      settings {\n        name\n        locales\n        currencies\n      }\n    }\n  }\n`\n\nexport default main;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { createContext, useContext, useMemo } from 'react';\nimport { isAuthoring } from './utils';\nimport { useSpreadState } from './hooks';\n\nexport const GlobalContext = createContext();\n\nfunction useGlobalContext() {\n  const context = useContext(GlobalContext);\n  if (!context) {\n    throw new Error(`useGlobalContext must be used within a GlobalContextProvider`);\n  }\n  return context;\n}\n\nfunction GlobalContextProvider(props) {\n  const [state, setState] = useSpreadState({\n    isAuthoring: isAuthoring(),\n    locale: 'en',\n    pages: null,\n    pagesLoading: false,\n    theme: 'light'\n  });\n  const value = useMemo(() => [state, setState], [state, setState]);\n  return <GlobalContext.Provider value={value} {...props} />;\n}\n\nexport { GlobalContextProvider, useGlobalContext };\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const FETCH_PRODUCTS = 'FETCH_PRODUCTS';\nexport const FETCH_PRODUCTS_COMPLETE = 'FETCH_PRODUCTS_COMPLETE';\nexport const FETCH_PRODUCTS_FAILED = 'FETCH_PRODUCTS_FAILED';\n\nexport const FETCH_PRODUCT = 'FETCH_PRODUCT';\nexport const FETCH_PRODUCT_COMPLETE = 'FETCH_PRODUCT_COMPLETE';\nexport const FETCH_PRODUCT_FAILED = 'FETCH_PRODUCT_FAILED';\n\nexport const FETCH_CART = 'FETCH_CART';\nexport const FETCH_CART_COMPLETE = 'FETCH_CART_COMPLETE';\nexport const FETCH_CART_FAILED = 'FETCH_CART_FAILED';\n\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const ADD_TO_CART_COMPLETE = 'ADD_TO_CART_COMPLETE';\nexport const ADD_TO_CART_FAILED = 'ADD_TO_CART_FAILED';\n\nexport const UPDATE_CART = 'UPDATE_CART';\nexport const UPDATE_CART_COMPLETE = 'UPDATE_CART_COMPLETE';\nexport const UPDATE_CART_FAILED = 'UPDATE_CART_FAILED';\n\nexport const UPDATE_CART_ITEM_QUANTITY = 'UPDATE_CART_ITEM_QUANTITY';\nexport const UPDATE_CART_ITEM_QUANTITY_COMPLETE = 'UPDATE_CART_ITEM_QUANTITY_COMPLETE';\nexport const UPDATE_CART_ITEM_QUANTITY_FAILED = 'UPDATE_CART_ITEM_QUANTITY_FAILED';\n\nexport const REMOVE_FROM_CART = 'REMOVE_FROM_CART';\nexport const REMOVE_FROM_CART_COMPLETE = 'REMOVE_FROM_CART_COMPLETE';\nexport const REMOVE_FROM_CART_FAILED = 'REMOVE_FROM_CART_FAILED';\n\nexport const FACETS_CHANGED = 'FACETS_CHANGED';\nexport const KEYWORDS_CHANGED = 'KEYWORDS_CHANGED';\n\nexport const FETCH_SHIPPING_METHODS = '';\nexport const FETCH_SHIPPING_METHODS_COMPLETE = 'FETCH_SHIPPING_METHODS_COMPLETE';\nexport const FETCH_SHIPPING_METHODS_FAILED = 'FETCH_SHIPPING_METHODS_FAILED';\n\nexport const CHECKOUT = 'CHECKOUT';\nexport const CHECKOUT_COMPLETE = 'CHECKOUT_COMPLETE';\nexport const CHECKOUT_FAILED = 'CHECKOUT_FAILED';\n\nexport const CHANGE_LOCALE = 'CHANGE_LOCALE';\nexport const CHANGE_CURRENCY = 'CHANGE_CURRENCY';\nexport const SET_STORE_SETTINGS = 'SET_STORE_SETTINGS';\n\nexport function fetchProduct(id) {\n  return {\n    type: FETCH_PRODUCT,\n    payload: { id }\n  };\n}\n\nexport function fetchProductComplete(response) {\n  return {\n    root: FETCH_PRODUCT,\n    type: FETCH_PRODUCT_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchProductFailed(response) {\n  return {\n    root: FETCH_PRODUCT,\n    type: FETCH_PRODUCT_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchProducts(query) {\n  return {\n    type: FETCH_PRODUCTS,\n    payload: { query }\n  };\n}\n\nexport function fetchProductsComplete(response) {\n  return {\n    root: FETCH_PRODUCTS,\n    type: FETCH_PRODUCTS_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchProductsFailed(response) {\n  return {\n    root: FETCH_PRODUCTS,\n    type: FETCH_PRODUCTS_FAILED,\n    payload: response\n  };\n}\n\nexport function fetchCart() {\n  return {\n    type: FETCH_CART\n  };\n}\n\nexport function fetchCartComplete(response) {\n  return {\n    root: FETCH_CART,\n    type: FETCH_CART_COMPLETE,\n    payload: response\n  };\n}\n\nexport function fetchCartFailed(response) {\n  return {\n    root: FETCH_CART,\n    type: FETCH_CART_FAILED,\n    payload: response\n  };\n}\n\nexport function addToCart(cartItem) {\n  return {\n    type: ADD_TO_CART,\n    payload: cartItem\n  };\n}\n\nexport function addToCartComplete(response) {\n  return {\n    root: ADD_TO_CART,\n    type: ADD_TO_CART_COMPLETE,\n    payload: response\n  };\n}\n\nexport function addToCartFailed(response) {\n  return {\n    root: ADD_TO_CART,\n    type: ADD_TO_CART_FAILED,\n    payload: response\n  };\n}\n\nexport function removeFromCart(data) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: data\n  };\n}\n\nexport function removeFromCartComplete(data) {\n  return {\n    root: REMOVE_FROM_CART,\n    type: REMOVE_FROM_CART_COMPLETE,\n    payload: data\n  };\n}\n\nexport function removeFromCartFailed(data) {\n  return {\n    root: REMOVE_FROM_CART,\n    type: REMOVE_FROM_CART_FAILED,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantity(data) {\n  return {\n    type: UPDATE_CART_ITEM_QUANTITY,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantityComplete(data) {\n  return {\n    root: UPDATE_CART_ITEM_QUANTITY,\n    type: UPDATE_CART_ITEM_QUANTITY_COMPLETE,\n    payload: data\n  };\n}\n\nexport function updateCartItemQuantityFailed(data) {\n  return {\n    root: UPDATE_CART_ITEM_QUANTITY,\n    type: UPDATE_CART_ITEM_QUANTITY_FAILED,\n    payload: data\n  };\n}\n\nexport function updateCart(data) {\n  return {\n    type: UPDATE_CART,\n    payload: data\n  };\n}\n\nexport function updateCartComplete(data) {\n  return {\n    root: UPDATE_CART,\n    type: UPDATE_CART_COMPLETE,\n    payload: data\n  };\n}\n\nexport function updateCartFailed(data) {\n  return {\n    root: UPDATE_CART,\n    type: UPDATE_CART_FAILED,\n    payload: data\n  };\n}\n\nexport function facetsChanged(query) {\n  return {\n    type: FACETS_CHANGED,\n    payload: { query }\n  };\n}\n\nexport function keywordsChanged(keywords) {\n  return {\n    type: KEYWORDS_CHANGED,\n    payload: { keywords }\n  };\n}\n\nexport function fetchShippingMethods() {\n  return {\n    type: FETCH_SHIPPING_METHODS\n  };\n}\n\nexport function fetchShippingMethodsComplete(data) {\n  return {\n    root: FETCH_SHIPPING_METHODS,\n    type: FETCH_SHIPPING_METHODS_COMPLETE,\n    payload: data\n  };\n}\n\nexport function fetchShippingMethodsFailed(data) {\n  return {\n    root: FETCH_SHIPPING_METHODS,\n    type: FETCH_SHIPPING_METHODS_FAILED,\n    payload: data\n  };\n}\n\nexport function checkout(data, redirect) {\n  return {\n    type: CHECKOUT,\n    payload: { data, redirect }\n  };\n}\n\nexport function checkoutComplete(data) {\n  return {\n    root: CHECKOUT,\n    type: CHECKOUT_COMPLETE,\n    payload: data\n  };\n}\n\nexport function checkoutFailed(data) {\n  return {\n    root: CHECKOUT,\n    type: CHECKOUT_FAILED,\n    payload: data\n  };\n}\n\nexport function changeLocale(value) {\n  return {\n    type: CHANGE_LOCALE,\n    payload: { value }\n  };\n}\n\nexport function changeCurrency(value) {\n  return {\n    type: CHANGE_CURRENCY,\n    payload: { value }\n  };\n}\n\nexport function setStoreSettings(settings) {\n  return {\n    type: SET_STORE_SETTINGS,\n    payload: settings\n  }\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport Layout from './Layout';\nimport { Container, Row, Col, Card } from 'reactstrap';\nimport { BlogPostCard } from './BlogTeaser';\nimport Spinner from '../shared/Spinner';\nimport { Empty } from '../shared/Empty';\nimport * as qs from 'query-string';\nimport KeyboardArrowLeftIcon from 'mdi-react/KeyboardArrowLeftIcon';\nimport { Link } from 'react-router-dom';\nimport { useCategories, usePosts } from '../shared/hooks';\n\nexport default function BlogRoll(props) {\n  const {\n    model\n  } = props;\n\n  const selectedCategory = qs.parse(props.location.search).category;\n  const [postsFiltered, setPostsFiltered] = useState();\n  const [paginationData] = useState({\n    itemsPerPage: 500,\n    currentPage: 0\n  });\n  const posts = usePosts(paginationData);\n  const categories = useCategories();\n\n  useEffect(() => {\n    if (posts) {\n      setPostsFiltered(\n        selectedCategory\n          ? posts.items.filter(\n          ({categories_o}) => categories_o.some(i => i.key === selectedCategory)\n          )\n          : posts.items\n      );\n    }\n  }, [posts, selectedCategory]);\n\n  if (!model) {\n    return (\n      <Layout>\n        <Container>\n          <Row>\n            <Col md={12}>\n              <Spinner contained/>\n            </Col>\n          </Row>\n        </Container>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <Container>\n        <Row>\n          <Col md={12}>\n            <h1 className=\"page-title\">{ model && model.craftercms.label}</h1>\n          </Col>\n          <Col md={9}>\n            <Row>\n              {\n                postsFiltered && postsFiltered.length === 0 && <Col sm={12}>\n                  <Card style={{ background: '#fff' }}>\n                    <Empty description=\"There are no posts at this time. Please check back often :)\"/>\n                  </Card>\n                </Col>\n              }\n              {\n                postsFiltered && postsFiltered.map((post) =>\n                  <Col key={post.craftercms.id} xl={4} lg={6}>\n                    <BlogPostCard {...post} hideSummary/>\n                  </Col>\n                )\n              }\n            </Row>\n          </Col>\n          <Col md={3}>\n            <CategoryListing\n              categories={categories}\n              selected={selectedCategory}\n            />\n          </Col>\n        </Row>\n      </Container>\n    </Layout>\n  );\n}\n\nexport function CategoryListing(props) {\n  const { categories, selected } = props;\n  return (\n    categories && categories.length > 0 ? <div className=\"blog__sidebar-bar-block\">\n      <h2 className=\"blog__side-bar-title\">Categories</h2>\n      <nav className=\"blog__side-bar-list\">\n        {\n          selected\n            ? <>\n              <div>Viewing `{categories.find(({key}) => key === selected).value}`</div>\n              <Link to={`/blog`}>\n                <KeyboardArrowLeftIcon/> clear\n              </Link>\n            </>\n            : categories.map(({ key, value }) =>\n              <Link\n                key={key}\n                to={`/blog?category=${key}`}\n                className=\"blog__side-bar-item\"\n              >\n                {value}\n              </Link>\n            )\n        }\n      </nav>\n    </div> : <></>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/burger.db67016f.svg\";","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useState } from 'react';\nimport {\n  Col,\n  Container,\n  Popover,\n  PopoverBody,\n  Row,\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from 'reactstrap';\nimport Anchor from '../shared/Anchor';\nimport { Link, useHistory } from 'react-router-dom';\nimport SearchIcon from 'mdi-react/SearchIcon';\nimport PersonCircleOutlineIcon from 'mdi-react/PersonCircleOutlineIcon';\nimport ShoppingCartIcon from 'mdi-react/ShoppingCartIcon';\nimport hamburger  from '../../img/burger.svg';\nimport Flag from 'react-world-flags';\nimport { changeCurrency, changeLocale } from '../../redux/actions/productsActions';\nimport { useHeader, useNavigation, useStoreSettings } from '../shared/hooks';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst FlagCodeMap = {\n  de: 'de',\n  en: 'us',\n  en_us: 'us'\n};\n\nexport default function Header() {\n\n  const dispatch = useDispatch();\n  const {\n    query: { locale, currency }\n  } = useSelector(state =>  state.products);\n\n  const [localesOpen, setLocalesOpen] = useState(false);\n  const [currenciesOpen, setCurrenciesOpen] = useState(false);\n\n  const history = useHistory();\n  const { users, products } = useSelector(state => state);\n  const { query } = products;\n  const [searchOpen, setSearchOpen] = useState(false);\n  const [keywords, setKeywords] = useState(query.keywords || '');\n\n  const { user } = users;\n\n  const header = useHeader();\n  const nav = useNavigation();\n  const storeSettings = useStoreSettings();\n\n  return (\n    <div className=\"landing__menu\">\n      <Container>\n        <Row>\n          <Col md={12}>\n            <div className=\"landing__menu-wrap\">\n              {\n                header &&\n                <Anchor className=\"landing__menu-logo\" href={header.logo_url_s}>\n                  <img src={header.logo_s} alt={header.logo_alt_t}/> <span className=\"landing__store-name\">{storeSettings && storeSettings.name}</span>\n                </Anchor>\n              }\n\n              <button\n                type=\"button\"\n                className=\"landing__menu-deployer\"\n                onClick={() => {\n                  const nav = document.querySelector('.landing__menu-nav');\n                  if (nav.classList.contains('open')) {\n                    nav.classList.remove('open');\n                  } else {\n                    nav.classList.add('open');\n                  }\n                }}\n              >\n                <img src={hamburger} alt=\"Open Menu\"/>\n              </button>\n              <nav className=\"landing__menu-nav\">\n                {\n                  nav && nav.map((item, index) =>\n                    <Anchor\n                      key={index}\n                      className=\"landing__menu-nav__item\"\n                      href={item.url}\n                    >\n                      {item.label}\n                    </Anchor>\n                  )\n                }\n                <Link\n                  to=\"/cart\"\n                  className=\"landing__menu-nav__item\"\n                  onClick={() => void null}\n                >\n                  <ShoppingCartIcon/>\n                </Link>\n                <button\n                  id=\"headerSearchButton\"\n                  className=\"landing__menu-nav__item\"\n                  onClick={() => {\n                    setSearchOpen(true);\n                    setTimeout(() => {\n                      try {\n                        document.getElementById('globalSearchInput').focus()\n                      } catch(e) {\n\n                      }\n                    })\n                  }}\n                >\n                  <SearchIcon/>\n                </button>\n                {\n                  (user == null)\n                    ? (\n                      <Link className=\"landing__btn\" to=\"/login\">\n                        Sign In\n                      </Link>\n                    ) : (\n                      <Link className=\"landing__menu-nav__item\" to=\"/account\">\n                        <PersonCircleOutlineIcon/>\n                      </Link>\n                    )\n                }\n                <Dropdown className=\"landing__header-locale-dropdown\" isOpen={localesOpen} toggle={() => setLocalesOpen(!localesOpen)}>\n                  <DropdownToggle caret>\n                    {FlagCodeMap[locale] ? <Flag code={FlagCodeMap[locale]}/> : locale}\n                  </DropdownToggle>\n                  {\n                    storeSettings &&\n                    <DropdownMenu>\n                      {\n                        (storeSettings.locales || []).map((code) => (\n                          <DropdownItem key={code} onClick={() => dispatch(changeLocale(code))}>\n                            {FlagCodeMap[code] ? <Flag code={FlagCodeMap[code]}/> : code}\n                          </DropdownItem>\n                        ))\n                      }\n                    </DropdownMenu>\n                  }\n                </Dropdown>\n                <Dropdown className=\"landing__header-currency-dropdown\" isOpen={currenciesOpen} toggle={() => setCurrenciesOpen(!currenciesOpen)}>\n                  <DropdownToggle caret>\n                    {currency}\n                  </DropdownToggle>\n                  {\n                    storeSettings &&\n                    <DropdownMenu>\n                      {\n                        (storeSettings.currencies || []).map((code) => (\n                          <DropdownItem key={code} onClick={() => dispatch(changeCurrency(code))}>{code}</DropdownItem>\n                        ))\n                      }\n                    </DropdownMenu>\n                  }\n                </Dropdown>\n              </nav>\n            </div>\n          </Col>\n        </Row>\n      </Container>\n      <Popover\n        placement=\"bottom\"\n        target=\"headerSearchButton\"\n        isOpen={searchOpen}\n        toggle={() => setSearchOpen(false)}\n      >\n        <PopoverBody className=\"theme-light\">\n          <div className=\"form\">\n            <div className=\"form__form-group-field\">\n              <div className=\"form__form-group-icon\">\n                <SearchIcon/>\n              </div>\n              <input\n                id=\"globalSearchInput\"\n                type=\"text\"\n                name=\"keywords\"\n                value={keywords}\n                onChange={(e) => setKeywords(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && history.push(`/search?q=${e.target.value}`)}\n                placeholder=\"Search...\"\n              />\n            </div>\n          </div>\n        </PopoverBody>\n      </Popover>\n    </div>\n  );\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { useState } from 'react';\nimport { Col, Row, Container, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport Anchor from \"../shared/Anchor\";\nimport Flag from 'react-world-flags';\nimport { changeCurrency, changeLocale } from '../../redux/actions/productsActions';\nimport { useFooter, useStoreSettings } from '../shared/hooks';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst FlagCodeMap = {\n  de: 'de',\n  en: 'us',\n  en_us: 'us'\n};\n\nfunction Footer(props){\n  const dispatch = useDispatch();\n  const footer = useFooter();\n  const storeSettings = useStoreSettings();\n  const {\n    query: { locale, currency }\n  } = useSelector(state => state.products);\n\n  const [localesOpen, setLocalesOpen] = useState(false);\n\n  const [currenciesOpen, setCurrenciesOpen] = useState(false);\n\n  return (\n    <footer className=\"landing__footer\">\n      {\n        footer &&\n        footer.section_background_image_s &&\n        <img className=\"landing__footer-background\" src={footer.section_background_image_s} alt=\"\" />\n      }\n      <Container>\n        <Row>\n          <Col md={12}>\n            <Dropdown className=\"landing__footer-locale-dropdown\" direction=\"up\" isOpen={localesOpen} toggle={() => setLocalesOpen(!localesOpen)}>\n              <DropdownToggle caret>\n                {FlagCodeMap[locale] ? <Flag code={FlagCodeMap[locale]}/> : locale}\n              </DropdownToggle>\n              {\n                storeSettings &&\n                <DropdownMenu>\n                  {\n                    (storeSettings.locales || []).map((code) => (\n                      <DropdownItem key={code} onClick={() => dispatch(changeLocale(code))}>\n                        {FlagCodeMap[code] ? <Flag code={FlagCodeMap[code]}/> : code}\n                      </DropdownItem>\n                    ))\n                  }\n                </DropdownMenu>\n              }\n            </Dropdown>\n            <Dropdown className=\"landing__footer-currency-dropdown\" direction=\"up\" isOpen={currenciesOpen} toggle={() => setCurrenciesOpen(!currenciesOpen)}>\n              <DropdownToggle caret>\n                {currency}\n              </DropdownToggle>\n              {\n                storeSettings &&\n                <DropdownMenu>\n                  {\n                    (storeSettings.currencies || []).map((code) => (\n                      <DropdownItem key={code} onClick={() => dispatch(changeCurrency(code))}>{code}</DropdownItem>\n                    ))\n                  }\n                </DropdownMenu>\n              }\n            </Dropdown>\n          </Col>\n          <Col md={12}>\n            <p>Powered By</p>\n            {\n              footer &&\n              <Anchor href={footer.logo_url_s}>\n                <img className=\"landing__footer-logo\" src={footer.logo_s} alt={footer.logo_alt_t}/>\n              </Anchor>\n            }\n          </Col>\n          <Col md={12}>\n             {storeSettings && storeSettings.name} {new Date().getFullYear()}\n          </Col>\n        </Row>\n      </Container>\n    </footer>\n  );\n\n\n\n}\n\nexport default Footer;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React  from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\n\nexport function Layout({ children, className = [] }) {\n  return (\n    <div className={`landing ${className}`}>\n      <Header/>\n      <div className=\"landing__content-wrapper\">\n        {\n          React.Children.map(children, (child) => {\n              return React.cloneElement(child)\n            })\n        }\n      </div>\n      <Footer/>\n    </div>\n  );\n}\n\nLayout.defaultProps = {\n  className: ''\n};\n\nexport default Layout;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { useCallback, useEffect, useReducer, useRef, useState } from 'react';\nimport { fetchQuery } from '../../util/content';\nimport {\n  footerQuery,\n  headerQuery,\n  navQuery,\n  postsQuery,\n  storeSettingsQuery\n} from './queries.graphql';\nimport { parseDescriptor, preParseSearchResults } from '@craftercms/content';\nimport { useGlobalContext } from './context';\nimport { useLocation } from 'react-router-dom';\nimport { parse } from 'query-string';\nimport { crafterConfig, createResource } from './utils';\nimport { createQuery, search } from '@craftercms/search';\nimport { map } from 'rxjs/operators';\n\nconst defaultPaginationData = {\n  itemsPerPage: 3,\n  currentPage: 0\n};\n\nexport const neverResource = createResource(() => new Promise(() => void 0));\n\nconst reducer = (state, nextState) => {\n  return { ...state, ...nextState };\n};\n\nexport function useSpreadState(initializerArg, initializer) {\n  return useReducer(reducer, initializerArg, initializer);\n}\n\nexport function usePosts(paginationData = defaultPaginationData, slug) {\n  const [posts, setPosts] = useState();\n\n  useEffect(() => {\n    fetchQuery(\n      { text: postsQuery },\n      {\n        postsLimit: paginationData.itemsPerPage,\n        postsOffset: (paginationData.currentPage * paginationData.itemsPerPage),\n        slug\n      }\n    ).then(({ data }) => {\n      setPosts({\n        items: parseDescriptor(data.post.items),\n        total: data.post.total,\n        pageCount: Math.ceil(data.post.total/paginationData.itemsPerPage)\n      });\n    });\n  }, [paginationData, slug]);\n\n  return posts;\n}\n\nexport function useCategories() {\n  const [{ categories, categoriesLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!categories && !categoriesLoading) {\n      update({ categoriesLoading: true });\n      fetchQuery({\n        text: `\n          query Blog {\n            categories: taxonomy {\n              items {\n                file__name(filter:{matches:\"category.xml\"})\n                items {\n                  item {\n                    key\n                    value\n                  }\n                }\n              }\n            }\n          }\n        `\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ categories: parseDescriptor(data.categories.items)[0].items.item });\n      });\n    }\n  }, [update, categories, categoriesLoading]);\n\n  return categories;\n}\n\nexport function useSearchQuery() {\n  const { search } = useLocation();\n  const [query, setQuery] = useState(() => parse(search).q ?? '');\n  const [page, setPage] = useState(() => parse(search).p ?? 0);\n  const onChange = useCallback((e) => setQuery(e.target.value), []);\n  useEffect(() => {\n    setQuery(parse(search).q ?? '');\n    setPage(parse(search).p ?? 0);\n  }, [search]);\n\n  return [query, onChange, setQuery, page];\n}\n\nconst contentTypes = ['/component/post'];\nexport function useUrlSearchQueryFetchResource(size = 1) {\n  const [query, , , page] = useSearchQuery();\n  const [resource, setResource] = useState(neverResource);\n\n  useEffect(() => {\n    setResource(createResource(\n      () => search(\n        createQuery({\n          query: {\n            'bool': {\n              'filter': [\n                { 'bool': { 'should': contentTypes.map(id => ({ 'match': { 'content-type': id } })) } },\n                {\n                  'multi_match': {\n                    'query': query,\n                    'type': 'phrase_prefix'\n                  }\n                },\n              ]\n            }\n          },\n          size,\n          from: page\n        }),\n        crafterConfig\n      ).pipe(\n        map(({ hits, ...rest }) => {\n          const counted = {};\n          const parsedHits = hits.map(({ _source }) => parseDescriptor(\n            preParseSearchResults(_source)\n          )).filter((content) => {\n            if (content.craftercms.id in counted) {\n              return false;\n            } else {\n              counted[content.craftercms.id] = true;\n              return true;\n            }\n          });\n          return { ...rest, hits: parsedHits };\n        })\n      ).toPromise()\n    ))\n  }, [query, page, size]);\n  return resource;\n}\n\nexport function useNavigation() {\n  const [{ pages, pagesLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    }\n  }, []);\n  useEffect(() => {\n    if (!pages && !pagesLoading) {\n      update({ pagesLoading: true });\n      fetchQuery({\n        text: navQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ pages: data.pages.items });\n      })\n    }\n  }, [update, pages, pagesLoading]);\n  return pages;\n}\n\nexport function useHeader() {\n  const [{ header, headerLoading}, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    }\n  }, []);\n  useEffect(() => {\n    if (!header && !headerLoading) {\n      update({ headerLoading: true });\n      fetchQuery({\n        text: headerQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ header: data.component_header.items[0]});\n      })\n    }\n  }, [update, header, headerLoading]);\n  return header;\n}\n\nexport function useFooter() {\n  const [{ footer, footerLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    }\n  }, []);\n  useEffect(() => {\n    if (!footer && !footerLoading) {\n      update({ footerLoading: true });\n      fetchQuery({\n        text: footerQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ footer: data.component_footer.items[0] });\n      })\n    }\n  }, [update, footer, footerLoading]);\n  return footer;\n}\n\nexport function useStoreSettings() {\n  const [{ storeSettings, storeSettingsLoading }, update] = useGlobalContext();\n  const destroyedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      destroyedRef.current = true;\n    }\n  }, []);\n  useEffect(() => {\n    if(!storeSettings && !storeSettingsLoading) {\n      update({ storeSettingsLoading: true });\n      fetchQuery({\n        text: storeSettingsQuery\n      }).then(({ data }) => {\n        (!destroyedRef.current) && update({ storeSettings: data.store.settings });\n      });\n    }\n  }, [update, storeSettings, storeSettingsLoading]);\n  return storeSettings;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nexport const Currencies = {\n  USD: '$',\n  EUR: ''\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { Currencies } from './constants';\n\nexport function capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.substring(1).toLowerCase();\n}\n\nexport function money(amount, currency) {\n  return amount == null ? '' : `${Currencies[currency] || currency || ''}${parseFloat(amount).toFixed(2)}`;\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React, { PureComponent } from 'react';\nimport { Alert as AlertReactstrap } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport InformationOutlineIcon from 'mdi-react/InformationOutlineIcon';\nimport ThumbUpOutlineIcon from 'mdi-react/ThumbUpOutlineIcon';\nimport CommentAlertOutlineIcon from 'mdi-react/CommentAlertOutlineIcon';\nimport CloseCircleOutlineIcon from 'mdi-react/CloseCircleOutlineIcon';\n\nclass Alert extends PureComponent {\n  static propTypes = {\n    color: PropTypes.string,\n    icon: PropTypes.bool,\n    className: PropTypes.string,\n    children: PropTypes.element.isRequired,\n  };\n\n  static defaultProps = {\n    color: '',\n    icon: false,\n    className: '',\n    dismiss: true,\n    onDismiss: () => void null\n  };\n\n  constructor() {\n    super();\n\n    this.state = {\n      visible: true,\n    };\n  }\n\n  onShow = () => {\n    this.setState({ visible: true });\n  };\n\n  onDismiss = () => {\n    this.setState({ visible: false });\n    this.props.onDismiss()\n  };\n\n  render() {\n    const { visible } = this.state;\n\n    const {\n      color,\n      className,\n      icon,\n      children,\n      dismiss\n    } = this.props;\n    let Icon;\n\n    switch (color) {\n      case 'info':\n        Icon = <InformationOutlineIcon />;\n        break;\n      case 'success':\n        Icon = <ThumbUpOutlineIcon />;\n        break;\n      case 'warning':\n        Icon = <CommentAlertOutlineIcon />;\n        break;\n      case 'danger':\n        Icon = <CloseCircleOutlineIcon />;\n        break;\n      default:\n        break;\n    }\n\n    if (visible) {\n      return (\n        <AlertReactstrap color={color} className={className} isOpen={visible}>\n          {icon && <div className=\"alert__icon\">{Icon}</div>}\n          {dismiss && <button className=\"close\" type=\"button\" onClick={this.onDismiss}><span className=\"lnr lnr-cross\" /></button>}\n          <div className=\"alert__content\">\n            {children}\n          </div>\n        </AlertReactstrap>\n      );\n    }\n\n    return null;\n\n  }\n}\n\nexport default Alert;\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from 'react';\n\n// var defaultEmptyImg = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTg0IiBoZWlnaHQ9IjE1MiIgdmlld0JveD0iMCAwIDE4NCAxNTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDMxLjY3KSI+CiAgICAgIDxlbGxpcHNlIGZpbGwtb3BhY2l0eT0iLjgiIGZpbGw9IiNGNUY1RjciIGN4PSI2Ny43OTciIGN5PSIxMDYuODkiIHJ4PSI2Ny43OTciIHJ5PSIxMi42NjgiLz4KICAgICAgPHBhdGggZD0iTTEyMi4wMzQgNjkuNjc0TDk4LjEwOSA0MC4yMjljLTEuMTQ4LTEuMzg2LTIuODI2LTIuMjI1LTQuNTkzLTIuMjI1aC01MS40NGMtMS43NjYgMC0zLjQ0NC44MzktNC41OTIgMi4yMjVMMTMuNTYgNjkuNjc0djE1LjM4M2gxMDguNDc1VjY5LjY3NHoiIGZpbGw9IiNBRUI4QzIiLz4KICAgICAgPHBhdGggZD0iTTEwMS41MzcgODYuMjE0TDgwLjYzIDYxLjEwMmMtMS4wMDEtMS4yMDctMi41MDctMS44NjctNC4wNDgtMS44NjdIMzEuNzI0Yy0xLjU0IDAtMy4wNDcuNjYtNC4wNDggMS44NjdMNi43NjkgODYuMjE0djEzLjc5Mmg5NC43NjhWODYuMjE0eiIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMuNTYpIi8+CiAgICAgIDxwYXRoIGQ9Ik0zMy44MyAwaDY3LjkzM2E0IDQgMCAwIDEgNCA0djkzLjM0NGE0IDQgMCAwIDEtNCA0SDMzLjgzYTQgNCAwIDAgMS00LTRWNGE0IDQgMCAwIDEgNC00eiIgZmlsbD0iI0Y1RjVGNyIvPgogICAgICA8cGF0aCBkPSJNNDIuNjc4IDkuOTUzaDUwLjIzN2EyIDIgMCAwIDEgMiAyVjM2LjkxYTIgMiAwIDAgMS0yIDJINDIuNjc4YTIgMiAwIDAgMS0yLTJWMTEuOTUzYTIgMiAwIDAgMSAyLTJ6TTQyLjk0IDQ5Ljc2N2g0OS43MTNhMi4yNjIgMi4yNjIgMCAxIDEgMCA0LjUyNEg0Mi45NGEyLjI2MiAyLjI2MiAwIDAgMSAwLTQuNTI0ek00Mi45NCA2MS41M2g0OS43MTNhMi4yNjIgMi4yNjIgMCAxIDEgMCA0LjUyNUg0Mi45NGEyLjI2MiAyLjI2MiAwIDAgMSAwLTQuNTI1ek0xMjEuODEzIDEwNS4wMzJjLS43NzUgMy4wNzEtMy40OTcgNS4zNi02LjczNSA1LjM2SDIwLjUxNWMtMy4yMzggMC01Ljk2LTIuMjktNi43MzQtNS4zNmE3LjMwOSA3LjMwOSAwIDAgMS0uMjIyLTEuNzlWNjkuNjc1aDI2LjMxOGMyLjkwNyAwIDUuMjUgMi40NDggNS4yNSA1LjQydi4wNGMwIDIuOTcxIDIuMzcgNS4zNyA1LjI3NyA1LjM3aDM0Ljc4NWMyLjkwNyAwIDUuMjc3LTIuNDIxIDUuMjc3LTUuMzkzVjc1LjFjMC0yLjk3MiAyLjM0My01LjQyNiA1LjI1LTUuNDI2aDI2LjMxOHYzMy41NjljMCAuNjE3LS4wNzcgMS4yMTYtLjIyMSAxLjc4OXoiIGZpbGw9IiNEQ0UwRTYiLz4KICAgIDwvZz4KICAgIDxwYXRoIGQ9Ik0xNDkuMTIxIDMzLjI5MmwtNi44MyAyLjY1YTEgMSAwIDAgMS0xLjMxNy0xLjIzbDEuOTM3LTYuMjA3Yy0yLjU4OS0yLjk0NC00LjEwOS02LjUzNC00LjEwOS0xMC40MDhDMTM4LjgwMiA4LjEwMiAxNDguOTIgMCAxNjEuNDAyIDAgMTczLjg4MSAwIDE4NCA4LjEwMiAxODQgMTguMDk3YzAgOS45OTUtMTAuMTE4IDE4LjA5Ny0yMi41OTkgMTguMDk3LTQuNTI4IDAtOC43NDQtMS4wNjYtMTIuMjgtMi45MDJ6IiBmaWxsPSIjRENFMEU2Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDkuNjUgMTUuMzgzKSIgZmlsbD0iI0ZGRiI+CiAgICAgIDxlbGxpcHNlIGN4PSIyMC42NTQiIGN5PSIzLjE2NyIgcng9IjIuODQ5IiByeT0iMi44MTUiLz4KICAgICAgPHBhdGggZD0iTTUuNjk4IDUuNjNIMEwyLjg5OC43MDR6TTkuMjU5LjcwNGg0Ljk4NVY1LjYzSDkuMjU5eiIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==\";\n// var simpleEmptyImg = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K\";\n\nconst img = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQiIGhlaWdodD0iNDEiIHZpZXdCb3g9IjAgMCA2NCA0MSIgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxKSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgIDxlbGxpcHNlIGZpbGw9IiNGNUY1RjUiIGN4PSIzMiIgY3k9IjMzIiByeD0iMzIiIHJ5PSI3Ii8+CiAgICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI0Q5RDlEOSI+CiAgICAgIDxwYXRoIGQ9Ik01NSAxMi43Nkw0NC44NTQgMS4yNThDNDQuMzY3LjQ3NCA0My42NTYgMCA0Mi45MDcgMEgyMS4wOTNjLS43NDkgMC0xLjQ2LjQ3NC0xLjk0NyAxLjI1N0w5IDEyLjc2MVYyMmg0NnYtOS4yNHoiLz4KICAgICAgPHBhdGggZD0iTTQxLjYxMyAxNS45MzFjMC0xLjYwNS45OTQtMi45MyAyLjIyNy0yLjkzMUg1NXYxOC4xMzdDNTUgMzMuMjYgNTMuNjggMzUgNTIuMDUgMzVoLTQwLjFDMTAuMzIgMzUgOSAzMy4yNTkgOSAzMS4xMzdWMTNoMTEuMTZjMS4yMzMgMCAyLjIyNyAxLjMyMyAyLjIyNyAyLjkyOHYuMDIyYzAgMS42MDUgMS4wMDUgMi45MDEgMi4yMzcgMi45MDFoMTQuNzUyYzEuMjMyIDAgMi4yMzctMS4zMDggMi4yMzctMi45MTN2LS4wMDd6IiBmaWxsPSIjRkFGQUZBIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K';\n\nexport function Empty(props) {\n  return (\n    <section className=\"empty\">\n      <figure className=\"empty__fig\">\n        <img className=\"empty__img\" src={img} alt=\"\"/>\n      </figure>\n      {\n        props.description &&\n        <p className=\"empty__desc\">\n          {props.description}\n        </p>\n      }\n    </section>\n  )\n}\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Anchor(props) {\n\n  const { href, autoTarget } = props;\n\n  // eslint-disable-next-line\n  const isExternal = !!['http:', 'https:', 'javascript:'].find((protocol) => href.includes(protocol));\n  const Component = isExternal ? 'a' : Link;\n\n  const resultProps = {\n    ...(\n      isExternal\n        ? { href: href }\n        : { to: href }\n    ),\n    ...(\n      autoTarget && isExternal\n        ? { target: \"_blank\" }\n        : {}\n    ),\n    ...props\n  };\n\n  !isExternal && delete resultProps.href;\n  delete resultProps.autoTarget;\n\n  return (\n    <Component {...resultProps}>\n      {props.children}\n    </Component>\n  );\n\n}\n\nAnchor.defaultProps = {\n  // eslint-disable-next-line\n  href: 'javascript:',\n  autoTarget: true\n};\n","/*\n * MIT License\n *\n * Copyright (c) 2022 Crafter Software Corporation. All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport Cookies from 'js-cookie';\n\nexport const siteName =\n  document.getElementById('2fb5164e').innerHTML ||\n  process.env.REACT_APP_SITE_ID ||\n  Cookies.get('crafterSite');\nif (!siteName) {\n  throw new Error('Site not set.');\n}\n\nlet graphqlServer = process.env.REACT_APP_GRAPHQL_SERVER;\nif (!graphqlServer.includes(siteName)) {\n  graphqlServer += `?crafterSite=${siteName}`;\n}\n\nexport function fetchQuery(\n  operation,\n  variables\n) {\n  return fetch(graphqlServer, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      query: operation.text,\n      variables\n    })\n  }).then(response => response.json());\n}\n"],"sourceRoot":""}